/*! zaz-ui-webmail - v1.0.50 - 07/08/2024 -- 5:52pm */
zaz.use(function(pkg){"use strict";var dicFactory;pkg.factoryManager.get("dict").create({name:"webmail",version:"1.0.0",state:"ok",extends:[],langs:{en:{mailSample:"user@domain.com",new_folder:"Create new folder",folder_name_placeholder:"folder name"},es:{mailSample:"usuario@dominio.com",redirectDelete:"se borrado con éxito",redirectErrorDelete:"no se pudo borrar",redir_para:"Redireccionar mensajes a",new_folder:"Crear nueva carpeta",folder_name_placeholder:"nombre de carpeta",create_new_folder:"Crear",folders:"carpetas",actions:"acciones",read_count:"total / ",unread_count:"no leídas",whitelist_title:"Lista de e-mails/dominios autorizados para recepción",blacklist_title:"Lista de e-mail/dominio para marcar como spam",included_by:"añadida por",email:"E-mail",domain:"dominio",add:"añadir",spam_report:"Resumen Diario",spam_report_desc:"Recibir resumen de los e-mails clasificados como SPAM",move_to_spam:"Mover SPAMs para la carpeta SPAM",move_to_spam_desc:"Deshabilite si está utilizando redirección",superbloqueio:"Superbloqueo de mensajes",superbloqueio_desc:"Bloque mensajes que no son aceptados en la lista Manual",field:"campo",fields:"Campos",restriction:"restricción",doesnt_contain:"No contiene",equal_to:"Igual a",different_from:"Diferente de",case_sensitive:"Diferenciar maiúsculas",keyword:"Palabra clave","palavra-chave":"palabra-clave",status:"estado",ativar_filtros:"Activar filtros",new:"nuevo",activate:"activar",disable:"desactivar",new_filter:"nuevo filtro",filterError:"Erro al guardar filtro",cancel:"cancelar",nickname_input_description:'Puede crear / cambiar el apodo de su buzón de correo mediante el siguiente formulario.Use 3 a 20 caracteres (letras o números) para el apodo del buzón. Usted puede utilizar letras, números, "." y "_".',subject_desc:"Poner aquí el asunto del mensaje de respuesta.",conteudo:"Contenido",conteudo_desc:"Este es el contenido del mensaje de respuesta.",nao_responder_para:"No enviar respuesta automática a",nao_responder_para_desc:"Introducir aquí los correos electrónicos a los cuales no se enviarán respuestas automáticas. Por ejemplo: juan@ejemplo.com o dominios como ejemplo.com, introduciendo uno por línea.",desativar_depois_de:"Desactivar despues de",desativar_depois_de_desc:"Introducir la fecha en la que desea se desactive la respuesta automática.",name:"Nombre",sender:"Remitente",responder_para:"Responder para",formato_hora:"Formato de hora",formato_data:"Formato de fecha",mostrar_imagens:"Visualización de imagenes por defecto en los mensajes",trash_by_default:"Al borrar mensajes, moverlas a la Papelera por defecto",clear_trash:"Vaciar papelera al salir",column_layout:"Diseño de columna",personal_data:"Datos personales",professional_information:"Información Profesional",default_emailaddress:"Dirección de correo electrónico *",nickname:"Apodo",home_address:"Dirección",home_state:"Estado",home_zip:"Código postal",home_phone:"Teléfono de casa",home_mobile:"Móvil",home_fax:"Fax",home_city:"Ciudad",work_company:"Compañía",work_address:"Dirección",work_state:"Estado",work_zip:"Código postal",work_phone:"Teléfono de trabajo",work_mobile:"Móvil de trabajo",work_fax:"Fax de Negócio",work_city:"Ciudad",work_country:"País",gender:"género",masculino:"masculino",ativar_resp_auto:"Activar respuesta automática",selectAll:"marcar todos",phishingNotice:"não conseguimos avaliar os links que contém na mensagem e os links foram desbloqueados",phishingVerify:"para sua segurança estamos avaliando os links que contén na mensagem",phishingMsg:"os links que contém na mensagem foram bloqueados, mensagem avaliada como phishing",phishingMsgSuccessVerified:"mensagem avaliada links desbloqueados com sucesso",delete:"borrar",seeHeaders:"ver cabecera",seeMoreDetails:"ver más detalles",seeLessDetails:"ver menos datalles",prev_message:"mensaje anterior",next_message:"siguiente mensaje",empty_message:"Selecciona un mensaje para leer",return:"volver",oldVersion:"versión anterior",feedback:"dános su opinión",cleaning:"política de limpieza",help_link:"ayuda",logout:"salir",headerTitle:"Cabecera",errorGroupDelete:"No se pudo eliminar el grupo de contacto.",authDomainUserAddress:"Usted intentó ingresar con dominio errado. Su dominio correcto es",getMessageError:"No fue posible cargar sus mensajes pero continuaremos intentandolo!",serverUnavailable:"Servidor temporariamente indisponible.",folderErrorRename:"Favor guardar o cancelar la edicción actual antes de comenzar una nueva edicción.",blockedPopup:"El bloqueador de ventanas emergentes está activo.",tipsDay:"<strong>Consejo del día!</strong>",sendMailError:"Ups! Tuvimos un problema y no podríamos enviar su correo electrónico.",wait:"Por favor, espere.<br />Está llevando a cabo su operación.",email_existing:"Correo electrónico existente.",delete_single_contact:"Eliminar este contacto?",delete_all_contacts:"Eliminar todos los contactos?",delete_number_contact:"Eliminar los {n} contactos?",user_folder_empty:"Sin carpeta creada",unlimited:"cuota ilimitada",blankusername:"Usuario es obligatório",answer_otherwindow:"El mensaje está siendo contestada en otra ventana",forward_otherwindow:"Mensaje se está reenviado en otra ventana",blankpassword:"Contraseña es obligatória",systemerror:"Sistema está indisponible",unknownerror:"Error desconocido",limpeza_title:"Limpieza automatica",unlimited_cleanup:"ilimitado",draft_open:"El borrador ya está abierto en otra ventana",refresh_folder:"actualizar",days:"días",size:"tamaño",update:"editar",contato:"contactos",deletar:"borrar","edit group":"editar grupo",editar_contato:"Editar Contacto",novo_contato:"Nuevo Contacto",retornar:"volver",nome:"nombre",first_name:"Nombre",middle_name:"Segundo Nombre",last_name:"Apellido",date_of_birth:"fecha de nacimiento",url:"url",notes:"observaciones",emailError:"Correo electrónico no es válido",dateError:"La fecha no cumple con los requisitos",contatoSalvo:"Contacto guardado",contactBlocked:"Contacto bloqueado",contactUnblocked:"Contacto desbloqueado","Confirmação de leitura":"Confirmación de lectura",sender_readconfirm:"El remitente ha solicitado la confirmación de lectura.",confirm:"Confirmar",not_now:"Ahora no",read_confirm:"Confirmación de lectura",priority_high:"Prioridad Alta",priority_normal:"Prioridad Normal",priority_low:"Prioridad Baja",anexos:"archivos adjuntos",anexar:"adjuntar",useCaixaDeDialogo:"Por favor, utilice el cuadro de diálogo para adjuntar archivos",tamanhoLimiteExcedido:"archivos adjuntos superó el tamaño límite {{maxFilesize}}MB",tipoInvalido:"tipo de archivo no permitido.  Por razones de seguridad, no permitimos el envío de los siguientes tipos de archivos: .exe, .pif, .bat, .scr, .lnk, .com, .reg",erroDeServidor:"Error de servidor",uploadCancelado:"La subida cancelada",confirmarCancelamentoUpload:"Usted realmente desea cancelar la carga del archivo?",descartar:"descartar",cancelar:"cancelar",enviar:"enviar",remetente:"de",assunto:"asunto",recebido:"recibido","date-received":"recibido",marcarComoLida:"marcar como leída",marcarComoNaoLida:"marcar como no leída",moverPara:"mover",naoESpam:"no es spam",para:"para",cc:"cc",cco:"cco",bcc:"bcc",responder:"responder",responderTodos:"responder a todos",encaminhar:"reenviar",imprimir:"imprimir",lixeira:"papelera",sugestoesECriticas:"dénos su opinión",sair:"salir",alterarASenha:"cambiar contraseña",caixaPostalAdicional:"caixa postal adicional",respostaAutomatica:"respuesta automática",apelido:"apodo",adicionarContato:"añadir contacto",bloquearContato:"bloquear contacto",desbloquearContato:"desbloquear contacto",filtros:"filtros",pastas:"carpetas",antispam:"Email protegido",redirecionamento:"redireccionamiento","Ações":"Acciones",minhasPastas:"mis carpetas",meusContatos:"mis contactos",novoContato:"nuevo contacto",grupoDeContatos:"grupo de contacto",novoGrupo:"grupo nuevo",pastaVazia:"No hay mensajes en esta carpeta",salvarRascunho:"guardar borrador",mensagemSalvaRascunho:"el borrrador há sido guardado.",mensagemSalva:"Tu mensaje ha sido enviado con éxito!",insiraUmDestinario:"Introduzca por lo menos un destinatario.",semTitulo:"¿sin asunto?",novoEmail:"redactar mensaje",novaPasta:"nueva carpeta",atualizar:"actualizar",contatos:"contactos",sim:"Sí",nao:"No",apagarTodoConteudo:"¿Está seguro que desea borrar todos los mensajes de la carpeta?",apagarPasta:"¿Está seguro de que desea borrar la carpeta y todos sus mensajes?",configuracoes:"configuración",gruposDeContatos:"Grupo de contato",minhaPastas:"Mis Carpetas",assinatura:"Firma de correo",Assinatura:"Firma de correo",geral:"General",esvaziar:"limpiar",excluir:"borrar",redirecionadoParaCentral:"Usted será redirigido a la Central de Usuario.",more:"más","minhas pastas":"Mis carpetas","nova pasta":"Nueva carpeta",Limpar:"limpiar",renomear:"cambiar","Destinatários":"Destinatarios","Confirmação de Leitura":"Confirmación de lectura",readconfirm_success:"confirmación de lectura enviada con éxito",adicionar:"añadir","Salvo com sucesso.":"Guardado con éxito.",auto_reply_from_error:"Campo <strong>De</strong> inválido",auto_reply_subject_error:"Campo <strong>Asunto</strong> inválido",novo:"nuevo","Tentar novamente":"Intentar nuevamente","Erro ao carregar mensagem":"Error al cargar el mensaje",editar:"editar",enable:"activar",restricao:"restricción",new_mail:["nuevos mensajes","nuevo mensaje"],notification_inbox:"Pulse aquí para ir al buzón de entrada",unsupported_notification:"Su navegador no tiene soporte para notificaciones",nochoice_notification:"Pulse el botón para activarlas",enabled_notification:"Actualmente activas.",user_blocked_notification:"Actualmente desactivadas.",blocked_notification:"Las notificaciones en este navegador están bloqueadas. Vaya al menú 'ayuda' para saber como desbloquearlas.",type:"Tipo",date:"fecha","new group":"grupo nuevo","Nome do grupo":"Nombre del grupo","Selecionar contatos":"Seleccionar contactos",contatos_selecionados:"Contactos seleccionados",filters:"Filtros",filters_list:"Filtros",caseSensitive:"caso sensible",body:"cuerpo del mensaje",activeFilters:"Activar filtros",new_alias:"Nuevo Alias",to:"para",move:"mover a",true:"activo",false:"deshabilitado",autoforward:"E-mail para redireccionamiento",from:"de",activateChangeFor:"Activar respuesta automática",dontReplyTo:"No responder para",disableAfter:"Desactivar mi Respuesta automática en: ",content:"contenido",automatic_answer:"Respuesta Automática",subject:"Asunto",palavra_chave:"Palabra clave",folder:"Carpeta",folderSuccess:"Carpeta guardada",folderError:"Error al guardar carpeta",doesNotContain:"No contiene",contains:"Contiene",isEqual:"Es igual a",isNotEqual:"Es distinto de",salvar:"guardar",editFilter:"editar filtro",newFilter:"nuevo filtro",save:"guardar",action:"acción",target:"Destino",imagePreview:"vista previa de las imágenes","Endereço_email":"e-mail","redirecionar e-mails":"redireccionar e-mails",filtrar_contacts:"Filtrar por nombre",filtrar_maillist:"buscar mensajes...",imagens_bloqueadas:"Las imagenes fueron bloqueadas.",download_images:"Mostrar",download_images_always:"Mostrar Siempre",create_new_contact:"Selecciona las direcciones de correo que desea añadir a sus contactos",inbox:"Buzón",sent:"Enviados",drafts:"Borradores",spam:"Spam",trash:"Papelera",emails_deleted:"E-mails borrados",page_composer:"Composer",page_configuration:"Configuracion",page_contacts:"Contacto","page_help-faq":"Ayudar",mark_as_unread:"marcar como no leída",mark_as_fraud:"reportar fraude",phishing_initPhrase:"Gracias por informar de este mensaje malicioso. Esto nos ayuda a bloquear los mensajes similares y mejorar la seguridad de los servicios que proporcionamos a usted y otros usuarios.",phishing_success:"Seguiremos trabajando para mejorar nuestros servicios. Gracias por su reporte.",phishing_error:"Ha ocurrido un problema con el envio . Inténtalo de nuevo.",phishing_title:"Reportar fraude",phishing_noCare:"No hace diferencia",phishing_message:"Informar lo motivo a considerar la(s) mensaje(s) como fraudulenta(s)",colunmMode:"modo columna",lineMode:"modo panel",readMode:"modo lectura",ok:"ok",retry:"recargar",errorLoadMailList:"No es posible cargar los mensajes, pero seguimos intentándolo.",errorLoadUserFolders:"No es posible cargar las carpetas personales.",emptyContactList:'No hay ningún contacto guardado.<br/>Vaya al menú "Nuevo Contacto" para adicionar un contacto.',emptyGroupList:"No hay ningún grupo de contactos guardado."},pt:{mailSample:"usuario@dominio.com.br",redirectDelete:"foi removido com sucesso",redirectErrorDelete:"não foi possível ser removido",redir_para:"Redirecionar mensagens para",new_folder:"Criar nova pasta",folder_name_placeholder:"nome da pasta",create_new_folder:"Criar",folders:"pastas",actions:"ações",read_count:"total /",unread_count:"não lidas",whitelist_title:"Lista de e-mails/domínios autorizados para recebimento",blacklist_title:"Lista de e-mail/domínio para marcar como spam",email:"E-mail",domain:"domínio",add:"adicionar",included_by:"incluido por",spam_report:"Extrato diário",spam_report_desc:"Receber relatório dos e-mails classificados como SPAM",move_to_spam:"Mover os SPAMs para a Pasta SPAM",move_to_spam_desc:"Desabilite caso estiver utilizando redirecionamento",superbloqueio:"Superbloqueio de mensagens",superbloqueio_desc:"Bloqueia e-mails que não estão na lista de endereços de aceitos",field:"campo",fields:"Campos",restriction:"restrição",doesnt_contain:"Não contém",equal_to:"Igual a",different_from:"Diferente de",case_sensitive:"Diferenciar maiúsculas",keyword:"Palavra chave","palavra-chave":"palavra-chave",status:"estado",ativar_filtros:"Ativar filtros",new:"novo",activate:"ativar",new_filter:"novo filtro",cancel:"cancelar",nickname_input_description:'Você pode criar/alterar o apelido da sua caixa postal usado o formulário abaixo. Utilize de 3 até 20 caracteres (letras ou números) para o apelido da caixa postal. Você pode utilizar letras, números, "." e "_"',subject_desc:"Aqui você coloca o assunto da sua mensagem de resposta.",conteudo:"Conteúdo",conteudo_desc:"Este é o corpo da mensagem, o texto da sua resposta.",nao_responder_para:"Não enviar resposta automática para",nao_responder_para_desc:"Aqui você pode colocar os e-mails aos quais NUNCA serão enviadas Respostas Automáticas. Coloque aqui, por exemplo, emails como joao@exemplo.com.br, ou domínios como exemplo.com.br, colocando UM por linha.",desativar_depois_de:"Desativar depois de",desativar_depois_de_desc:"Você pode determinar a data em que deseja que a Resposta automática seja desativada automaticamente.",name:"Nome",sender:"Remetente",responder_para:"Responder para",formato_hora:"Formato da hora",formato_data:"Formato da data",mostrar_imagens:"Mostrar imagens por padrão nas mensagens",trash_by_default:"Ao excluir mensagens, movê-las à lixeira por padrão",clear_trash:"Esvaziar lixeira ao sair",column_layout:"Visualização de colunas",de:"de",personal_data:"Informações pessoais",professional_information:"Informações profissionais",default_emailaddress:"E-mail",first_name:"Primeiro nome",nickname:"Apelido",home_address:"Endereço",home_state:"Estado",home_zip:"CEP",home_phone:"Telefone",home_mobile:"Telefone celular",home_fax:"Fax",home_city:"Cidade",work_company:"Empresa",work_address:"Endereço",work_state:"Estado",work_zip:"CEP",work_phone:"Telefone",work_mobile:"Telefone celular",work_fax:"Fax",work_city:"Cidade",work_country:"País",masculino:"masculino",feminino:"feminino",ativar_resp_auto:"Ativar resposta automática",selectAll:"selecionar todos",phishingNotice:"infelizmente não foi possível avaliar a segurança dos links da mensagem",phishingVerify:"para sua segurança estamos avaliando os links contidos na mensagem",phishingMsg:"os links que contém na mensagem foram bloqueados, mensagem avaliada como phishing",phishingMsgSuccessVerified:"os links da mensagem foram verificados e são seguros",delete:"excluir",seeHeaders:"ver cabeçalho",seeMoreDetails:"ver mais detalhes",seeLessDetails:"ver menos datalhes",prev_message:"mensagem anterior",next_message:"próxima mensagem",empty_message:"Selecione uma mensagem para ler",return:"retornar",readMode:"modo leitura",colunmMode:"modo coluna",lineMode:"modo painel",oldVersion:"versão anterior",feedback:"sugestões e críticas",cleaning:"política de limpeza",help_link:"ajuda",logout:"sair",page_composer:"Composer",page_configuration:"Configuração",page_contacts:"Contato","page_help-faq":"Ajuda",headerTitle:"Cabeçalho",errorGroupDelete:"Não foi possível apagar o grupo de contato.",authDomainUserAddress:"Você tentou fazer login em um domínio inválido. Seu domínio correto é",getMessageError:"Não conseguimos carregar suas mensagens mas continuaremos tentando!",serverUnavailable:"Servidor temporariamente indisponível.",folderErrorRename:"Por favor, salve ou cancele a edição atual antes de começar uma nova.",blockedPopup:"O bloqueador de janelas pop-up está ativo.",tipsDay:"<strong>Dica do dia!</strong>",sendMailError:"Ops! Tivemos algum problema e não foi possível enviar seu e-mail.",wait:"Por favor, aguarde.<br />Sua operação está sendo realizada.",email_existing:"E-mail já existente.","Salvo com sucesso.":"Salvo com sucesso.",delete_single_contact:"Eliminar este contato?",delete_all_contacts:"Eliminar todos os contatos?",delete_number_contact:"Eliminar os {n} contatos?",contato:"contatos",user_folder_empty:"Nenhuma pasta criada",auto_reply_from_error:"Campo <strong>De</strong> inválido",auto_reply_subject_error:"Campo <strong>Asunto</strong> inválido",unlimited:"cota ilimitada",blankusername:"Usuário é obrigatório",answer_otherwindow:"Mensagem está sendo respondida em outra janela",forward_otherwindow:"Mensagem está sendo encaminhada em outra janela",blankpassword:"Senha é obrigatória",systemerror:"Sistema indisponível",unknownerror:"Erro desconhecido",limpeza_title:"Limpeza automatica",unlimited_cleanup:"ilimitado",draft_open:"O rascunho já está aberto em outra janela",refresh_folder:"Atualizar",days:"dias",size:"tamanho","Endereço_email":"Endereço",restricao:"restrição",editFilter:"editar filtro",newFilter:"novo filtro",filterError:"Erro ao salvar filtro",gender:"sexo",zip:"cep",work_title:"Trabalho",work_dept:"Departamento",readconfirm_success:"Confirmação de leitura enviada com sucesso",sender_readconfirm:"O remetente solicitou a confirmação de leitura.",confirm:"Confirmar",not_now:"Agora não",read_confirm:"Confirmação de leitura",priority_high:"Prioridade alta",priority_normal:"Prioridade normal",priority_low:"Prioridade baixa","edit group":"Editar grupo",save:"salvar",update:"editar",action:"Ação",target:"destino",imagePreview:"Pré-Visualização de Imagens","responder para":"Responder para","formato da hora":"Formato da hora","formato da data":"Formato da data","fuso horário":"Fuso horário","esvaziar lixeira ao sair":"Esvaziar lixeira ao sair",Limpar:"limpar",renomear:"renomear",retornar:"retornar",novo:"novo","Tentar novamente":"Tentar novamente","Erro ao carregar mensagem":"Erro ao carregar mensagem",editar:"editar",enable:"ativar",new_mail:["novos e-mails","novo e-mail"],notification_inbox:"Clique aqui para ir para Caixa de Entrada",notification_title:"Notificações de e-mail",unsupported_notification:"Seu navegador não tem suporte notificações",nochoice_notification:"Clique no botão para ativá-las",enabled_notification:"Atualmente ativas",user_blocked_notification:"Atualmente desativadas",blocked_notification:"As notificações neste browser estão bloqueadas. Vá para o menu 'help' para saber como desbloqueá-las.",disable:"desativar",deletar:"deletar",type:"Tipo",date:"data","new group":"novo grupo","Nome do grupo":"Nome do grupo","Selecionar contatos":"Selecionar contatos",contatos_selecionados:"Contatos selecionados",filters:"Filtros",filters_list:"Lista de filtros",body:"corpo",assinatura:"assinatura",activeFilters:"Ativar filtros",new_alias:"Novo Alias",to:"para",move:"mover para",true:"ativo",false:"desativado",autoforward:"E-mail para auto redirecionar",from:"de",activateChangeFor:"Ativar resposta automática",dontReplyTo:"Não responder para",disableAfter:"desativar depois de ",content:"Conteúdo",automatic_answer:"Resposta Automática",subject:"Assunto",palavra_chave:"palavra chave",folder:"Pasta",folderSuccess:"Pasta salva",folderError:"Erro ao salvar pasta",doesNotContain:"Não contém",contains:"Contém",isEqual:"Igual a",isNotEqual:"Diferente de ",more:"mais",contatoSalvo:"Contato salvo",contactBlocked:"Contato bloqueado",contactUnblocked:"Contato desbloqueado",editar_contato:"Editar contato",novo_contato:"novo contato",middle_name:"Nome do meio",last_name:"Sobrenome",date_of_birth:"Data de nascimento",url:"url",notes:"observações",emailError:"Endereço de e-mail inválido",dateError:"A data de nascimento está inválida",sim:"Sim",excluir:"excluir",nao:"Não",anexos:"anexos",apagarTodoConteudo:"Tem certeza que deseja apagar todo conteúdo da pasta?",apagarPasta:"Tem certeza que deseja apagar a pasta e todo seu conteúdo?",anexar:"anexar",useCaixaDeDialogo:"Por favor, use a caixa de diálogo para anexar arquivos",tamanhoLimiteExcedido:"Anexo excedeu o tamanho limite {{maxFilesize}}MB",tipoInvalido:"tipo de arquivo não permitido. Por motivo de segurança, não permitimos o envio dos seguintes tipos de arquivos : .exe, .pif, .bat, .scr, .lnk, .com, .reg",erroDeServidor:"Erro de servidor",uploadCancelado:"Upload cancelado",confirmarCancelamentoUpload:"Você realmente deseja cancelar o upload do arquivo?",cancelar:"cancelar",descartar:"descartar",enviar:"enviar",remetente:"remetente",assunto:"assunto",recebido:"recebido","date-received":"recebido",marcarComoLida:"marcar como lida",marcarComoNaoLida:"marcar como não lida",moverPara:"mover",naoESpam:"não é spam",para:"para",cc:"cc",cco:"cco",bcc:"bcc",responder:"responder",responderTodos:"responder a todos",encaminhar:"encaminhar",imprimir:"imprimir",lixeira:"lixeira",sugestoesECriticas:"sugestões e críticas",sair:"sair",alterarASenha:"alterar senha",caixaPostalAdicional:"caixa postal adicional",respostaAutomatica:"resposta automática",apelido:"apelido",adicionarContato:"adicionar contato",bloquearContato:"bloquear contato",desbloquearContato:"desbloquear contato",filtros:"filtros",antispam:"antispam",redirecionamento:"redirecionamento",minhasPastas:"minhas pastas","minhas pastas":"minhas pastas",meusContatos:"meus contatos",novoContato:"novo contato",grupoDeContatos:"grupo de contatos",novoGrupo:"novo grupo",pastaVazia:"nenhuma mensagem nessa pasta",salvarRascunho:"salvar rascunho",novoEmail:"novo email",novaPasta:"nova pasta","nova pasta":"nova",atualizar:"atualizar",contatos:"contatos",mensagemSalvaRascunho:"Mensagem salva como rascunho",mensagemSalva:"Mensagem enviada com sucesso!",insiraUmDestinario:"Insira pelo menos um destinatário!",semTitulo:"Tem certeza que deseja enviar sem assunto?!",configuracoes:"configurações",gruposDeContatos:"Grupo de contatos",minhaPastas:"Minhas pastas",geral:"Geral",redirecionadoParaCentral:"Você será redirecionado para a Central do Assinante.",filtrar_contacts:"Filtrar por nome ou e-mail",filtrar_maillist:"pesquisar mensagens...",imagens_bloqueadas:"As imagens foram bloqueadas.",download_images:"Mostrar",download_images_always:"Mostrar Sempre",create_new_contact:"Marque os endereços que deseja adicionar aos seus contatos",inbox:"Entrada",sent:"Enviados",drafts:"Rascunhos",spam:"Spam",trash:"Lixeira",emails_deleted:"Os e-mails foram excluídos",mark_as_unread:"marcar como não lida",mark_as_fraud:"reportar fraude",phishing_initPhrase:"Obrigado por nos reportar esta mensagem maliciosa. Isso nos ajuda a bloquear outras mensagens semelhantes e a melhorar a segurança dos serviços que prestamos a você e aos demais usuários.",phishing_success:"Seguiremos trabalhando para melhorar nossos serviços continuamente. Obrigado pela sua opinião.",phishing_error:"Desculpe, ocorreu um problema com o envio da mensagem. Tente novamente.",phishing_title:"Reportar fraude",phishing_noCare:"Não faz diferença",phishing_message:"Relate o que o fez considerar este(s) e-mail(s) como fraudulento(s)",ok:"ok",retry:"tentar novamente",errorLoadMailList:"Não foi possível carregar suas mensagens, mas seguiremos tentando.",errorLoadUserFolders:"Não foi possível carregar suas pastas pessoais.",emptyContactList:'Você não possui nenhum contato salvo.<br/>Clique no menu "Novo Contato" para adicionar um contato.',emptyGroupList:"Você não possui nenhum grupo de contatos salvo."}}})}),zaz.use(function(pkg){"use strict";var dicFactory;pkg.factoryManager.get("dict").create({name:"feedback",version:"1.0.0",state:"ok",extends:[],langs:{en:{},es:{initPharse:"Terra estrena imagen! Pensamos en cada detalle para mejorar, ahora queremos conocer tu opinión",questionEmprove:"En su opinión, los cambios han mejorado su correo electrónico?",feedbackSuccess:"Seguiremos trabajando para mejorar nuestros servicios continuamente. Gracias por su opinión.",feedbackError:"Ha ocurrido un problema con el poste . Inténtalo de nuevo.",titleFeedback:"Queremos tu opinión",yes:"Sí",no:"No",noCare:"No hace diferencia",feedback_message:"Quieres platicar con nosotros? Escríbenos",authorizedAccess:"En caso de problemas técnicos, autorizo la revisión de mi cuenta de correo.",feedback_subject:"Correo Terra - Opinión"},pt:{initPharse:"O Terra está de cara nova!<br/>A gente pensou em cada detalhe para melhorar o seu dia-a-dia. Agora queremos saber a sua opinião.",questionEmprove:"Na sua opinião, as mudanças melhoraram seu e-mail?",feedbackSuccess:"Seguiremos trabalhando para melhorar nossos serviços continuamente. Obrigado pela sua opinião.",feedbackError:"Desculpe, ocorreu um problema com o envio da mensagem. Tente novamente.",titleFeedback:"Queremos sua opinião",yes:"Sim",no:"Não",noCare:"Não faz diferença",feedback_message:"Quer falar um pouco mais? Escreva para gente",authorizedAccess:"Em caso de problemas técnicos, autorizo a verificação da minha caixa de e-mails.",feedback_subject:"Mail Terra - Feedback"}}})}),zaz.use(function(pkg){"use strict";var staticPublic;pkg.factoryManager.get("mod").create({name:"Analytics",version:"1.0.50",state:"ok",docs:"",source:"http://github.tpn.terra.com/Terra/zaz-ui-webmail",tests:"",dependencies:["mod.metrics"],description:"Terra mail module to save data into Analytics",setup:function(data){if("function"!=typeof window.gaTerra)throw"It is required window.gaTerra global function.";var PRIVATE={},PUBLIC=staticPublic||this,Promise=data.dependencies.Promise,INFO,INFO_country,defaultOptions={dimension1:"comunidad",dimension2:"email",dimension4:"comunidades",dimension5:300264,dimension6:"novo",dimension7:"srv",dimension9:"terra",dimension44:pkg.context.page.country+":mail"};return PRIVATE.analytics=function(){},(staticPublic=PUBLIC).panel={},PUBLIC.panel.orientation=function(layoutType){PRIVATE.analytics("send","event","layout","orientation",layoutType,defaultOptions)},PUBLIC.header={},PUBLIC.header.inputSearch=function(){PRIVATE.analytics("send","event","header","search","input",defaultOptions)},PUBLIC.header.changeLayout=function(){PRIVATE.analytics("send","event","header","tool","layout",defaultOptions)},PUBLIC.header.contact=function(){PRIVATE.analytics("send","event","header","tool","contact",defaultOptions)},PUBLIC.header.configuration=function(){PRIVATE.analytics("send","event","header","tool","configuration",defaultOptions)},PUBLIC.userArea={},PUBLIC.userArea.dropdown=function(){PRIVATE.analytics("send","event","header","userArea","dropdown",defaultOptions)},PUBLIC.userArea.changeVersion=function(){PRIVATE.analytics("send","event","header","userArea","changeVersion",defaultOptions)},PUBLIC.userArea.feedback=function(){PRIVATE.analytics("send","event","header","userArea","feedback",defaultOptions)},PUBLIC.userArea.help=function(){PRIVATE.analytics("send","event","header","userArea","help",defaultOptions)},PUBLIC.userArea.cleaningPolice=function(){PRIVATE.analytics("send","event","header","userArea","cleaningPolice",defaultOptions)},PUBLIC.userArea.customService=function(){PRIVATE.analytics("send","event","header","userArea","conheça nossos serviços",defaultOptions)},PUBLIC.userArea.clientService=function(){PRIVATE.analytics("send","event","header","userArea","atendimento ao cliente",defaultOptions)},PUBLIC.sidebar={},PUBLIC.sidebar.newMail=function(){PRIVATE.analytics("send","event","sidebar","new","email",defaultOptions)},PUBLIC.sidebar.newFolder=function(){PRIVATE.analytics("send","event","sidebar","new","folder",defaultOptions)},PUBLIC.sidebar.changeFolder=function(){PRIVATE.analytics("send","event","sidebar","change","folder",defaultOptions)},PUBLIC.sidebar.changePersonalFolder=function(){PRIVATE.analytics("send","event","sidebar","change","personalFolder",defaultOptions)},PUBLIC.sidebar.refreshFolder=function(){PRIVATE.analytics("send","event","sidebar","refresh","folder",defaultOptions)},PUBLIC.sidebar.emptyFolder=function(){PRIVATE.analytics("send","event","sidebar","empty","folder",defaultOptions)},PUBLIC.mailList={},PUBLIC.mailList.selectAll=function(){PRIVATE.analytics("send","event","mailList","select","all",defaultOptions)},PUBLIC.mailList.readMail=function(){PRIVATE.analytics("send","event","mailList","action","readMail",defaultOptions)},PUBLIC.mailList.markAsRead=function(){PRIVATE.analytics("send","event","mailList","mark","read",defaultOptions)},PUBLIC.mailList.markAsUnread=function(){PRIVATE.analytics("send","event","mailList","mark","unread",defaultOptions)},PUBLIC.mailList.markAsFraud=function(){PRIVATE.analytics("send","event","mailList","mark","fraud",defaultOptions)},PUBLIC.mailList.markAsSpam=function(){PRIVATE.analytics("send","event","mailList","mark","spam",defaultOptions)},PUBLIC.mailList.markAsNotSpam=function(){PRIVATE.analytics("send","event","mailList","mark","notSpam",defaultOptions)},PUBLIC.mailList.markAsTrash=function(){PRIVATE.analytics("send","event","mailList","mark","trash",defaultOptions)},PUBLIC.mailList.moveToFolder=function(){PRIVATE.analytics("send","event","mailList","folder","move",defaultOptions)},PUBLIC.mailList.pagination=function(){PRIVATE.analytics("send","event","mailList","folder","pagination",defaultOptions)},PUBLIC.mailComposer={},PUBLIC.mailComposer.readConfirmation=function(){PRIVATE.analytics("send","event","mailComposer","read","confirmation",defaultOptions)},PUBLIC.mailComposer.addAddress=function(){PRIVATE.analytics("send","event","mailComposer","add","address",defaultOptions)},PUBLIC.mailComposer.setPriority=function(){PRIVATE.analytics("send","event","mailComposer","set","priority",defaultOptions)},PUBLIC.mailComposer.addCcCco=function(){PRIVATE.analytics("send","event","mailComposer","add","CcCco",defaultOptions)},PUBLIC.mailComposer.addAttach=function(){PRIVATE.analytics("send","event","mailComposer","add","attach",defaultOptions)},PUBLIC.mailComposer.dragAttach=function(){PRIVATE.analytics("send","event","mailComposer","drag","attach",defaultOptions)},PUBLIC.mailComposer.cancel=function(){PRIVATE.analytics("send","event","mailComposer","action","cancel",defaultOptions)},PUBLIC.mailComposer.draft=function(){PRIVATE.analytics("send","event","mailComposer","action","draft",defaultOptions)},PUBLIC.mailComposer.send=function(){PRIVATE.analytics("send","event","mailComposer","action","send",defaultOptions)},PUBLIC.mailComposer.discard=function(){PRIVATE.analytics("send","event","mailComposer","action","discard",defaultOptions)},PUBLIC.mailViewer={},PUBLIC.mailViewer.errorVade=function(){PRIVATE.analytics("send","event","mailViewer","vadeResponse","error || timeout",defaultOptions)},PUBLIC.mailViewer.exceptionPhishingSizeLinks=function(){PRIVATE.analytics("send","event","mailViewer","vadeResponse",">40",defaultOptions)},PUBLIC.mailViewer.vadeMessagePostToVerify=function(){PRIVATE.analytics("send","event","mailViewer","vadePost","postToVerify",defaultOptions)},PUBLIC.mailViewer.vadeTimeResponse=function(time){PRIVATE.analytics("send","event","mailViewer","vadeTimeResponse","seconds:"+time,defaultOptions)},PUBLIC.mailViewer.vadeMessageIsPhishing=function(time){PRIVATE.analytics("send","event","mailViewer","vadePhishing","phishing",defaultOptions)},PUBLIC.mailViewer.vadeMessageNotPhishing=function(time){PRIVATE.analytics("send","event","mailViewer","vadeNotPhishing","notPhishing",defaultOptions)},PUBLIC.mailViewer.backToMailList=function(){PRIVATE.analytics("send","event","mailViewer","action","backToMailList",defaultOptions)},PUBLIC.mailViewer.nextMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","nextMessage",defaultOptions)},PUBLIC.mailViewer.prevMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","prevMessage",defaultOptions)},PUBLIC.mailViewer.replyMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","replyMessage",defaultOptions)},PUBLIC.mailViewer.replyAll=function(){PRIVATE.analytics("send","event","mailViewer","action","replyAll",defaultOptions)},PUBLIC.mailViewer.forwardMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","forwardMessage",defaultOptions)},PUBLIC.mailViewer.printMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","printMessage",defaultOptions)},PUBLIC.mailViewer.markAsUnread=function(){PRIVATE.analytics("send","event","mailViewer","mark","unread",defaultOptions)},PUBLIC.mailViewer.markAsPhishing=function(){PRIVATE.analytics("send","event","mailViewer","mark","fraud",defaultOptions)},PUBLIC.mailViewer.markAsSpam=function(){PRIVATE.analytics("send","event","mailViewer","mark","spam",defaultOptions)},PUBLIC.mailViewer.markAsNotSpam=function(){PRIVATE.analytics("send","event","mailViewer","mark","notSpam",defaultOptions)},PUBLIC.mailViewer.deleteMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","deleteMessage",defaultOptions)},PUBLIC.mailViewer.moveMessage=function(){PRIVATE.analytics("send","event","mailViewer","action","moveMessage",defaultOptions)},PUBLIC.mailViewer.messageDetail=function(){PRIVATE.analytics("send","event","mailViewer","action","messageDetail",defaultOptions)},PUBLIC.mailViewer.messageHeader=function(){PRIVATE.analytics("send","event","mailViewer","action","messageHeader",defaultOptions)},PUBLIC.mailViewer.addContact=function(){PRIVATE.analytics("send","event","mailViewer","add","contact",defaultOptions)},PUBLIC.mailViewer.blockContact=function(){PRIVATE.analytics("send","event","mailViewer","block","contact",defaultOptions)},PUBLIC.mailViewer.unblockContact=function(){PRIVATE.analytics("send","event","mailViewer","unblock","contact",defaultOptions)},PUBLIC},teardown:function(reason){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,appFactory=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,STATIC_PRIVATE,STATIC_PRIVATE_mods={},BrandCaptcha;appFactory.create({name:"Api",version:"1.0.50",state:"ok",dependencies:["mod.xRequest"],dictionaries:["webmail"],templates:{},setup:function(__static,__proto,__shared){pkg.utils.merge(STATIC_PRIVATE_mods,__shared.dependencies.mod,__shared.dependencies.app),PUBLIC_STATIC=__static},init:function(data,__shared){if(PUBLIC_STATIC.me)return PUBLIC_STATIC.me;var PRIVATE={},PUBLIC=this,req=new __shared.dependencies["mod.xRequest"];(PUBLIC_STATIC.me=PUBLIC).lastMessageOID="",PUBLIC.url=data.url,PUBLIC.New={},PUBLIC.pageSize=25,PUBLIC.lastMessageIndex=0,PUBLIC.FOLDER_ID={},PUBLIC.FOLDER_ID.lixeira="Lixeira",PUBLIC.FOLDER_ID.rascunho="drafts",PUBLIC.FOLDER_ID.spam="Spam",PRIVATE.mailboxList=[],PRIVATE.groupList=[],PRIVATE.param=function(obj){var FUNC={executeType:function(k,obj,prefix){return"object"==typeof obj[k]?null===obj[k]?null:obj[k]instanceof Array?FUNC.arraySerialize(obj[k],FUNC.getPrefix(prefix,k)):FUNC.splitJoin(obj[k],FUNC.getPrefix(prefix,k)):FUNC.simpleValue(k,obj[k],prefix)},arraySerialize:function(v,prefix){return v.map(function(el,index){return FUNC.executeType(index,v,prefix)}).join("&")},simpleValue:function(k,v,prefix){return encodeURIComponent(FUNC.getPrefix(prefix,k))+"="+encodeURIComponent(v)},splitJoin:function(obj,prefix){return Object.keys(obj).reduce(function(old,k){var k=FUNC.executeType(k,obj,prefix);return null!==k&&old.push(k),old},[]).join("&")},getPrefix:function(prefix,k){return prefix.length?prefix+"["+k+"]":k}};if(/string|object|number/.test(typeof obj))return"string"==typeof obj?obj:FUNC.splitJoin(obj,"").replace(/%20/g,"+")||"";throw"obj must be a object or string"},PRIVATE.normalizeMessage=function(legacyMessage,mailBoxId,originalMessageId,originalAction){var re=/(\d+(\.\d+)?)(.+)?/,message={},originalMessageId=(PUBLIC.lastMessageOID=legacyMessage.m,PUBLIC.lastID=legacyMessage.i,message.imapId={Lixeira:"trash",Spam:"spam","E-mails enviados":"sent"}[mailBoxId]||"",message.mailBoxId=mailBoxId,message.OID=legacyMessage.m,message.oid=legacyMessage.m,message.id=legacyMessage.i,message.from=legacyMessage.h.f.f,message.to=legacyMessage.h.t.f,message.cc=legacyMessage.h.cc.f,message.bcc=legacyMessage.h.bcc.f,message.subject=legacyMessage.h.s,message.readConfirm=legacyMessage.h.readNotifyReqTo,message.received=legacyMessage.h.d,message.receivedComplete=legacyMessage.h.full_date,message.sizeFull=legacyMessage.h.sz,message.externalLinks=legacyMessage.externalLinks||[],void 0!==originalMessageId&&0<originalMessageId&&null===legacyMessage.i?originalMessageId:legacyMessage.i);message.recoveryData={id:originalMessageId,mailBox:mailBoxId,originalAction:void 0!==originalAction?originalAction:null},message.size=re.exec(legacyMessage.h.sz).reduce(function(old,n,index){return 1==index?Math.round(n):3==index?old+n:old}),message.body=legacyMessage.b,message.flags=(legacyMessage.flags||[]).map(function(param){return param.toLowerCase().replace("\\","")}),message.attachments={},legacyMessage.n&&message.flags.push("unreaded"),legacyMessage.r&&message.flags.push("replied"),1==legacyMessage.p?(message.flags.push("important"),message.priority="high"):5==legacyMessage.p?(message.flags.push("trivial"),message.priority="low"):message.priority="normal",legacyMessage.x&&message.flags.push("attachment");for(var i=0;i<legacyMessage.a.length;i++){var attachment={};attachment.mailBoxId=mailBoxId,attachment.messageId=legacyMessage.i,attachment.messageOid=legacyMessage.m,attachment.cid=legacyMessage.a[i].c,attachment.id=legacyMessage.a[i].p,attachment.fileName=legacyMessage.a[i].n,attachment.mime=legacyMessage.a[i].t,attachment.isInline=legacyMessage.a[i].i,attachment.size=legacyMessage.a[i].sz_bytes,message.attachments[attachment.id]=attachment}return message},PRIVATE.error=function(attr,args){var errorEvent,errorObject,errorEvent={timeout:function(){PUBLIC.trigger("timeout",args)},401:function(){PUBLIC.trigger("error401",args)},500:function(){PUBLIC.trigger("error500",args)},502:function(){PUBLIC.trigger("error502",args)},errorVade:function(){PUBLIC.trigger("errorVade",args)},timeoutVade:function(){PUBLIC.trigger("timeoutVade",args)}}[attr];errorEvent?"function"==typeof errorEvent&&errorEvent():(PUBLIC.trigger("errorUndefined",args),console.error("app.Api ERROR NOT SETTED",{attr:attr,args:args}))},PUBLIC.New.request=function(url,params,options,method){return req[method]({url:encodeURI(PUBLIC.url+"?r="+url),dataType:"json",data:PRIVATE.param(params),timeout:6e4,withCredentials:!0})},PUBLIC.New.post=function post(url,params,options){return new Promise(function(resolve,reject){return PUBLIC.New.request(url,params,options,"post").then(function(response){resolve(response)}).catch(function(error){PRIVATE.error(error.code,error),reject(error)})})},PUBLIC.New.get=function get(url,params,options){return new Promise(function(resolve,reject){return PUBLIC.New.request(url,params,options,"get").then(function(response){resolve(response)}).catch(function(error){PRIVATE.error(error.code,error),reject(error)})})},PUBLIC.New.searchMail=function searchMail(mailboxId,from,to,subject){var getUrl,from={"MailBox[mailbox_id]":mailboxId,"MessageAsQuery[envelope][from]":from,"MessageAsQuery[envelope][to]":to,"MessageAsQuery[envelope][subject]":subject,orderedByRequest:1,sort_field:PUBLIC.orderBy.sort_field,sort_orientation:PUBLIC.orderBy.sort_orientation};return PUBLIC.New.get("message/wslist&format=json",from).then(function(messagesLegacy){var legagacyMessageList,normalizedMessageList;return{messages:(messagesLegacy.l||[]).map(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,mailboxId)})}}).then(function(response){return PUBLIC.trigger("searchMail",response),response})},PUBLIC.New.newContact=function(contact){var postUrl;return PUBLIC.New.post("contact/create&format=json",contact).then(function(json){return json.list&&(PRIVATE.contactList||(PRIVATE.contactList=[]),PRIVATE.contactList=json.list),PRIVATE.contactList=PRIVATE.contactList.sort(function(a,b){var a=a.fullName.toLowerCase(),b=b.fullName.toLowerCase();return""===a?1:""===b?-1:b<a?1:a<b?-1:0}),PUBLIC.trigger("contacts",PRIVATE.contactList),PRIVATE.contactList})},PUBLIC.New.updateContact=function(contact){var postUrl="contact/update&format=json&_clean=1&Contact[contact_id]="+contact["Contact[contact_id]"];return PUBLIC.New.post(postUrl,contact).then(function(response){for(var i=0;i<PRIVATE.contactList.length;i++)if(PRIVATE.contactList[i].CONTACT_ID==response.contact[0].CONTACT_ID){PRIVATE.contactList[i]=response.contact[0];break}return PRIVATE.contactList=PRIVATE.contactList.sort(function(a,b){var a=a.fullName.toLowerCase(),b=b.fullName.toLowerCase();return""===a?1:""===b?-1:b<a?1:a<b?-1:0}),PUBLIC.trigger("contacts",PRIVATE.contactList),PRIVATE.contactList})},PUBLIC.New.deleteContact=function(contact){var postUrl="contact/delete&format=json&_clean=1",dataInfo={"ContactList[action]":"delete",Contact:contact.reduce(function(ret,val){return ret[val]=ret[val]||{},ret[val].contact_id=val,ret},{})};return PUBLIC.New.post(postUrl,dataInfo).then(function(response){return PRIVATE.contactList=PRIVATE.contactList.filter(function(el){return-1===contact.indexOf(el.id)}),PUBLIC.trigger("contacts",PRIVATE.contactList),PRIVATE.contactList})},PUBLIC.New.getContact=function(id,nocache){if(!nocache&&PRIVATE.contactList)for(var i=0;i<PRIVATE.contactList.length;i++)if(PRIVATE.contactList[i].CONTACT_ID==id)return Promise.resolve({error:[],contact:[PRIVATE.contactList[i]]});var getUrl,dataInfo;return PUBLIC.New.get("contact/show&format=json",{"Contact[contact_id]":id}).then(function(json){return!nocache&&json.list&&PRIVATE.contactList.push(json.list[0]),json})},PUBLIC.New.addContact=function(contact){var re,contact=/([^<>]*)?(<([^<>]+)>)?/gm.exec(contact);return contact&&!contact[3]&&(contact[3]=contact[1],contact[1]=/(.+)@/gm.exec(contact[3])[1]),PUBLIC.New.newContact({"Contact[emailAddresses][0][address]":contact[3].trim(),"Contact[emailAddresses][0][emailaddress_id]":"0","Contact[defaultEmailAddress][emailaddress_id]":"0","Contact[first_name]":contact[3]?contact[1]:""})},PUBLIC.New.contactIsBlocked=function(contact){var re,contact=/([^<>]*)(<(.*)>)?/gm.exec(contact),contact=contact[3]||contact[0],postUrl;return PUBLIC.New.get("userConfiguration/isSenderBlocked&sender="+contact,{}).then(function(response){return PUBLIC.trigger("contactIsBlocked",response),response})},PUBLIC.New.listGroup=function(){var getUrl="contactGroup/list&format=json";return PRIVATE.groupList.length?Promise.resolve(PRIVATE.groupList):PUBLIC.New.get(getUrl,{}).then(function(result){return PRIVATE.groupList=result.models.list||[],PRIVATE.groupList})},PUBLIC.New.exportContactList=function(){window.document.location=PUBLIC.url+"?r=contact/export"},PUBLIC.New.deleteGroup=function(groups){return PUBLIC.New.post("contactGroup/list&format=json",groups.reduce(function(old,val){return old.ContactGroup=old.ContactGroup||{},old.ContactGroup[val]=old.ContactGroup[val]||{},old.ContactGroup[val].contactgroup_id=val,old},{"ContactGroupList[action]":"delete"})).then(function(result){return PRIVATE.groupList=result.models.list||[],result})},PUBLIC.New.getGroup=function(id){var getUrl,dataInfo;return PUBLIC.New.get("contactGroup/update&format=json",{"ContactGroup[contactgroup_id]":id}).then(function(result){return result.models.contacts=Object.keys(result.models.contacts).map(function(e){return result.models.contacts[e]}),result.models})},PUBLIC.New.editGroup=function(id,name,p){var postUrl="contactGroup/update&format=json",p=p.reduce(function(old,el){return old.ContactGroup=old.ContactGroup||{},old.ContactGroup.contacts=old.ContactGroup.contacts||{},old.ContactGroup.contacts[el.obj.id]=old.ContactGroup.contacts[el.obj.id]||{},old.ContactGroup.contacts[el.obj.id].contact_id=el.obj.id,old},{"ContactGroup[name]":name,"ContactGroup[contactgroup_id]":id});return PUBLIC.New.post(postUrl,p).then(function(e){return PRIVATE.groupList=PRIVATE.groupList.map(function(group){return group.CONTACTGROUP_ID==e.models.CONTACTGROUP_ID?(e.models.NUM_CONTACTS=Object.keys(e.models.contacts).length,e.models):group}).sort(function(n1,n2){return n2<n1?1:n1<n2?-1:0}),e})},PUBLIC.New.getProfile=function(useCache){var getUrl,dataInfo;return useCache&&window.userProfile&&!window.userProfile.logged?Promise.resolve(window.userProfile):PUBLIC.New.get("site/profile",{format:"json"}).then(function(response){return window.userProfile=response})},PUBLIC.New.getUserInfo=function(){var getUrl="message/wsstatus&format=json",seconds=Math.round((new Date).getTime()/1e3);return window.wsStatus&&(!window.wsStatus.modified||seconds-window.wsStatus.modified<60)?(window.wsStatus.modified||(window.wsStatus.modified=seconds),new Promise(function(resolve,reject){resolve(window.wsStatus)})):PUBLIC.New.get(getUrl,{}).then(function(response){var seconds=Math.round((new Date).getTime()/1e3);return window.wsStatus=response,window.wsStatus.modified=seconds,PUBLIC.trigger("getUserInfo",response),response})},PUBLIC.New.getUserConfiguration=function(){var userConfiguration=window.userConfiguration,getUrl;return userConfiguration&&Object.keys(userConfiguration).length?Promise.resolve(userConfiguration):PUBLIC.New.get("userConfiguration/wsuserconfiguration&format=json",{}).then(function(response){return window.userConfiguration=response})},PUBLIC.New.getUserSignature=function(){var getUrl;return PUBLIC.New.get("userConfiguration/wssignature&format=json",{}).then(function(response){return PUBLIC.trigger("getUserSignature",response),response})},PUBLIC.New.getConfigs=function(filter){var getUrl;return PUBLIC.New.get("userConfiguration/update&_clean=true&format=json",{}).then(function(argument){return argument.models.reduce(function(hash,el){return(!filter||-1<filter.indexOf(el.KEY))&&(hash[el.KEY]=el.VALUE),hash},{})})},PUBLIC.New.activeFilter=function(value){var getUrl,dataInfo;return PUBLIC.New.post("userConfiguration/activeFilter&format=json",{activateChangeFor:value?1:0})},PUBLIC.New.opcoesAntispam=function(spamReport,moveSpamToSpam,superFilter){var getUrl,dataInfo;return PUBLIC.New.post("userConfiguration/opcoesAntispam&format=json",{"opcoes[spamReport]":spamReport||!1,"opcoes[moveSpamToSpam]":moveSpamToSpam||!1,"opcoes[superFilter]":superFilter||!1})},PUBLIC.New.addAntiSpam=function(type,value){var getUrl,dataInfo;return PUBLIC.New.post("userConfiguration/criarAntispam&format=json",{address:value,type:type})},PUBLIC.New.removeAntiSpam=function(type,value){var getUrl,dataInfo;return PUBLIC.New.post("userConfiguration/removerAntispam&format=json",{address:value,type:type})},PUBLIC.New.getAntiSpam=function(){return PUBLIC.New.getEcpConfigs().then(function(result){return{blackList:result.antispam_lists.manual.black_list.map(function(argument){return argument.type=-1<argument.address.indexOf("@")?"email":"domain",argument}),whiteList:result.antispam_lists.manual.white_list.map(function(argument){return argument.type=-1<argument.address.indexOf("@")?"email":"domain",argument}),superFilter:result.superFilter,moveSpamToSpam:result.moveSpamToSpam,spamReport:result.spamReport}})},PUBLIC.New.linkPhishingMessageVerify=function(listLink){var reqData="";return listLink.length?(listLink.map(function(item){reqData+="urls="+window.encodeURIComponent(item)+"&"}),req.post({url:encodeURI("https://p1.trrsf.com/cengine/phishing-check/app"),dataType:"json",data:reqData,timeout:1e4,error:function(xhr,error){PRIVATE.error("errorVade",{xhr:xhr,error:error,listLink:listLink})},ontimeout:function(xhr,error){PRIVATE.error("timeoutVade",{xhr:xhr,error:error,listLink:listLink})}})):Promise.resolve(listLink)},PUBLIC.New.sendFeedback=function(data){var postUrl,data={"TalkToUsForm[subject]":data.subject,"TalkToUsForm[screenResolution]":data.screenResolution,"TalkToUsForm[screenZoom]":data.screenZoom,"TalkToUsForm[likeVersion]":data.likeVersion,"TalkToUsForm[motiveContact]":"[OZONE] "+data.motiveContact,"TalkToUsForm[body]":data.body,"TalkToUsForm[permissionAccess]":data.permissionAccess};return PUBLIC.New.post("site/sendUserFeedback&format=json",data)},PUBLIC.New.getEcpConfigs=function(){var getUrl;return PUBLIC.New.get("userConfiguration/wsecpConfig&format=json",{})},PUBLIC.New.setEcpConfigs=function(configs){var getUrl;return PUBLIC.New.get("userConfiguration/saveAutoReply&format=json",configs)},PUBLIC.New.editAlias=function(configs){var getUrl;return PUBLIC.New.post("userConfiguration/editarAlias&format=json",configs)},PUBLIC.New.newAlias=function(configs){var getUrl;return PUBLIC.New.post("userConfiguration/criarAlias&format=json",configs)},PUBLIC.New.deleteAlias=function(){var getUrl;return PUBLIC.New.get("userConfiguration/removerAlias&format=json",{})},PUBLIC.New.newPasswdLatam=function(configs){var getUrl;return PUBLIC.New.get("userConfiguration/novaSenhaLatam&format=json",configs)},PUBLIC.New.setRedirect=function(configs){var url="userConfiguration/editarRedirect&format=json",configRedirect;return configs.new_redirect.length||(url="userConfiguration/removerRedirect&format=json"),PUBLIC.New.post(url,configs)},PUBLIC.New.setConfigs=function(configs){var postUrl="userConfiguration/update&format=json",configs=configs.reduce(function(hash,pair,i){return hash["UserConfiguration["+i+"][key]"]=pair.name,hash["UserConfiguration["+i+"][value]"]=void 0!==pair.value?pair.value:0,hash},{});return PUBLIC.New.post(postUrl,configs)},PUBLIC.New.rollbackVersion=function(){var dataInfo;return PUBLIC.New.setConfigs([{name:"/params/use_ozone",value:!1}])},PUBLIC.New.setSignature=function(signature){var listConf;return PUBLIC.New.setConfigs([{name:"/params/signature",value:signature}])},PUBLIC.New.addGroup=function(name,p){var postUrl="contactGroup/create&format=json",p=p.reduce(function(old,el){return old.ContactGroup=old.ContactGroup||{},old.ContactGroup.contacts=old.ContactGroup.contacts||{},old.ContactGroup.contacts[el.obj.id]=old.ContactGroup.contacts[el.obj.id]||{},old.ContactGroup.contacts[el.obj.id].contact_id=el.obj.id,old},{"ContactGroup[name]":name});return PUBLIC.New.post(postUrl,p).then(function(e){return e.models.NUM_CONTACTS=Object.keys(e.models.contacts).length,0===e.errors.length&&(PRIVATE.groupList.push(e.models),PRIVATE.groupList=PRIVATE.groupList.sort(function(n1,n2){return n2<n1?1:n1<n2?-1:0})),e})},PUBLIC.New.addFilter=function(configs){var getUrl;return PUBLIC.New.post("userConfiguration/saveFilter&_clean=true&format=json",configs)},PUBLIC.New.editFilter=function(configs){var getUrl;return PUBLIC.New.post("userConfiguration/editFilter&_clean=true&format=json",configs)},PUBLIC.New.enableFilter=function(configs){var getUrl="userConfiguration/enabledFilter&_clean=true&format=json";return configs.method="turnon",PUBLIC.New.post(getUrl,configs)},PUBLIC.New.disableFilter=function(configs){var getUrl="userConfiguration/enabledFilter&_clean=true&format=json";return configs.method="turnoff",PUBLIC.New.post(getUrl,configs)},PUBLIC.New.deleteFilter=function(configs){var getUrl;return PUBLIC.New.post("userConfiguration/removeFilter&_clean=true&format=json",configs)},PUBLIC.New.setUserConfiguration=function(configs){var postUrl;return PUBLIC.New.post("userConfiguration/update&action=&_clean=true&format=json",configs)},PUBLIC.New.contactList=function(nocache){var getUrl;return!nocache&&PRIVATE.contactList?(PUBLIC.trigger("contactList",PRIVATE.contactList),Promise.resolve(PRIVATE.contactList)):PUBLIC.New.get("allContacts/listAll&format=json",{}).then(function(response){return PRIVATE.contactList=response,PUBLIC.trigger("contactList",response),response})},PUBLIC.New.removeAllFromFolder=function(name,id){var postUrl,dataInfo;return PUBLIC.New.post("mailBox/list&format=json",{"MailBoxList[action]":"EmptyMessagesFromFolder","MailBox[name]":name,"MailBoxTo[name]":name,"MailBoxTo[mailbox_id]":id,"MailBox[mailbox_id]":id,"Message[uid]":"noname"}).then(function(response){return PUBLIC.trigger("removeAllFromFolder",response),response})},PUBLIC.New.setReply=function(stats){var getUrl,dataInfo;return PUBLIC.New.get("userConfiguration/activeAutoReply",{activateChangeFor:stats?1:0})},PUBLIC.New.getFolders=function(page){var getUrl,dataInfo;return PUBLIC.New.get("mailBox/list&format=json2",{page:page||1})},PUBLIC.New.addFolder=function(name,page){var postUrl,dataInfo;return PUBLIC.New.post("mailBox/list&format=json2&action=addFolder",{page:page||1,"MailBoxList[action]":"create","MailBox[name]":name}).then(function(response){return PRIVATE.mailboxList=[],response})},PUBLIC.New.cleanFolder=function(name,page){var postUrl,dataInfo;return PUBLIC.New.post("mailBox/list&format=json2",{page:page||1,"MailBoxList[action]":"EmptyMessagesFromFolder","MailBox[mailbox_id]":name})},PUBLIC.New.setTimezone=function setTimezone(locate){var postUrl,dataInfo;return PUBLIC.New.post("userConfiguration/update&format=json",{"UserConfiguration[0][key]":"/params/timeZone","UserConfiguration[0][value]":locate})},PUBLIC.New.deleteFolder=function(name,page){var postUrl,dataInfo;return PUBLIC.New.post("mailBox/list&format=json2",{page:page||1,"MailBoxList[action]":"delete","MailBox[0][mailbox_id]":name}).then(function(response){return PRIVATE.mailboxList=[],response})},PUBLIC.New.renameFolder=function(id,name,page){var postUrl,dataInfo;return PUBLIC.New.post("mailBox/list&format=json2",{page:page||1,"MailBoxList[action]":"update","MailBox[mailbox_id]":id,"MailBox[name]":name}).then(function(response){return PRIVATE.mailboxList=[],response})},PUBLIC.New.getMailBoxes=function(page){var getUrl,dataInfo;return PRIVATE.mailboxList.length?Promise.resolve(PRIVATE.mailboxList):PUBLIC.New.get("mailBox/wslist",{format:"json"}).then(function(mailBoxes){return PRIVATE.mailboxList=(mailBoxes.l||[]).map(function(mailbox){return{index:mailbox.o,id:mailbox.i,name:mailbox.n,imapId:mailbox.t,seenCount:mailbox.c.t,unseenCount:mailbox.c.n,level:mailbox.level||0}}),PRIVATE.mailboxList.sort(function(a,b){return a.index===b.index?0:a.index<b.index?-1:1}),PUBLIC.trigger("getMailBoxes",PRIVATE.mailboxList),PRIVATE.mailboxList})},PUBLIC.New.getMailBoxStatus=function getMailBoxStatus(mailBoxId){var postUrl,dataInfo,dataInfo=mailBoxId?(postUrl="mailBox/wsgetstatus&format=json",{"MailBox[mailbox_id]":mailBoxId}):(mailBoxId="",postUrl="mailBox/wsgetliststatus&format=json",{"MailBoxList[0]":"INBOX","MailBoxList[1]":"Spam"});return mailBoxId=mailBoxId.toLowerCase(),PUBLIC.New.get(postUrl,dataInfo).then(function(response){for(var i=0;i<PRIVATE.mailboxList.length;i++){var mailbox=PRIVATE.mailboxList[i],imapId=mailbox.imapId;if(mailBoxId||"inbox"!==imapId&&"spam"!==imapId||(mailbox.seenCount=parseInt(response[mailbox.id].seenCount),mailbox.unseenCount=parseInt(response[mailbox.id].unseenCount)),mailBoxId&&mailBoxId===mailbox.imapId){mailbox.seenCount=parseInt(response.seenCount),mailbox.unseenCount=parseInt(response.unseenCount);break}}return response})},PUBLIC.New.setMessageSort=function(orderBy){var cookieNames={},cookieOrientation={};cookieNames.from="_DISPLAYFROM_",cookieNames.to="_TO_",cookieNames.subject="_SUBJECT_",cookieNames.size="_SIZE_",cookieNames["date-received"]="_ARRIVAL_",cookieOrientation.desc="_DESC_",cookieOrientation.asc="_ASC_",PUBLIC.orderBy={sort_field:cookieNames[orderBy.column],sort_orientation:cookieOrientation[orderBy.sort]}},PUBLIC.New.getMessages=function(params){var lastSearch,lastSearch,messagesObj,url="message/wslist&format=json";return PUBLIC.orderBy||PUBLIC.New.setMessageSort({column:"date-received",sort:"desc"}),params.lastSearch&&"string"==typeof params.lastSearch?lastSearch={subject:params.lastSearch,from:params.lastSearch,to:params.lastSearch}:params.lastSearch||(lastSearch={}),messagesObj={},lastSearch={"MailBox[mailbox_id]":params.mailBoxId,"MessageAsQuery[envelope][from]":lastSearch.from||"","MessageAsQuery[envelope][to]":lastSearch.to||"","MessageAsQuery[envelope][subject]":lastSearch.subject||"",page:params.page,orderedByRequest:1,offset:0===params.messageIndex?params.messageIndex:PUBLIC.lastMessageIndex,pageSize:params.size||PUBLIC.pageSize,sort_field:PUBLIC.orderBy.sort_field,sort_orientation:PUBLIC.orderBy.sort_orientation,format:"json"},PUBLIC.New.get(url,lastSearch).then(function(messagesLegacy){var dataPass={messages:[],stat:messagesLegacy.stat||{}};return messagesLegacy&&"object"==typeof messagesLegacy&&messagesLegacy.l&&(dataPass.messages=messagesLegacy.l.map(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,params.mailBoxId)})),PUBLIC.trigger("getMessages",dataPass),dataPass})},PUBLIC.New.getHeaderMessage=function(args){var dataInfo={},url,args;return args?(args={"Message[uid]":args.messageId,"Message[envelope][message-id]":args.messageOid,"Message[mailBox][mailbox_id]":args.mailBoxId,"Message[mailbox_id]":args.mailBoxId},PUBLIC.New.get("message/ShowRawHeaders&format=json",args).then(function(response){return dataInfo=response}).catch(function(error){return dataInfo.error=[error],dataInfo})):dataInfo},PUBLIC.New.getMessage=function(mailBoxId,messageId){var getUrl="message/wsshow&format=json",dataInfo={"Message[uid]":messageId,"Message[mailBox][mailbox_id]":mailBoxId};return PUBLIC.New.getMessage.CACHE[mailBoxId]="Rascunhos"!==mailBoxId&&PUBLIC.New.getMessage.CACHE[mailBoxId]?PUBLIC.New.getMessage.CACHE[mailBoxId]:{},PUBLIC.New.getMessage.CACHE[mailBoxId][messageId]||PUBLIC.New.get(getUrl,dataInfo).then(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,mailBoxId,messageId)}).then(function(response){return PUBLIC.trigger("getMessage",response),PUBLIC.New.getMessage.CACHE[mailBoxId][messageId]=Promise.resolve(response),response})},PUBLIC.New.getMessage.CACHE={},PUBLIC.New.getMessage.DeleteCache=function(mailBoxIds,messageIds){var c=PUBLIC.New.getMessage.CACHE;if(c[mailBoxIds])for(var i=0;i<messageIds.length;i++)c[mailBoxIds][messageIds[i]]&&delete c[mailBoxIds][messageIds[i]]},PUBLIC.New.moveMessages=function(messageIds,from,to){var postUrl,dataInfo;return PUBLIC.New.post("message/wsmove",{uids:messageIds="object"!=typeof messageIds?[messageIds]:messageIds,mailbox:from,"MailBoxTo[mailbox_id]":to}).then(function(legacyMessage){var result={};return 1==legacyMessage.s&&(result.success=!0),result}).then(function(response){return PUBLIC.trigger("moveMessages",response),response})},PUBLIC.New.reportPhishing=function(messageIds,from,to,description,vadeMessagePhishingStatus){var postUrl,dataInfo;return PUBLIC.New.post("message/wssendReportPhishing",{uids:messageIds="object"!=typeof messageIds?[messageIds]:messageIds,mailbox:from,"MailBoxTo[mailbox_id]":to,reportdescribing:description,vadeMessagePhishingStatus:vadeMessagePhishingStatus}).then(function(legacyMessage){var result={};return 1==legacyMessage.s&&(result.success=!0),result}).then(function(response){return PUBLIC.trigger("moveMessages",response),response})},PUBLIC.New.markMessagesAsReaded=function(mailBoxId,messageIds){var postUrl,dataInfo;return PUBLIC.New.post("message/wsflag",{uids:messageIds="object"!=typeof messageIds?[messageIds]:messageIds,mailbox:mailBoxId,seen:1}).then(function(legacyMessage){var result={};return 1==legacyMessage.s&&(result.success=!0),result}).then(function(response){return PUBLIC.trigger("markMessagesAsReaded",response),response})},PUBLIC.New.markMessagesAsUnreaded=function(mailBoxIds,messageIds,success,error){var postUrl,dataInfo={uids:messageIds="object"!=typeof messageIds?[messageIds]:messageIds,mailbox:mailBoxIds,seen:0};return PUBLIC.New.post("message/wsflag",dataInfo).then(function(legacyMessage){var result={};return 1==legacyMessage.s&&(result.success=!0),PUBLIC.New.getMessage.DeleteCache(mailBoxIds,messageIds),result}).then(function(response){return PUBLIC.trigger("markMessagesAsUnreaded",response),response})},PUBLIC.New.createMessage=function(){var postUrl;return PUBLIC.New.post("message/wscompose&format=json",{}).then(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,"")}).then(function(response){return PUBLIC.trigger("createMessage",response),response})},PUBLIC.New.editMessage=function editMessage(messageId){var postUrl,dataInfo;return PUBLIC.New.post("message/wscompose&format=json",{"MailBox[mailbox_id]":"Rascunhos","Message[mailBox][mailbox_id]":"Rascunhos","Message[uid]":messageId}).then(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,"")}).then(function(response){return PUBLIC.trigger("editMessage",response),response})},PUBLIC.New.replyMessage=function(mailBoxId,messageId){var getUrl,dataInfo;return PUBLIC.New.get("message/wscompose&MessageComposition[action]=reply",{"MessageBeingReplied[mailBox][mailbox_id]":mailBoxId,"MessageBeingReplied[uid]":messageId}).then(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,mailBoxId,messageId,"reply")}).then(function(response){return PUBLIC.trigger("replyMessage",response),response})},PUBLIC.New.replyToAllMessage=function(mailBoxId,messageId){var getUrl,dataInfo;return PUBLIC.New.get("message/wscompose&MessageComposition[action]=replyToAll",{"MessageBeingReplied[mailBox][mailbox_id]":mailBoxId,"MessageBeingReplied[uid]":messageId}).then(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,mailBoxId,messageId,"replyToAll")}).then(function(response){return PUBLIC.trigger("replyToAllMessage",response),response})},PUBLIC.New.forwardMessage=function(mailBoxId,messageId){var getUrl,dataInfo;return PUBLIC.New.get("message/wscompose&MessageComposition[action]=forward",{"MessageBeingForwarded[mailBox][mailbox_id]":mailBoxId,"MessageBeingForwarded[uid]":messageId}).then(function(legacyMessage){return PRIVATE.normalizeMessage(legacyMessage,mailBoxId,messageId,"forward")}).then(function(response){return PUBLIC.trigger("forwardMessage",response),response})},PUBLIC.New.saveMessage=function(message,messageObj){var postUrl="message/compose",message={"MessageComposition[action]":"wssave","Message[envelope][message-id]":message.oid,"Message[envelope][to]":message.to,"Message[envelope][cc]":message.cc,"Message[envelope][bcc]":message.bcc,"Message[envelope][subject]":message.subject,"Message[body]":message.body,"Message[envelope][priority]":message.priority,"Message[mainBodyContentType]":"text/html","Message[envelope][recovery-data]":messageObj.getRecoveryData()};return PUBLIC.New.post("message/compose",message).then(function(answer){return{success:answer&&1===answer.s,answer:answer}}).then(function(response){return PUBLIC.trigger("saveMessage",response),response}).catch(function(e){return Promise.reject("Erro on save message")})},PUBLIC.New.sendMessage=function sendMessage(message,captcha,messageObj){var url="message/compose&MessageComposition[action]=wssend",data={"Message[envelope][message-id]":message.oid,"Message[envelope][recovery-data]":messageObj.getRecoveryData(),"Message[envelope][to]":message.to,"Message[envelope][cc]":message.cc,"Message[envelope][bcc]":message.bcc,"Message[envelope][subject]":message.subject,attachAlert:"0","Message[body]":message.body,"Message[envelope][priority]":message.priority||"normal","Message[mainBodyContentType]":"text/html"};return message.deliveredTo&&(data["Message[envelope][delivered-to]"]=message.deliveredTo,data["Message[envelope][subject]"]="Read: "+message.subject,data.markAsConfirmed="true"),message.receiptTo&&(data["Message[envelope][return-receipt-to]"]=message.receiptTo),captcha&&captcha.challenge&&captcha.answer&&(data.brand_cap_challenge=captcha.challenge,data.brand_cap_answer=captcha.answer),new Promise(function(resolve,reject){PUBLIC.New.post(url,data).then(function(answer){!answer.s&&answer.e&&-2===answer.e.c&&reject(answer),resolve(answer)}).catch(function(e){reject(e)})}).then(function(response){return response.success=1===response.s,PUBLIC.trigger("sendMessage",response),response})},PUBLIC.New.markAsConfirmed=function(message){var postUrl,message={uids:[message.id],mailbox:message.mailBoxId,message_mark_confirmed_flag:message.confirmation};return PUBLIC.New.post("message/markAsConfirmed",message).then(function(legacyMessage){var result={};return 1==legacyMessage.s&&(result.success=!0),result})},PUBLIC.New.sendCaptcha=function(message,captchaData){var postUrl,message={"Message[envelope][message-id]":PUBLIC.lastMessageOID,message_id:PUBLIC.lastMessageOID,"Message[envelope][to]":message.to,"Message[envelope][cc]":message.cc,"Message[envelope][bcc]":message.bcc,"Message[envelope][subject]":message.subject,"Message[body]":message.body,"Message[envelope][priority]":"Normal","Message[mainBodyContentType]":"text/html",brand_cap_answer:captchaData.response,brand_cap_challenge:captchaData.challenge};return PUBLIC.New.post("message/wsshowcaptcha&format=json",message).then(function(answer){return answer.success=1===answer.s,answer}).then(function(response){return PUBLIC.trigger("sendMessage",response),response})},PUBLIC.New.removeAttachment=function(attachment,fromUser,recoveryData){var postUrl,recoveryData={"Message[mailBox][mailbox_id]":attachment.mailBoxId,"Message[uid]":attachment.messageId,"Message[envelope][message-id]":attachment.messageOid,"Message[envelope][recovery-data]":recoveryData,"Message[from-user]":fromUser="boolean"!=typeof fromUser?!1:fromUser,"MessageAttachment[][attachment_id]":attachment.id};return PUBLIC.New.post("message/deleteAttachment&format=json",recoveryData)},PUBLIC.New.discard=function(){return PUBLIC.New.deleteMessages(PUBLIC.lastID,"Rascunhos").then(function(response){return PUBLIC.trigger("discard",response),response})},PUBLIC.New.deleteMessages=function(messageIds,from,success,error){var postUrl,dataInfo;return PUBLIC.New.post("message/wsdelete",{uids:messageIds="object"!=typeof messageIds?[messageIds]:messageIds,mailbox:from,"MailBoxTo[mailbox_id]":from}).then(function(legacyMessage){var result={};return legacyMessage&&1==legacyMessage.s&&(result.success=!0),result}).then(function(response){return PUBLIC.trigger("deleteMessages",response),response})},PUBLIC.New.blockContact=function(address){var getUrl,dataInfo;return PUBLIC.New.post("userConfiguration/criarAntispam&format=json",{address:address,type:"blacklist"}).then(function(response){return PUBLIC.trigger("blockContact",response),response})},PUBLIC.getAttachmentDownloadURL=function(attachment){var attachmentUrl="",attachmentUrl=(attachmentUrl=(attachmentUrl=(attachmentUrl+="&Message[mailBox][mailbox_id]="+encodeURIComponent(attachment.mailBoxId))+("&Message[uid]="+encodeURIComponent(attachment.messageId)))+("&Message[envelope][message-id]="+encodeURIComponent(attachment.messageOid)))+("&MessageAttachment[][attachment_id]="+encodeURIComponent(attachment.id));return attachmentUrl=PUBLIC.url+"?r=message/downloadAttachment"+attachmentUrl},PUBLIC.downloadAttachment=function(attachment){window.document.location=PUBLIC.getAttachmentDownloadURL(attachment)},PUBLIC.getAttachmentThumbnailURL=function(attachment){var attachmentUrl="",attachmentUrl=(attachmentUrl=(attachmentUrl=(attachmentUrl+="&Message[mailBox][mailbox_id]="+encodeURIComponent(attachment.mailBoxId))+("&Message[uid]="+encodeURIComponent(attachment.messageId)))+("&Message[envelope][message-id]="+encodeURIComponent(attachment.messageOid)))+("&MessageAttachment[][attachment_id]="+encodeURIComponent(attachment.id));return attachmentUrl=PUBLIC.url+"?r=message/thumbimage"+attachmentUrl},PUBLIC.removeAttachmentUrl=function(attachment){var attachmentUrl="",attachmentUrl=(attachmentUrl=(attachmentUrl=(attachmentUrl+="&Message[mailBox][mailbox_id]="+encodeURIComponent(attachment.mailBoxId))+("&Message[uid]="+encodeURIComponent(attachment.messageId)))+("&Message[envelope][message-id]="+encodeURIComponent(attachment.messageOid)))+("&MessageAttachment[][attachment_id]="+encodeURIComponent(attachment.id));return attachmentUrl=PUBLIC.url+"?r=message/deleteAttachment&format=json"+attachmentUrl},PUBLIC.printMessage=function(mailBoxId,messageId){window.open(PUBLIC.url+"?r=message/print&Message%5Buid%5D="+messageId+"&Message%5BmailBox%5D%5Bmailbox_id%5D="+mailBoxId)},PUBLIC.openMessage=function(mailBoxId,messageId){window.open(PUBLIC.url+"?r=message/print&Message%5Buid%5D="+messageId+"&Message%5BmailBox%5D%5Bmailbox_id%5D="+mailBoxId)},PUBLIC.idToImap=function(value){var idToImap;return{INBOX:"inbox","E-mails enviados":"sent",Rascunhos:"drafts",Spam:"spam",Lixeira:"trash"}[value]}},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,PUBLIC_STATIC;pkg.factoryManager.get("app").create({name:"Header",version:"1.0.0",state:"ok",dependencies:[],dictionaries:[],templates:{},expects:{properties:{target:{type:"object",required:!0}}},setup:function(__static,__proto,__shared){PUBLIC_STATIC=__static},init:function(data,__shared){var PUBLIC=this,PRIVATE={DOM:{}};return PRIVATE.DOM.target=data.target,PRIVATE.DOM.usernameContent=PRIVATE.DOM.target.querySelector(".user-tool span"),PRIVATE.DOM.btnMenuBurguer=PRIVATE.DOM.target.querySelector("#menuBurguer"),PRIVATE.DOM.btnContact=PRIVATE.DOM.target.querySelector("#btnContact"),PRIVATE.DOM.btnConfig=PRIVATE.DOM.target.querySelector("#btnConfig"),PRIVATE.DOM.btnUserArea=PRIVATE.DOM.target.querySelector("#btnUserArea"),PRIVATE.DOM.search={},PRIVATE.DOM.search.content=PRIVATE.DOM.target.querySelector("#searchContent"),PRIVATE.DOM.search.input=PRIVATE.DOM.target.querySelector("#webmail-search"),PRIVATE.DOM.search.btnSearch=PRIVATE.DOM.target.querySelector("#btnSearch"),PRIVATE.DOM.search.btnBack=PRIVATE.DOM.target.querySelector("#btnSearhReturn"),PRIVATE.DOM.btnMenuBurguer.addEventListener("click",function(){PUBLIC.trigger("click-menu-burguer",{})},!0),PRIVATE.DOM.btnContact.addEventListener("click",function(){PUBLIC.trigger("click-contact",{})},!0),PRIVATE.DOM.btnConfig.addEventListener("click",function(){PUBLIC.trigger("click-config",{})},!0),PRIVATE.DOM.btnUserArea.addEventListener("click",function(){PUBLIC.trigger("click-userarea",{})},!0),PRIVATE.DOM.search.btnBack.addEventListener("click",function(){PUBLIC.trigger("click-search-back",{})},!0),PRIVATE.DOM.search.btnSearch.addEventListener("click",function(){PUBLIC.trigger("click-search",{})},!0),PRIVATE.setHeadUsername=function(){var headContentUsername=document.querySelector(".user-tool span"),username=window.userProfile.email.split("@")[0];headContentUsername.innerHTML=username},PRIVATE.enableSearchContent=function(){PRIVATE.DOM.search.content.classList.add("active"),PRIVATE.DOM.search.input.focus()},PRIVATE.disableSearchContent=function(){PRIVATE.DOM.search.content.classList.remove("active"),PRIVATE.DOM.search.input.blur()},PRIVATE.enableBtnSearch=function(){PRIVATE.DOM.search.btnSearch.style.display="block"},PRIVATE.disableBtnSearch=function(){PRIVATE.DOM.search.btnSearch.style.display="none"},PRIVATE.setUsername=function(username){PUBLIC.DOM.usernameContent.innerHTML=username},PRIVATE.getUsername=function(){return PUBLIC.DOM.usernameContent.innerHTML},PRIVATE.resetSearchValue=function(){PRIVATE.DOM.search.input.value=""},PRIVATE.whatIsContextToSearch=function(){var locationHref=window.location.href;return/mailList/.test(locationHref)?"maillist":/contacts/.test(locationHref)?"contacts":""},PUBLIC.enableSearchContent=PRIVATE.enableSearchContent,PUBLIC.disableSearchContent=PRIVATE.disableSearchContent,PUBLIC.enableBtnSearch=PRIVATE.enableBtnSearch,PUBLIC.disableBtnSearch=PRIVATE.disableBtnSearch,PUBLIC.getUsername=PRIVATE.getUsername,PUBLIC.setUsername=PRIVATE.setUsername,PUBLIC.resetSearchValue=PRIVATE.resetSearchValue,PUBLIC.whatIsContextToSearch=PRIVATE.whatIsContextToSearch,PUBLIC.setHeadUsername=PRIVATE.setHeadUsername,PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,appFactory=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,gs,$;appFactory.create({name:"MailList",version:"1.0.0",state:"ok",dependencies:["mod.jQuery","mod.Analytics","app.Modal","app.Api","mod.globalStorage"],dictionaries:["webmail"],templates:{retryItem:'<div id="retryMailListContent" class="retry-mail-list-container">    <p> {{ errorLoadMailList }} </p>    <br>    <button id="btnRetryMailList" class="ozone__button">{{ retry }}</button></div>',item:'{% for message in messages %}<tr class="mail-template message-{{message.id}} {{message.flags | join(\' \')}}" data-message="{{ dump(message) | escape }}">    <td class="checkbox">        <div class="ozone__checkbox">            <input type="checkbox" id="item-{{message.id}}" class="mail-template-checkbox">            <label for="item-{{message.id}}" class="ozone__checkbox__label"> </label>        </div>    </td>    <td class="from">        <span title="{{message.fromEmail}}">            <div class="magicEllipsis">                <div class="magicEllipsis__cell from-name">                    <div class="magicEllipsis__table">                        <div class="magicEllipsis__truncate">                            <span title="{{message.fromEmail}}">{{message.fromName}}</span>                        </div>                    </div>                </div>                <span class="icons magicEllipsis__cell">                    <i class="icon icon-16 icon-attached"></i>                    <i class="icon icon-16 icon-error"></i>                    <i class="icon icon-16 icon-reply"></i>                    <i class="icon icon-16 icon-reply_all"></i> \x3c!-- --\x3e                    <i class="icon icon-16 icon-forward"></i> \x3c!-- --\x3e                    <i class="icon icon-16 icon-trivial"></i>                </span>            </div>        </span>    </td>    <td class="checkbox_second_line"></td>    <td class="to">        <span title="{{message.toEmail}}">            <div class="magicEllipsis">                <div class="magicEllipsis__cell from-name">                    <div class="magicEllipsis__table">                        <div class="magicEllipsis__truncate">                            <span title="{{message.toEmail}}">{{message.toEmail}}</span>                        </div>                    </div>                </div>                <span class="icons magicEllipsis__cell">                    <i class="icon icon-16 icon-attached"></i>                    <i class="icon icon-16 icon-error"></i>                    <i class="icon icon-16 icon-reply"></i>                    <i class="icon icon-16 icon-reply_all"></i> \x3c!-- --\x3e                    <i class="icon icon-16 icon-forward"></i> \x3c!-- --\x3e                    <i class="icon icon-16 icon-trivial"></i>                </span>            </div>        </span>    </td>    <td class="subject" title=\'{{message.subject}}\'>        <span>{{message.subject}}</span>        <span class="icons magicEllipsis__cell">            {% if message.hasAttach %}            <i class="icon icon-16 icon-attached"></i>            {% endif %}            <i class="icon icon-16 icon-error"></i>            <i class="icon icon-16 icon-trivial"></i>        </span>    </td>    <td class="size" title=\'{{message.sizeFull}}\'>{{message.size}}</td>    <td class="date-received">{{message.received}}</td></tr>{% endfor %}',folders:"{% for folder in folders %}    {% if folder.imapId != 'drafts' and folder.imapId != 'sent' %}        <option class=\"folder-{{ folder.index}}\" value=\"{{folder.id}}\">{{folder.name}}</option>    {% endif %}{% endfor %}"},setup:function(__static,__proto,__shared){gs=new __shared.dependencies["mod.globalStorage"],window.jQuery=$=__shared.dependencies["mod.jQuery"],PUBLIC_STATIC=__static},init:function(data,__shared){var PUBLIC=this,PRIVATE={},Modal=__shared.dependencies["app.Modal"],Analytics=__shared.dependencies["mod.Analytics"];return PRIVATE.api=new __shared.dependencies["app.Api"]({}),PRIVATE.controller=data.controller,PRIVATE.target=data.target,PRIVATE.$target=$(PRIVATE.target),PRIVATE.windowIsVisible=!0,PRIVATE.isRefreshed=!1,PRIVATE.lastStatus={},PRIVATE.currentFolder=null,PRIVATE.currentPage=1,PRIVATE.messageRegex=/.*(message-([0-9]+)).*/,PRIVATE.orderBy={column:"",sort:""},PRIVATE.moveToFolderEl=PRIVATE.$target.find(".move-to-folder"),PUBLIC.target=PRIVATE.target,PUBLIC.isFiltered=!1,PUBLIC.DOM={mailListItem:PRIVATE.target.querySelector(".mail-template"),mailList:PRIVATE.target.querySelector(".mail-list"),checkboxHead:PRIVATE.$target.find(".header input[type=checkbox]"),filterReference:PRIVATE.target.querySelector("#filter_reference"),filterHeadLine:PRIVATE.target.querySelector(".header"),checkboxAll:PRIVATE.target.querySelector(".header .ozone__table__thead__th"),content:document.getElementById("content")},window.addEventListener("resize",pkg.utils.make.debounce(function(){PUBLIC.calculateMailListFill(),PUBLIC.listIsAtBottom()&&PUBLIC.trigger("listScrollBottom",{page:PRIVATE.currentPage})})),PRIVATE.controller.on("windowFocusIn",function(){PRIVATE.isRefreshed&&(PRIVATE.isRefreshed=!1,PUBLIC.refreshFolder(null,null,PRIVATE.controller.lastSearch))}),PUBLIC.on("listScrollBottom",function(params){PUBLIC.nextPage()}),PUBLIC.on("getstatus",function(response){var seenCount;0===parseInt(response.seenCount)?$("#mail-list").addClass("-empty"):$("#mail-list").removeClass("-empty")}),$("span").hasClass("icon-delete-folder")&&PRIVATE.target.querySelector(".clear-all").addEventListener("click",function(){PUBLIC.trigger("clear-all",PRIVATE.currentFolder)}),$("span").hasClass("icon-refresh-folder")&&PRIVATE.target.querySelector(".refresh-folder").addEventListener("click",function(e){var target=e.target;target.classList.add("refreshing"),PUBLIC.getCurrentFolder().id==PRIVATE.currentFolder.id?PUBLIC.refreshFolder(null,null,PRIVATE.controller.lastSearch).then(function(){target.classList.remove("refreshing")}):PRIVATE.api.New.getMailBoxStatus(PRIVATE.currentFolder.id||"INBOX").then(function(response){PUBLIC.FolderList.setCount(response.unseenCount,PUBLIC.getFolder({imapId:PRIVATE.currentFolder.imapId,index:PRIVATE.currentFolder.index})),target.classList.remove("refreshing")}).catch(function(err){console.log('# worker.on("composer")... PRIVATE.api.New.getMailBoxStatus('+PRIVATE.currentFolder.imapId+"): ",err)})}),PRIVATE.diff=function(obj,obj2){return!Object.keys(obj2).reduce(function(old,el){return old||obj2[el]!==obj[el]},!1)},PRIVATE.appendPage=function(messageData){return messageData&&messageData.messages&&PUBLIC.MessageList.addMessages(messageData.messages),messageData},PRIVATE.getMessages=function(params){var i,data=(PUBLIC.removeRetryContent(),{folder:params.folder,mailBoxId:params.folder.id,page:params.page,size:params.size,lastSearch:params.lastSearch,messageIndex:params.messageIndex,retryCounter:params.retryCounter||0});return PRIVATE.currentFolder=params.folder,PRIVATE.currentPage=params.page||1,PRIVATE.api.New.getMessages(data).then(function(response){return response}).catch(function(error){return 2<=data.retryCounter?(PRIVATE.messages.length?PUBLIC.showDialog({message:PUBLIC.l10n.get("getMessageError"),type:"error",timeout:5e3}):PUBLIC.addRetryContent(),error):(data.retryCounter+=1,PRIVATE.getMessages(data))})},PRIVATE.filterFolders=function(folder){PRIVATE.moveToFolderEl.find("option").each(function(index,element){element.style.display="",element.value===folder.id&&(element.style.display="none")})},PRIVATE.idToImap=function(folder){return 5<folder.index?"user":PRIVATE.api.idToImap(folder.id)},PRIVATE.clickOrDbclick=function(singleClk,doubleClk){return alreadyclicked=!1,function(e){var _this=this;alreadyclicked?(alreadyclicked=!1,alreadyclickedTimeout&&clearTimeout(alreadyclickedTimeout),doubleClk&&doubleClk.apply(_this,[e])):(alreadyclicked=!0,alreadyclickedTimeout=setTimeout(function(){alreadyclicked=!1,singleClk&&singleClk.apply(_this,[e])},300))};var alreadyclicked,alreadyclickedTimeout},PRIVATE.sortSelectMailListInit=function(){var moreClass=".mail-composer__more.wrap__tooltip",more=PRIVATE.$target.find(moreClass),moreTooltip=more.find(".tooltip"),moreClass=PRIVATE.target.querySelector(moreClass),close=function(e){"LABEL"!==e.target.tagName&&(more[0]===e.target||more[0].contains(e.target))||moreTooltip.removeClass("--visible")};moreClass.addEventListener("click",function(e){var isMoreVisible,target=(e.stopPropagation(),e.target),targetTagname;"LABEL"===target.tagName&&(PUBLIC.changeOrder(target.previousElementSibling.value,null,PRIVATE.controller.lastSearch),close(e)),moreTooltip.toggleClass("--visible"),(isMoreVisible=moreTooltip.hasClass("--visible"))&&document.addEventListener("click",function(ev){ev.stopPropagation(),close(ev)})})},PRIVATE.scrollContentEventStart=function(){PRIVATE.target.querySelector(".ozone__table__wrap").addEventListener("scroll",function(){var mailListItem=PRIVATE.$target.find("table tbody tr"),listIsAtBottom=PUBLIC.listIsAtBottom();mailListItem.length&&listIsAtBottom&&PUBLIC.trigger("listScrollBottom",{page:PRIVATE.currentPage})})},PRIVATE.waitModal=function(){return PUBLIC.showDialog({btnclose:!1,contenttype:"html",body:'<div class="spinner"></div>',type:"loadding",timeout:!1,open:!1,overlay:!0,close:function(){}})},PRIVATE.checkHeadCheckbox=function(){var checked=PRIVATE.table.find(".checkbox input[type=checkbox]:checked"),checkbox=PRIVATE.table.find(":not(.ozone-template) .checkbox input[type=checkbox]");checked.length!==checkbox.length?PUBLIC.DOM.checkboxHead.each(function(index,element){element.checked=!1}).removeAttr("checked"):PUBLIC.DOM.checkboxHead.prop("checked",!0),PUBLIC.MessageList._changeController(PUBLIC.isToShowActionBar())},PRIVATE.startTableEvents=function(){PRIVATE.table=PRIVATE.$target.find("tbody"),PRIVATE.table.on("change",".checkbox input[type=checkbox]",function(e){PRIVATE.checkHeadCheckbox(),e.stopPropagation()}),PRIVATE.table.on("click","tr",PRIVATE.clickOrDbclick(function(e){var elemento;"checkbox_second_line"===e.target.className||"checkbox"===e.target.className?("checked"===(elemento=e.target.parentElement.querySelector("input[type=checkbox]")).checked?elemento.checked=!1:!1===elemento.checked?elemento.checked="checked":console.log("Elemento checkbox nao encontrado ao selecionar a mensagem na lista de mensagens."),PRIVATE.checkHeadCheckbox(),e.stopPropagation()):this.hasClass("active")||e&&e.originalEvent&&"INPUT"===e.originalEvent.target.tagName||(Analytics.mailList.readMail(),PRIVATE.controller.trigger("messageClick",PUBLIC.getMessageAttr(this)))})),PRIVATE.table.on("dblclick","tr",PRIVATE.clickOrDbclick(function(e){var isMob="mob"===pkg.context.platform.type,messageAttributes=PUBLIC.getMessageAttr(this),e=e.target.className;isMob||"checkbox_second_line"===e||"checkbox"===e||"mail-template-checkbox"===e?PRIVATE.controller.trigger("messageClick",messageAttributes):PRIVATE.controller.trigger("messageDoubleClick",messageAttributes)}))},PRIVATE.startHeaderTableEvents=function(){var headerCommands=PRIVATE.$target.find(".mail-list-secondary-__controll");headerCommands.find(".move-to-folder").change(function(){Analytics.mailList.moveToFolder();var val=this.value.trim(),el=PRIVATE.$target.find("tbody tr:not(.ozone-template) input:checked").parents("tr"),selected=$.map(el,function(a){return a.className.replace(PRIVATE.messageRegex,"$2")}),val;val.length&&((val={id:val,index:this.querySelector('[value="'+this.value+'"]').index-1}).imapId=PRIVATE.idToImap(val),PUBLIC.moveToFolder(selected,val,el)),this.value=""}),headerCommands.find("a").click(function(event){var folder,el=PRIVATE.$target.find("tbody tr:not(.ozone-template) input:checked").parents("tr"),selected=$.map(el,function(a){return a.className.replace(PRIVATE.messageRegex,"$2")}),target=this.getAttribute("data-target"),action;switch(this.getAttribute("data-action")){case"mark":"unread"==target?(Analytics.mailList.markAsUnread(),PUBLIC.MessageList.callbacks.toUnRead(selected,el)):"read"==target?(Analytics.mailList.markAsRead(),PUBLIC.MessageList.callbacks.toRead(selected,el)):(folder={id:"Spam"},Analytics.mailList.markAsFraud(),PUBLIC.reportPhishing(selected,folder,el));break;case"move":folder={id:target},"Lixeira"===target?Analytics.mailList.markAsTrash():"Spam"===target?Analytics.mailList.markAsSpam():"INBOX"===target&&Analytics.mailList.markAsNotSpam(),PUBLIC.moveToFolder(selected,folder,el);break;case"delete":Analytics.mailList.markAsTrash(),PUBLIC.deleteMessages(selected,el)}})},PRIVATE.insertNativeAd=function(){var elem;document.getElementById("taboola-mailterra")&&(window._taboola=window._taboola||[],window._taboola.push({article:"auto"}),window._taboola.push({mode:"thumbnails-a-stream-2x1",container:"taboola-mailterra",placement:"mailterra",target_type:"mix"}),window._taboola.push({flush:!0}),pkg.require(["mod.taboola"]))},PUBLIC.MessageList={mailList:PRIVATE.$target,callbacks:{close:function(){},messageClick:function(message){},messageDoubleClick:function(message){},listScrollBottom:function(){},toSpam:function(){},notSpam:function(argument){},toRead:function(){},toUnRead:function(){},moveToFolder:function(){},parseContactMailViewer:function(contact){}}},PUBLIC.changeOrder=function(columnName,skipRefresh,lastSearch,sort){var waitModal;PRIVATE.orderBy.column===columnName?PRIVATE.orderBy.sort=sort||("desc"===PRIVATE.orderBy.sort?"asc":"desc"):PRIVATE.orderBy={column:columnName,sort:sort=sort||"asc"},PUBLIC.DOM.filterReference.innerHTML=PUBLIC.l10n.get(PRIVATE.orderBy.column),PRIVATE.api.New.setMessageSort(PRIVATE.orderBy),document.getElementById("sort_column_"+PRIVATE.orderBy.column).checked=!0,PRIVATE.$target.find(".mail-composer__more__item").removeClass("asc desc"),PRIVATE.$target.find(".mail-composer__more__item").addClass(PRIVATE.orderBy.sort),PRIVATE.$target.find(".ozone__table__thead").removeClass("from-asc to-asc subject-asc size-asc date-received-asc from-desc to-desc subject-desc size-desc date-received-desc").addClass(PRIVATE.orderBy.column+"-"+PRIVATE.orderBy.sort),skipRefresh?PUBLIC.MessageList.setSortOrder(PRIVATE.orderBy):(waitModal=PRIVATE.waitModal(),PRIVATE.api.lastMessageIndex=0,PUBLIC.refreshFolder(!0,null,lastSearch).then(function(){waitModal.close()}).catch(function(err){waitModal.close(),console.error(err)}))},PUBLIC.getSortData=function(){return PUBLIC.orderBy},PUBLIC.isSmallScreen=function(){var allowedRangeList=["xsmall","small","medium"],dataRangeAttribute=pkg.ui.html.getAttribute("data-range"),isToExecute;return!(allowedRangeList.indexOf(dataRangeAttribute)<0)},PUBLIC.getMailListItemHeight=function(){var userConf=window.userConfiguration,userConf=userConf?userConf.mailview_panel_orientation:0,bodyOffsetWidth=document.body.offsetWidth,n;return"1"===userConf&&1023<bodyOffsetWidth?85:36},PUBLIC.calculateMailListFill=function(){var mailListPagination=parseInt(PUBLIC.DOM.content.offsetHeight/PUBLIC.getMailListItemHeight())+1;return PRIVATE.api.pageSize=mailListPagination,PRIVATE.api.pageSize=parseInt(PRIVATE.api.pageSize+PRIVATE.api.pageSize/2)+1,mailListPagination},PUBLIC.search=function(params){return PUBLIC.clear(),PUBLIC.showLoader(),PRIVATE.currentFolder=params.folder||PRIVATE.currentFolder,PRIVATE.controller.updateTimezone().then(function(){PRIVATE.api.New.searchMail(PRIVATE.currentFolder.id,params.from||"",params.to||"",params.subject).then(function(response){return PRIVATE.appendPage(response)}).then(function(response){return response.messages&&(PRIVATE.messages=response.messages,PRIVATE.api.lastMessageIndex=PRIVATE.messages.length),response.messages.length<PRIVATE.api.pageSize&&PUBLIC.removeLoader(),PUBLIC.isFiltered=!0,response})})},PUBLIC.setFolder=function(folder,messages){return PRIVATE.currentFolder.id!==folder.id&&(PUBLIC.clear(),PUBLIC.setTitle(folder),PRIVATE.api.New.getMailBoxStatus(folder.id||"INBOX").then(function(response){(PRIVATE.lastStatus=response).folder=PRIVATE.currentFolder,PUBLIC.trigger("getstatus",response)}),PRIVATE.messages=messages,PRIVATE.currentFolder=folder,PRIVATE.currentPage=Math.floor(messages.length/PRIVATE.api.pageSize)||1,PUBLIC.MessageList.mailList.removeClass("-sent -spam -trash -drafts"),/sent|spam|trash|drafts/.test(folder.imapId)&&PUBLIC.MessageList.mailList.addClass("-"+folder.imapId),PRIVATE.appendPage(messages)),new Promise(function(resolve){resolve(messages)})},PUBLIC.resetAttributesFolder=function(){PUBLIC.clear(),PUBLIC.showLoader(),PUBLIC.isFiltered=!1,PRIVATE.controller.lastSearch="",$("#header input.autosugest__search__input").val("").attr("placeholder",PUBLIC.l10n.get("filtrar_maillist"))},PUBLIC.setTitle=function(folder){var folderTitleElement,folderTitleSpamElement=PRIVATE.target.querySelector(".ozone__table__folder").querySelector(".title-folder"),folder="user"===folder.imapId?folder.name:PUBLIC.l10n.get(folder.imapId);folderTitleSpamElement&&(folderTitleSpamElement.innerHTML=folder)},PUBLIC.folder=function(folder,page){return PRIVATE.currentPage=page||PRIVATE.currentPage||1,PUBLIC.setTitle(folder),PUBLIC.calculateMailListFill(),"INBOX"!=folder.id&&"E-mails enviados"!=folder.id&&PUBLIC.isSmallScreen()?($(".icon-delete-folder").addClass("enabled-icon"),$(".icon-delete-folder").removeClass("disabled-icon")):($(".icon-delete-folder").addClass("disabled-icon"),$(".icon-delete-folder").removeClass("enabled-icon")),PRIVATE.currentFolder&&PRIVATE.currentFolder.id==folder.id||(PRIVATE.messages=[],PUBLIC.resetAttributesFolder(),PUBLIC.changeOrder("date-received",!0,"","asc"),PUBLIC.MessageList.mailList.removeClass("-sent -spam -trash -drafts"),/sent|spam|trash|drafts/.test(folder.imapId)&&PUBLIC.MessageList.mailList.addClass("-"+folder.imapId),PRIVATE.filterFolders(folder)),PRIVATE.currentFolder&&PRIVATE.currentFolder.id===folder.id&&1===PRIVATE.currentPage?PUBLIC.isFiltered?(PUBLIC.resetAttributesFolder(),PUBLIC.refreshFolder(!0,null,"")):PUBLIC.refreshFolder():PRIVATE.getMessages({folder:folder,page:PRIVATE.currentPage,size:PRIVATE.api.pageSize,lastSearch:PRIVATE.controller.lastSearch}).then(function(response){return response?(response.messages&&(PRIVATE.api.pageSize>response.messages.length?PUBLIC.removeLoader():PUBLIC.showLoader(),1===PRIVATE.currentPage?PRIVATE.messages=response.messages:PRIVATE.messages=PRIVATE.messages.concat(response.messages),PRIVATE.api.lastMessageIndex=PRIVATE.messages.length),response.stat&&(response.stat.folder=folder),PRIVATE.lastStatus=response.stat,PUBLIC.trigger("getstatus",response.stat),PRIVATE.appendPage(response),response):{}})},PUBLIC.removeItem=function(id){id&&(PUBLIC.trigger("removeItem",id),PRIVATE.$target.find(".message-"+id).remove()),0===PRIVATE.$target.find(".ozone__table__tbody tr").length?PUBLIC.refreshFolder(null,null,PRIVATE.controller.lastSearch):PUBLIC.listIsAtBottom()&&PUBLIC.nextPage()},PUBLIC.getCurrentFolder=function(){return PRIVATE.currentFolder},PUBLIC.refreshFolder=function(ignoreCache,resetSearchFilter,lastSearch){var msgSelected=PUBLIC.MessageList.getSelectedMessages();return PUBLIC.removeRetryContent(),PRIVATE.controller.updateTimezone().then(function(forceRefresh){return!0===forceRefresh&&(ignoreCache=!0),PRIVATE.controller.windowIsVisible||(PRIVATE.isRefreshed=!0),lastSearch&&"string"==typeof lastSearch&&""!==lastSearch?PUBLIC.isFiltered=!0:(PRIVATE.controller.lastSearch=lastSearch,PUBLIC.isFiltered=!1),PRIVATE.api.New.getMailBoxStatus(PRIVATE.currentFolder.id||"inbox").then(function(response){if(response&&("granted"!==localStorage.getItem("notifyUserPermission")||"granted"!==window.Notification.permission||PRIVATE.controller.windowIsVisible||"INBOX"!==PRIVATE.currentFolder.id&&0===response.recent||(PRIVATE.controller.showMailNotification(response,PRIVATE.controller.lastReceivedMsgsCounter),PRIVATE.controller.lastReceivedMsgsCounter=response.recent),ignoreCache||resetSearchFilter||!PRIVATE.lastStatus||!PRIVATE.diff(PRIVATE.lastStatus,response))){if(PRIVATE.controller.windowIsVisible)return response.folder=PRIVATE.currentFolder,PRIVATE.getMessages({folder:PRIVATE.currentFolder,page:1,size:PRIVATE.api.pageSize*PRIVATE.currentPage,lastSearch:lastSearch,messageIndex:0}).then(function(objMessages){var contentMainViewer,emptyMailViewer,msgActive;objMessages&&"SyntaxError"!==objMessages.name&&(PRIVATE.lastStatus=response,PUBLIC.removeMailList(),PUBLIC.showLoader(),objMessages&&objMessages.messages&&objMessages.messages.length<PRIVATE.api.pageSize&&PUBLIC.removeLoader(),PRIVATE.appendPage(objMessages),emptyMailViewer=document.getElementById("mail-viewer").querySelectorAll(".mail-viewer.empty"),msgActive=PUBLIC.MessageList.getActiveMessage(),objMessages&&"object"==typeof objMessages&&objMessages.messages&&(PRIVATE.messages=objMessages.messages),emptyMailViewer.length||PRIVATE.$target.find(".message-"+msgActive.id).addClass("active"),PRIVATE.currentPage=Math.ceil((PRIVATE.messages.length||1)/PRIVATE.api.pageSize),PUBLIC.MessageList.selectMessages(msgSelected),PUBLIC.trigger("refresh",PRIVATE.messages),PUBLIC.trigger("getstatus",response))});"inbox"===PUBLIC.getCurrentFolder().id.toLowerCase()&&PRIVATE.controller.setTitleRecentStatus({response:response})}})})},PUBLIC.removeMailList=function(){var list;PRIVATE.$target.find("table tbody tr").remove()},PUBLIC.nextPage=pkg.utils.make.debounce(function(){return Analytics.mailList.pagination(),PUBLIC.folder(PRIVATE.currentFolder,PRIVATE.currentPage+1).then(function(e){PUBLIC.trigger("nextPage",PRIVATE.currentPage)})},{distance:1e3}),PUBLIC.activeMessage=function(message){var message;return $("#mail-list table tr.active").removeClass("active"),message&&((message=$("#mail-list  table .message-"+message.id)).addClass("active"),message.hasClass("unreaded"))&&message.removeClass("unreaded"),PUBLIC},PUBLIC.folders=function(folders){return folders?(PRIVATE._folders=folders,PRIVATE.moveToFolderEl.find('option[value!=""]').remove(),PRIVATE.moveToFolderEl.append(PUBLIC.templates.get("folders").render({folders:folders})),PUBLIC):PRIVATE._folders},PUBLIC.MessageList.setSortOrder=function(value){PRIVATE.api.New.setMessageSort(value),PRIVATE.$target.find(".mail-composer__more__item").removeClass("asc desc"),PRIVATE.$target.find(".mail-composer__more__item").addClass(value.sort),PRIVATE.$target.find(".ozone__table__thead").removeClass("from-asc to-asc subject-asc size-asc date-received-asc from-desc to-desc subject-desc size-desc date-received-desc").addClass(value.column+"-"+value.sort)},PUBLIC.isToShowActionBar=function(){var table,checkboxList,isGtZero;return 0<PRIVATE.$target.find("tbody").find(":not(.ozone-template) .checkbox input[type=checkbox]:checked").length},PUBLIC.startHeaderCheckboxControll=function(){PUBLIC.DOM.checkboxHead.change(function(){Analytics.mailList.selectAll(),this.checked?PUBLIC.MessageList.selectAllMessages():PUBLIC.MessageList.deselectAllMessages(),PUBLIC.MessageList._changeController(PUBLIC.isToShowActionBar())})},PUBLIC.getMessageAttr=function(message){return JSON.parse(message.getAttribute("data-message"))},PUBLIC.listIsAtBottom=function(){var element=PRIVATE.target.querySelector(".ozone__table__wrap"),calcScroll,scrollIsLessCalcToScroll;return element.scrollHeight-(element.scrollTop+element.offsetHeight)<=300},PUBLIC.MessageList.show=function(){$("#sidebar >div").hide(),$("#sidebar >.folders").show()},PUBLIC.isChecked=function(element){return element.getElementsByTagName("input")[0].checked},PUBLIC.getNextMessage=function(messageId){var messageId=$("tr.message-"+messageId),nextDomMessage;return nextDomMessage=messageId?messageId.next():nextDomMessage},PUBLIC.openUncheckNextMessage=function(messageId){for(var tmpMessage,tmpMessageId=messageId,tmpData,tmpElement,tmpElementIsChecked,messageDom=function(id){return document.querySelector("tr.message-"+id)},tmpMessage=messageDom(tmpMessageId);;){if(!(tmpElementIsChecked=PUBLIC.isChecked(tmpMessage))){tmpData=JSON.parse(tmpMessage.getAttribute("data-message")),PRIVATE.controller.trigger("messageClick",tmpData);break}if(!(tmpMessage=PUBLIC.getNextMessage(tmpMessageId)).length)break;tmpMessage=messageDom(tmpMessageId=(tmpData=JSON.parse(tmpMessage[0].getAttribute("data-message"))).id)}},PUBLIC.openNextMessage=function(callback){var activeMessage=PUBLIC.MessageList.getActiveMessage(),nextMsgDOM=PUBLIC.getNextMessage(activeMessage.id);1===nextMsgDOM.length?callback(nextMsgDOM.data("message")):PRIVATE.getMessages({folder:PRIVATE.currentFolder,page:PRIVATE.currentPage+1}).then(PRIVATE.appendPage).then(function(e){nextMsgDOM=PUBLIC.getNextMessage(activeMessage.id),PRIVATE.messages=PRIVATE.messages.concat(e.messages),0<nextMsgDOM.length?(PRIVATE.currentPage++,PUBLIC.trigger("getstatus",{}),callback(nextMsgDOM.data("message"))):(PUBLIC.MessageList.callbacks.close(),callback())})},PUBLIC.MessageList.getPrevMessage=function(callback){var activeMessage,activeMessageId=PUBLIC.MessageList.getActiveMessage().id,activeMessageId=PRIVATE.$target.find("tbody tr.message-"+activeMessageId).prev(),msgObj;0<activeMessageId.length?callback($(activeMessageId).data("message")):callback()},PUBLIC.MessageList.getSelectedMessages=function(){var re=/.*(message-([0-9]+)).*/,el;return PRIVATE.$target.find("tbody tr:not(.ozone-template) input:checked").parents("tr").toArray().map(function(a){return{id:parseInt(a.className.replace(re,"$2"))}})},PUBLIC.MessageList.selectMessages=function(messages){messages.forEach(function(message){PRIVATE.$target.find(".message-"+message.id+" input[type='checkbox']").prop("checked",!0).trigger("change")})},PUBLIC.MessageList.selectAllMessages=function(){var waitModal=PRIVATE.waitModal(),input;PRIVATE.$target.find("input[type='checkbox']").prop("checked",!0),waitModal.close()},PUBLIC.MessageList.deselectAllMessages=function(){var waitModal=PRIVATE.waitModal(),input;PRIVATE.$target.find("input[type='checkbox']").prop("checked",!1),waitModal.close()},PUBLIC.MessageList.getActiveMessage=function(){var dataMessage=PRIVATE.$target.find(".active").attr("data-message");return dataMessage?JSON.parse(dataMessage):{}},PUBLIC.MessageList._changeController=function(isAllChecked){var classname="all-messages-checked";isAllChecked?PUBLIC.DOM.mailList.classList.add(classname):PUBLIC.DOM.mailList.classList.remove(classname)},PUBLIC.MessageList.countMessages=function(){return PRIVATE.$target.find("tbody tr").length},PUBLIC.addRetryContent=function(){PUBLIC.clear(),PUBLIC.removeLoader();var getTplRetryItem,retryItemRendered=PUBLIC.templates.get("retryItem").render({retry:PUBLIC.l10n.get("retry"),errorLoadMailList:PUBLIC.l10n.get("errorLoadMailList")}),tbodyContent,retryItemRendered;PRIVATE.target.querySelector(".ozone__table__tbody").innerHTML=retryItemRendered,(retryItemRendered=document.getElementById("retryMailListContent"))&&retryItemRendered.addEventListener("click",function(e){var target;"BUTTON"===e.target.nodeName&&PUBLIC.refreshFolder()})},PUBLIC.removeRetryContent=function(){var retryContent=document.getElementById("retryMailListContent");retryContent&&retryContent.parentElement&&(retryContent.removeEventListener("click"),retryContent.parentElement.removeChild(retryContent),PUBLIC.showLoader())},PUBLIC.MessageList.addMessages=function(messages){var getTplItem,messages,messages,re=/([^<>]+)(<([^<>]+)>)?/,getTplItem=PUBLIC.templates.get("item"),hasAttach=!1,from,messages=messages.map(function(message){return from=PUBLIC.MessageList.callbacks.parseContactMailViewer(message.from),message.fromName=from.name,message.fromEmail=from.address,message.hasAttach=!1,(hasAttach=-1<message.flags.indexOf("attachment"))&&(message.hasAttach=!0),message.to&&message.to[0]&&(message.toEmail=message.to[0].substr(message.to.indexOf("<")+1).replace(">",""),message.toName=message.to[0].substr(0,message.to.indexOf("<"))||message.toEmail),message}),messages={dump:function(tmp){return JSON.stringify(tmp)},dic:PUBLIC.l10n,messages:messages},getTplItem=getTplItem.render(messages);PRIVATE.$target.find("tbody").append(getTplItem)},PUBLIC.clear=function(){PRIVATE.currentPage=1,PRIVATE.api.lastMessageIndex=0,PRIVATE.$target.removeClass("-empty"),PRIVATE.$target.find("table tbody tr").remove(),PRIVATE.$target.find("table input").removeAttr("checked").trigger("change")},PUBLIC.showLoader=function(){PRIVATE.$target.find("tfoot").show()},PUBLIC.removeLoader=function(){PRIVATE.$target.find("tfoot").hide()},PUBLIC.showDialog=function(data){var m;return new Modal({buttons:data.buttons||!1,header:data.header,btnClose:data.btnClose,contentType:data.contentType,innerButtons:data.innerButtons||!1,body:data.message||data.body,type:data.type||"success",timeout:data.timeout,open:data.open,overlay:data.overlay,close:data.close,translateBtn:data.translateBtn||!1})},PUBLIC.reportPhishing=function(messages,folder,elList){messages.length&&(PRIVATE.controller.phishingReport.render(),PRIVATE.controller.phishingReport.submit().then(function(response){var tmp,countUnreaded=elList.filter(".unreaded").length,response=response;PRIVATE.controller.trigger("initMoveMessages",!0),PRIVATE.api.New.reportPhishing(messages,PRIVATE.currentFolder.id,folder.id,response).then(function(response){for(var i=0;i<elList.length;i++){var message=JSON.parse(elList[i].getAttribute("data-message"));PRIVATE.controller.setMovedMessage(message)}PRIVATE.controller.trigger("moveMessages",{list:messages,elList:elList,total:messages.length,unreaded:countUnreaded,newFolder:folder}),PRIVATE.controller.trigger("phishingReport",!0)})}))},PUBLIC.moveToFolder=function(messages,folder,elList){var tmp,message,countUnreaded;messages.length&&(countUnreaded=elList.filter(".unreaded").length,PRIVATE.controller.trigger("initMoveMessages",!0),PRIVATE.api.New.moveMessages(messages,PRIVATE.currentFolder.id,folder.id).then(function(){for(var i=0;i<elList.length;i++)message=JSON.parse(elList[i].getAttribute("data-message")),PRIVATE.controller.setMovedMessage(message);PRIVATE.controller.trigger("moveMessages",{list:messages,elList:elList,total:messages.length,unreaded:countUnreaded,newFolder:folder})}))},PUBLIC.deleteMessages=function(messages,elList){var countUnreaded;!messages.length||PRIVATE.currentFolder.id!=PRIVATE.api.FOLDER_ID.lixeira&&PRIVATE.currentFolder.id!=PRIVATE.api.FOLDER_ID.spam||(PRIVATE.controller.trigger("initMoveMessages",!0),countUnreaded=elList.filter(".unreaded").length,PRIVATE.api.New.deleteMessages(messages,PRIVATE.currentFolder.id).then(function(){for(var i=0;i<elList.length;i++){var message=JSON.parse(elList[i].getAttribute("data-message"));PRIVATE.controller.setMovedMessage(message)}PRIVATE.controller.trigger("moveMessages",{list:messages,elList:elList,total:messages.length,unreaded:countUnreaded})}))},PUBLIC.init=function(){pkg.context.user.on("webmail-maillist-order",function(value){PUBLIC.MessageList.setSortOrder(value)}),PUBLIC.calculateMailListFill(),PRIVATE.scrollContentEventStart(),PRIVATE.sortSelectMailListInit(),PUBLIC.startHeaderCheckboxControll(),PRIVATE.startHeaderTableEvents(),PRIVATE.startTableEvents(),PRIVATE.insertNativeAd()},PRIVATE.controller.on("initMoveMessages",function(res){PRIVATE.instanceMaitModal=PRIVATE.waitModal()}),PRIVATE.controller.on("moveMessages",function(res){PRIVATE.instanceMaitModal&&"function"==typeof PRIVATE.instanceMaitModal.close&&PRIVATE.instanceMaitModal.close()}),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,pkg=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,STATIC={},$;pkg.create({name:"AddAdressee",version:"1.0.0",state:"ok",dependencies:["mod.Analytics"],dictionaries:["webmail"],templates:{default:'<div class="AddAdresses">    <div class="AddAdresses__search">        {% if input %}        <input            class="AddAdresses__search__input"            type="text"            autocomplete="off"            autocorrect="off"            autocapitalize="none",            placeholder="Digite o nome ou e-mail do contato">        {% endif %}    </div>    <div class="AddAdresses__wrap"></div>    \x3c!--    {% if commands %}    <div class="AddAdresses__commands">        <div class="AddAdresses__cancel">cancelar</div>            <div class="AddAdresses__scroller__buttons">                <div class="AddAdresses__icon thin_arrow_up_gray_darker24" data-command="up"></div>                <div class="AddAdresses__scroller__separator"></div>                <div class="AddAdresses__icon thin_arrow_down_gray_darker24" data-command="down"></div>        </div>    </div>    {% endif %}    --\x3e</div>',list:'<ul class="AddAdresses__contacts">    {% for contact in contacts %}    <li class="AddAdresses__contact" data-id="{{contact.id}}" data-type="{{contact.type}}">        <a href="#">{{contact.text}}{%if contact.email %}{{contact.email}}{%endif%}</a>    </li>    {% endfor %}</ul>'},expects:{properties:{}},setup:function(__static,__proto,__shared){$=__shared.dependencies.jQuery,PUBLIC_STATIC=__static,STATIC.instances=[],PUBLIC_STATIC.id=0},init:function(data,__shared){var PUBLIC=this,PRIVATE={target:data.target,contacts:data.contacts||[],open:!1,scope:data.scope,tpl:{}},Analytics=__shared.dependencies["mod.Analytics"];return STATIC.instances.push(PUBLIC),PUBLIC.id=PUBLIC_STATIC.id++,PRIVATE.tooltip=data.tooltip?PRIVATE.target.querySelector(".tooltip"):PRIVATE.target,PRIVATE.tpl.default=PUBLIC.templates.get("default"),PRIVATE.tooltip.innerHTML=PRIVATE.tpl.default.render({dic:PUBLIC.l10n,command:!1!==data.command,input:!data.input}),PRIVATE.input=data.input||PRIVATE.target.querySelector(".AddAdresses__search__input"),PRIVATE.input.addEventListener("keydown",function(e){PRIVATE.inputKeydown(e);var e=new CustomEvent("resizeMce");document.dispatchEvent(e)}),PRIVATE.input.addEventListener("input",function(){var inputValue=PRIVATE.input.value;1<=inputValue.length&&(PRIVATE.filter(inputValue),PRIVATE.render()),PRIVATE.show()}),PRIVATE.target.addEventListener("click",function(){"mail-composer__more mail-composer__adressee"===PRIVATE.target.getClassList().value&&Analytics.mailComposer.addAddress(),PRIVATE.input.focus()}),PRIVATE.input.addEventListener("focusin",function(){PRIVATE.show()}),PRIVATE.input.addEventListener("focusout",function(){PRIVATE.closeTimeout=setTimeout(PRIVATE.close,500)}),PUBLIC.on("render",function(argument){var el=PRIVATE.target.querySelectorAll(".AddAdresses__contact");null!==PRIVATE.selectedContact&&el.length>=PRIVATE.selectedContact&&(el[PRIVATE.selectedContact].addClass("--focus"),PRIVATE.input.value+="  ",el[PRIVATE.selectedContact].querySelector("a").focus(),PRIVATE.input.focus(),PRIVATE.input.value=PRIVATE.input.value.trim())}),PUBLIC.on("add",function(argument){PRIVATE.close()}),PRIVATE.addressWrapClick=function(e){for(var target=e.target,objToAdd;target!==this&&"AddAdresses__contact"!==target.className;)target=target.parentElement;var searchId=Number(target.getAttribute("data-id")),searchType=target.getAttribute("data-type");if("AddAdresses__contact"===target.className){e.preventDefault();for(var i=0,loopObj;i<PRIVATE.all.length;i++)if(searchId==(loopObj=PRIVATE.all[i]).id&&searchType===loopObj.type){objToAdd=loopObj;break}PUBLIC.trigger("add",{contact:objToAdd.all,obj:objToAdd.obj,id:PUBLIC.id}),PRIVATE.tooltip&&PRIVATE.close()}},PRIVATE.inputKeydown=function(e){var actions,key=PRIVATE.target.ownerDocument.defaultView.event?e.keyCode:e.which,actions={9:function(){null!==PRIVATE.selectedContact&&(actions[13].apply(this),e.preventDefault()),PRIVATE.input.value.trim()||PRIVATE.close(),PRIVATE.all.length&&PUBLIC.trigger("add",{contact:PRIVATE.all[0].all,obj:PRIVATE.all[0].obj,id:PUBLIC.id})},13:function(){null!==PRIVATE.selectedContact&&PUBLIC.trigger("add",{contact:PRIVATE.all[PRIVATE.selectedContact].all,obj:PRIVATE.all[PRIVATE.selectedContact].obj,id:PUBLIC.id})},38:function(){0<PRIVATE.selectedContact&&(PRIVATE.selectedContact--,PRIVATE.render())},40:function(){(null===PRIVATE.selectedContact||PRIVATE.selectedContact<PRIVATE.all.length-1)&&(PRIVATE.selectedContact=null!==PRIVATE.selectedContact?PRIVATE.selectedContact:-1,PRIVATE.selectedContact++,PRIVATE.render())},27:function(){PRIVATE.close()}};actions[key]&&actions[key].apply(this)},PRIVATE.show=function(){return PRIVATE.closeTimeout&&(clearTimeout(PRIVATE.closeTimeout),PRIVATE.closeTimeout=0),!0===PRIVATE.open?PRIVATE.input.value.length<1&&(PRIVATE.close()||!0):!(0===PRIVATE.contacts.length||PRIVATE.input.value.length<1)&&0<PRIVATE.contacts.length&&1<=PRIVATE.input.value.length?(PRIVATE.scope&&PRIVATE.scope.mailComposer&&PRIVATE.scope.mailComposer.inputTags.forEach(function(el){el.close&&el.close()}),PRIVATE.tooltip.classList.add("--visible"),PRIVATE.open=!0,PRIVATE.filter(PRIVATE.input.value),PRIVATE.render(),void PRIVATE.target.querySelector(".AddAdresses__wrap").classList.remove("hidden")):PRIVATE.close()||!0},PRIVATE.close=function(argument){return PRIVATE.closeTimeout&&(clearTimeout(PRIVATE.closeTimeout),PRIVATE.closeTimeout=0),PRIVATE.open=!1,PRIVATE.target.querySelector(".AddAdresses__wrap").classList.add("hidden"),PRIVATE.tooltip.classList.remove("--visible"),!0},PRIVATE.search=function(searchString,options){var results=[],numMatches=0,limit=options.limit||0,highlight=options.highlight||!1;return searchString=searchString.toLowerCase(),PRIVATE.contacts.every(function(contact,idx,arr){var fullName=contact.fullName,address=contact.ADDRESS,matches;if(0<=fullName.toLowerCase().indexOf(searchString)||0<=address.toLowerCase().indexOf(searchString)){var ret={};if(ret.obj=contact,ret.id=contact.id,ret.type=contact.type,address&&address!==fullName&&(ret.email=highlight?'<div class="AddAdresses__contact__sub">'+address.replace(new RegExp("("+searchString+")","i"),"<b>$1</b>")+"</div>":'<div class="AddAdresses__contact__sub">'+address+"</div>"),ret.text=highlight?fullName.replace(new RegExp("("+searchString+")","i"),"<b>$1</b>"):fullName,ret.all=fullName?'"'+fullName+'" <'+address+">":address,results.push(ret),numMatches++,limit&&limit<=numMatches)return!1}return!0}),results},PRIVATE.filter=function(searchString){var loopCount=0;return PRIVATE.all=PRIVATE.search(searchString,{limit:50,highlight:!0}),0===PRIVATE.all.length&&data.input&&PRIVATE.close(),PRIVATE.selectedContact=null,PRIVATE},PRIVATE.render=function(){PRIVATE.target.querySelector(".AddAdresses__wrap").innerHTML=PUBLIC.templates.get("list").render({dic:PUBLIC.l10n,contacts:PRIVATE.all}),PUBLIC.trigger("render",PUBLIC)},PUBLIC.filter=PRIVATE.filter,PUBLIC.render=PRIVATE.render,PUBLIC.close=PRIVATE.close,PUBLIC.search=PRIVATE.search,PRIVATE.contacts=data.contacts.contacts,PRIVATE.target.querySelector(".AddAdresses__wrap").addEventListener("click",function(e){PRIVATE.addressWrapClick(e)}),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,pkg=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,STATIC={},$;pkg.create({name:"InputTag",version:"1.0.0",state:"ok",dependencies:["jQuery"],dictionaries:[],templates:{default:""},expects:{},setup:function(__static,__proto,__shared){$=__shared.dependencies.jQuery,PUBLIC_STATIC=__static,STATIC.instances=[],PUBLIC_STATIC.id=0},init:function(data,__shared){var PUBLIC=this,target=$(data.target),input=target.find(".tagInput__input");return PUBLIC.clickOrDbclick=function(singleClk,doubleClk){return alreadyclicked=!1,function(e){var _this=this;alreadyclicked?(alreadyclicked=!1,alreadyclickedTimeout&&clearTimeout(alreadyclickedTimeout),doubleClk&&doubleClk.apply(_this,[e])):(alreadyclicked=!0,alreadyclickedTimeout=setTimeout(function(){alreadyclicked=!1,singleClk&&singleClk.apply(_this,[e])},300))};var alreadyclicked,alreadyclickedTimeout},PUBLIC.clear=function(){return target.find(".tagInput__tag").remove(),PUBLIC.clearInput(),PUBLIC.trigger("clear",PUBLIC),PUBLIC},PUBLIC.clearInput=function(){return input.val("").focus(),PUBLIC},PUBLIC.add=function(text,title,full){var tmp=target.find("> .tagInput__tag").last(),tmp2,realTarget,title=$('<span class="tagInput__tag" title="'+encodeURI(title)+"\" data-contact='"+full+'\'><i class="tagInput__delete"></i>'+text+"</span>")[0].outerHTML,full=(tmp[0]?(realTarget=tmp[0]).insertAdjacentHTML("afterend",title):(realTarget=target[0]).insertAdjacentHTML("afterbegin",title),PUBLIC.trigger("change",Array.prototype.slice.call(target.find(".tagInput__tag").map(function(el){return $(this).attr("data-contact")})).join()),new CustomEvent("resizeMce"));return document.dispatchEvent(full),PUBLIC},target.on("click","i",function(argument){$(this).parent().remove(),PUBLIC.trigger("change",Array.prototype.slice.call(target.find(".tagInput__tag").map(function(el){return $(this).attr("data-contact")})).join())}),input.on("blur",function(argument){PUBLIC.trigger("leave",input.val())}),input.on("keydown",function(event){if(!event.shiftKey&&-1<[13,188,44,191].indexOf(event.keyCode))return PUBLIC.trigger("leave",input.val().replace(",","").trim()),event.preventDefault(),event.stopPropagation(),!1;0===input.val().length&&-1<[8].indexOf(event.keyCode)&&(target.find(".tagInput__tag").last().remove(),PUBLIC.trigger("change",Array.prototype.slice.call(target.find(".tagInput__tag").map(function(el){return $(this).attr("data-contact")})).join()))}),target.on("click",".tagInput__tag",PUBLIC.clickOrDbclick(function(){},function(event){var e=$.Event("keydown");return e.which=40,input.val($(this).attr("data-contact").trim()).focus().trigger(e).select(),$(this).remove(),PUBLIC.trigger("change",!0),e.stopPropagation(),!1})),PUBLIC.trigger("change",PUBLIC),PUBLIC.on("change",function(){var size=input[0].style.width="100%",right=target[0].getBoundingClientRect().right,tmp=target[0].querySelectorAll(".tagInput__tag"),tmp;(tmp=!!tmp&&tmp[tmp.length-1])&&(150<(size=right-tmp.getBoundingClientRect().right-30)?size+="px":size="100%"),input[0].parentElement.style.width=size}),PUBLIC.on("clear",function(){input[0].parentElement.style.width="100%"}),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,appFactory=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,STATIC={},$;appFactory.create({name:"MailComposer",version:"1.0.0",state:"ok",dependencies:["app.Modal","app.InputTag","jQuery","mod.Analytics","mod.dropzone","app.Api","app.AddAdressee"],dictionaries:["webmail"],templates:{createContact:'<div class="modal-create-contact">    <ul class="list-contacts">        {% for contact in contacts %}        <li>            <input type="checkbox" name="emailtoadd" value="{{contact.email}}" checked="checked"/>            {{contact.email}} :            <input type="text" name="nametoadd" value="{{contact.suggestName}}"/>        </li>        {% endfor %}    </ul></div>'},setup:function(__static,__proto,__shared){$=__shared.dependencies.jQuery,PUBLIC_STATIC=__static},init:function(data,__shared){var PUBLIC=this,PRIVATE={attachments:{},message:{},target:data.target,scope:data.scope,currentWindow:data.currentWindow||window,controller:data.controller,api:new __shared.dependencies["app.Api"]({}),DOM:{}},Analytics=__shared.dependencies["mod.Analytics"],Modal=__shared.dependencies["app.Modal"],Dropzone=__shared.dependencies["mod.dropzone"],Adressees=__shared.dependencies["app.AddAdressee"],InputTag=__shared.dependencies["app.InputTag"],headerEditor,reMailAddress=/^[A-Z0-9][A-Z0-9._%+-]{0,63}@(?:(?=[A-Z0-9-]{1,63}\.)[A-Z0-9]+(?:-[A-Z0-9]+)*\.){1,8}[A-Z]{2,63}$/i,webmailScope=pkg.context.page.get("webmailScope"),draftButton=PRIVATE.target.querySelector(".footer button.draft"),uploadInput=PRIVATE.currentWindow.document.querySelector("input[type=file]"),more=$(PRIVATE.target).find(".mail-composer__more.wrap__tooltip"),composerRowInput=PRIVATE.target.querySelectorAll(".mail-composer__row.input"),close=(PRIVATE.inputTagInstances={},PUBLIC.inputTags=[],PUBLIC.DOM={},PUBLIC.MessageComposer={},PUBLIC.DOM.sendButton=PRIVATE.target.querySelector(".footer button.send"),PRIVATE.DOM.footer=PRIVATE.target.querySelector(".footer"),Dropzone.prototype.filesize=function(size){for(var cutoff,i,selectedSize,selectedUnit,unit,units,_i,_len,units=["TB","GB","MB","KB","b"],selectedSize=selectedUnit=null,i=_i=0,_len=units.length;_i<_len;i=++_i)if(unit=units[i],(cutoff=Math.pow(this.options.filesizeBase,4-i)/10)<=size){selectedSize=size/Math.pow(this.options.filesizeBase,4-i),selectedUnit=unit;break}return"<strong>"+(selectedSize=Math.round(10*selectedSize)/10)+"</strong>"+(selectedUnit||"b")},pkg.require([PRIVATE.controller.idTinyMCE],function(){var tb1,tinymceConfig={selector:"#mail-composer-body",language_url:PRIVATE.controller.pathTinyMCE+"langs/"+PRIVATE.controller.language+".js",width:"100%",entity_encoding:"raw",resize:!1,force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"p",browser_spellchecker:!0,spellchecker_language:PRIVATE.controller.language,spellchecker_languages:"Inglês=en, Português=pt_BR, Espanhol=es",spellchecker_rpc_url:"/ws/index.php?r=message/spellCheck&format=json",skin_url:PRIVATE.controller.pathTinyMCE+"skins/lightgray",extended_valid_elements:"img[class|src|border=0|alt|title|hspace|vspace|width|height|align|onmouseover|onmouseout|name|cid]",plugins:["link image textcolor spellchecker "],paste_data_images:!0,file_picker_callback:function(callback,value,meta){PRIVATE.currentWindow.uploadType="inline",(uploadInput=PRIVATE.currentWindow.document.querySelector("input[type=file]")).multiple="",uploadInput.accept="image/*",PRIVATE.currentWindow.document.querySelector(".attachments button").click()},menubar:!1,statusbar:!1,branding:!1,preview_styles:!0},allowedRangeList;PUBLIC.isSmallScreen(["xsmall","small"])?tinymceConfig.toolbar1="bold italic fontselect fontsizeselect":tinymceConfig.toolbar1="image | bold italic underline subscript forecolor fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link unlink | spellchecker",tinymceConfig.toolbar=!0,PRIVATE.target.classList.add("tinymce-use-top-bar"),PRIVATE.currentWindow.tinymce.init(tinymceConfig)},function(err){console.error("[OZONE COMPOSER] mod.tinyMCE ERR: ",err)}),PRIVATE.splitNameEmail=function(argument){var tmp=argument.match(/(\"?([^<>]+)\"?)?<(.*)>/i)||[];return tmp[3]||(tmp[0]=argument,tmp[2]=argument,tmp[3]=argument),tmp[2]||(tmp[0]=tmp[3],tmp[2]=tmp[3],tmp[3]=tmp[3]),tmp[2]=tmp[2].replace('"',""),tmp},PUBLIC.hide=function(){PRIVATE.writingMSG=null,PRIVATE.message.oid=void 0,PRIVATE.clearMailInput(),$(PRIVATE.target).hide()},PRIVATE.cancelMessage=function(scope){PRIVATE.scope.mailComposer.origMessageId="",PRIVATE.currentWindow.windowStatus="reading",PRIVATE.scope.status=PRIVATE.currentWindow.windowStatus,PUBLIC.hide(),PRIVATE.scope.isPopUp?(PRIVATE.controller.webmailScope.popUps[PRIVATE.currentWindow.name].status=PRIVATE.currentWindow.windowStatus,"drafts"==PRIVATE.scope.fromFolder&&PRIVATE.controller.trigger("closeWindow",PRIVATE.scope.window.name),$(PRIVATE.target).hide(),$(scope.mailViewerPopUp.target).show()):PRIVATE.controller.trigger("cancelMessage",PRIVATE.scope)},PRIVATE.discardMessage=function(scope){PRIVATE.scope.mailComposer.origMessageId="",PRIVATE.currentWindow.windowStatus="reading",PRIVATE.scope.status=PRIVATE.currentWindow.windowStatus,PUBLIC.hide(),PRIVATE.scope.isPopUp&&(PRIVATE.controller.webmailScope.popUps[PRIVATE.currentWindow.name].status=PRIVATE.currentWindow.windowStatus,"drafts"==PRIVATE.scope.fromFolder&&PRIVATE.controller.trigger("closeWindow",PRIVATE.scope.window.name),$(PRIVATE.scope.mailViewerPopUp.target).show()),PRIVATE.controller.trigger("discard",PRIVATE.scope)},PRIVATE.showCCCCo=function(argument){$(PRIVATE.target).addClass("show-cc-cco")},PRIVATE.hideCCCCo=function(argument){$(PRIVATE.target).removeClass("show-cc-cco")},PRIVATE.close=function(){more.find(".tooltip").removeClass("--visible"),document.removeEventListener("click",close)},function close(event){more[0]==event.target||more[0].contains(event.target)||PRIVATE.close()}),argument;return PRIVATE.actionAttachError=function(file,error){PRIVATE.alertAttachError({file:file},error),PRIVATE.removeAttachErrorThumb(file),PRIVATE.decrementNumberAttach()},PRIVATE.alertAttachError=function(args,error){var fileName="",strError="",response=args.response;args&&args.file&&args.file.name&&(fileName=args.file.name),PUBLIC.showDialog({message:error,type:"error",timeout:5e3})},PRIVATE.removeAttachErrorThumb=function(file){file.previewElement.remove()},PRIVATE.getNumberAttach=function(){var element=PRIVATE.target.querySelector(".attachments .attachments-count span span"),number;return parseInt(element.innerHTML)},PRIVATE.incrementNumberAttach=function(){var element=PRIVATE.target.querySelector(".attachments .attachments-count span span"),number=parseInt(element.innerHTML);element.innerHTML=++number},PRIVATE.decrementNumberAttach=function(){var element=PRIVATE.target.querySelector(".attachments .attachments-count span span"),number=parseInt(element.innerHTML),numberIsNegative=!1;(numberIsNegative=--number<0)||(element.innerHTML=number)},PRIVATE.addContact=function(target,contact){target.value=""},PRIVATE.clearMailInput=function(){$(".mail-composer__input",PRIVATE.target).val("")},PRIVATE.createMessageRecoveryMethods=function(scopeMessageObj){if(void 0===scopeMessageObj)return!1;scopeMessageObj.getRecoveryData=function(){return void 0!==this.recoveryData?JSON.stringify(this.recoveryData):"{}"},scopeMessageObj.setRecoveryData=function(id,mailBox){null!=id&&(this.recoveryData.id=id),null!=mailBox&&(this.recoveryData.mailBox=mailBox)}},PRIVATE.startAddresseeToEachInput=function(row){var tag=row.querySelector(".tagInput"),input=tag.querySelector(".mail-composer__input"),addrLabel=row.querySelector(".mail-composer__label .mail-composer__adressee"),addrTools=row.querySelector(".mail-composer__tools .mail-composer__adressee"),inputTag=new InputTag({target:tag}),waiting,row,obj2,obj3;$(PRIVATE.target.querySelector(".attachments .switch")).hide(),(PRIVATE.inputTagInstances[row.getAttribute("data-type")]=inputTag).on("change",pkg.utils.make.debounce(function(arg){input.value=arg})),waiting=pkg.utils.make.debounce(function(el){inputTag.trigger("done",el)},{distance:100}),row=function(userContact){var userContact=PRIVATE.splitNameEmail(userContact),isContactFromContactlist=!1,isValidMailAddress;reMailAddress.test(userContact[3])?(inputTag.add(userContact[2],userContact[3],userContact[0]).clearInput(),obj2&&(obj2.filter(""),obj2.render())):(isContactFromContactlist=PUBLIC.isContactFromContactlist(userContact[2]))&&(inputTag.add(userContact[2],userContact[2],userContact[0]).clearInput(),obj2)&&(obj2.filter(""),obj2.render())},inputTag.on("leave",waiting),inputTag.on("done",row),addrLabel&&((obj2=new Adressees({scope:PRIVATE.scope,target:addrLabel,input:tag.querySelector(".tagInput__input"),contacts:PRIVATE.controller.getContacts(),tooltip:!0})).on("add",function(data){data.id==obj2.id&&(inputTag.clearInput(),waiting(data.contact))}),PUBLIC.inputTags.push(obj2),tag.querySelector(".tagInput__input").addEventListener("paste",function(e){var paste;e.preventDefault(),e.stopPropagation(),(e.clipboardData||window.clipboardData).getData("text").split(/ *[,;\n\t][,;\n\t ]*/).forEach(function(addr){var results;(addr=addr.trim())&&((results=obj2.search(addr,{limit:1})).length?inputTag.trigger("done",results[0].all):inputTag.trigger("done",addr))})})),addrTools&&((obj3=new Adressees({scope:PRIVATE.scope,target:addrTools,contacts:PRIVATE.controller.getContacts(),tooltip:!0})).on("add",function(data){data.id==obj3.id&&(inputTag.clearInput(),waiting(data.contact))}),addrTools.addEventListener("paste",function(e){var paste;e.preventDefault(),e.stopPropagation(),(e.clipboardData||window.clipboardData).getData("text").split(/ *[,;\n\t][,;\n\t ]*/).forEach(function(addr){var results;(addr=addr.trim())&&((results=obj3.search(addr,{limit:1})).length?inputTag.trigger("done",results[0].all):inputTag.trigger("done",addr))})}),PUBLIC.inputTags.push(obj3))},PUBLIC.saveMessage=function(argument){var message=PUBLIC.MessageComposer.getMessage(),messageObj=PUBLIC.MessageComposer.getMessageObj();return draftButton.disabled||message&&"string"!=typeof message.oid||JSON.stringify(message)===JSON.stringify(PRIVATE.writingMSG)?Promise.reject("One or more conditions aren't true"):(PRIVATE.writingMSG=message,PUBLIC.trigger("afterSaveMessage",message),PRIVATE.api.New.saveMessage(message,messageObj).then(function(response){PUBLIC.trigger("savedMessage",message),PRIVATE.controller.trigger("savedMessage",message),messageObj.setRecoveryData(response.answer.i,response.answer.b)}).catch(function(err){PUBLIC.stopInterfaceMessageLoading(),PRIVATE.writingMSG=null}))},PUBLIC.stopInterfaceMessageLoading=function(){void 0!==draftButton&&(draftButton.classList.remove("loading"),draftButton.removeAttribute("disabled")),void 0!==PUBLIC.DOM.sendButton&&(PUBLIC.DOM.sendButton.classList.remove("disabled"),PUBLIC.DOM.sendButton.removeClass("loading")),void 0!==PRIVATE.target.querySelector(".card__footer .attachments button")&&$(PRIVATE.target.querySelector(".card__footer .attachments button")).removeClass("loading")},PUBLIC.isSmallScreen=function(allowedRangeList){var dataRangeAttribute=pkg.ui.html.getAttribute("data-range"),isToExecute;return!(allowedRangeList.indexOf(dataRangeAttribute)<0)},PUBLIC.resizeMceEditor=function(){var totalHeight=PRIVATE.currentWindow.document.getElementsByClassName("into-composer-content")[0].offsetHeight,headerHeight=PRIVATE.currentWindow.document.getElementsByClassName("mail-composer__header")[0].offsetHeight,container=PRIVATE.currentWindow.document.getElementById("mail-composer-body_ifr"),mceSize=PRIVATE.currentWindow.document.getElementsByClassName("mce-toolbar-grp")[0].offsetHeight;null!==container?container.style.height=totalHeight-headerHeight-(mceSize+4)+"px":PRIVATE.currentWindow.document.getElementById("mail-composer-body").style.height=totalHeight-headerHeight-(mceSize+4)+"px"},document.addEventListener("resizeMce",function(e){PUBLIC.resizeMceEditor()}),PUBLIC.init=function(){headerEditor=PRIVATE.target.querySelector(".mail-composer__header.header");for(var index=0;index<composerRowInput.length;index++)PRIVATE.startAddresseeToEachInput(composerRowInput[index]);PRIVATE.scope.isPopUp?PUBLIC.attachmentsZone=window.attachmentsZone:($.fn.dropzone=function(options){return this.each(function(){return new Dropzone(this,options)})},PUBLIC.attachmentsZone=$("#mail-composer .card__footer").dropzone({url:data.service+"?r=Message/saveAttachmentsAjax2",previewsContainer:PRIVATE.target.querySelector(".viewer"),addRemoveLinks:!0,maxFilesize:25,clickable:PRIVATE.target.querySelector(".attachments button"),thumbnailWidth:80,thumbnailHeight:80,dictFallbackText:PUBLIC.l10n.get("useCaixaDeDialogo"),dictFileTooBig:PUBLIC.l10n.get("tamanhoLimiteExcedido"),dictInvalidFileType:PUBLIC.l10n.get("tipoInvalido"),dictResponseError:PUBLIC.l10n.get("erroDeServidor"),dictCancelUpload:PUBLIC.l10n.get("uploadCancelado"),dictCancelUploadConfirmation:PUBLIC.l10n.get("confirmarCancelamentoUpload"),accept:function(file,done){var str=file.name.lastIndexOf(".");if(str){var typeFile=file.name.substring(str),recuseType=[".bat",".exe",".pif",".scr",".lnk",".com",".reg"];for(index in recuseType)if(recuseType[index]==typeFile)return void done(file.name+" "+PUBLIC.l10n.get("tipoInvalido"))}done()},init:function(){PRIVATE.target.querySelector(".attachments button").addEventListener("click",function(){Analytics.mailComposer.addAttach()});var isMultiple=!1;this.on("preparingFilesUpload",function(files){isMultiple=1<files.length}),this.on("drop",function(e){isMultiple=1<e.dataTransfer.files.length,Analytics.mailComposer.dragAttach(),PRIVATE.currentWindow.uploadType="dropzone"}),this.on("sending",function(file,xhr,data){var messageObj=PUBLIC.MessageComposer.getMessageObj();data.append("Message[envelope][wait-multiple-attachments-save]",isMultiple),data.append("Message[envelope][recovery-data]",messageObj.getRecoveryData()),this.inlineFlag&&data.append("inline",!0),PUBLIC.DOM.sendButton.classList.add("disabled"),data.append("Message[envelope][message-id]",PRIVATE.message.OID),$(PRIVATE.target.querySelector(".card__footer .attachments button")).addClass("loading")}),this.on("addedfile",function(file){uploadInput=PRIVATE.currentWindow.document.querySelector("input[type=file]"),"inline"==PRIVATE.currentWindow.uploadType&&(this.inlineFlag=!0),PRIVATE.currentWindow.uploadType="",uploadInput.multiple="multiple",uploadInput.accept="*",PRIVATE.incrementNumberAttach(),PRIVATE.getNumberAttach()&&$(PRIVATE.target.querySelector(".attachments .switch")).show(),PUBLIC.DOM.sendButton.classList.add("disabled"),$(PRIVATE.target.querySelector(".mail-composer__loadingbar")).addClass("lg")}),this.on("uploadprogress",function(progress,percent){$(PRIVATE.target.querySelector(".mail-composer__loadingbar")).css("width",percent+"%")}),this.on("queuecomplete",function(argument){PUBLIC.DOM.sendButton.classList.remove("disabled"),$(PRIVATE.target.querySelector(".mail-composer__loadingbar")).removeClass("lg"),$(PRIVATE.target.querySelector(".mail-composer__loadingbar")).css("width","0"),$(PRIVATE.target.querySelector(".card__footer .attachments button")).removeClass("loading"),isMultiple&&(isMultiple=!1,PUBLIC.saveMessage().catch(function(error){console.log("saveMessage: Couldn't save the message. "+error)}))}),this.on("success",function(file,response){try{response=JSON.parse(response)}catch(e){return!1}var response=response.models.result,attachment=response.attachment,messageObj=PUBLIC.MessageComposer.getMessageObj(),isArr,imgUrl,img;messageObj.setRecoveryData(response.message.uid,response.mailbox.mailbox_id),PUBLIC.DOM.sendButton.classList.remove("disabled"),response.success||PRIVATE.actionAttachError(file),Array.isArray(messageObj.attachments)||(messageObj.attachments=[]),this.inlineFlag&&(imgUrl=response.url,attachment.isInline)&&((img=document.createElement("img")).src=imgUrl,img.setAttribute("cid",attachment.cid),PRIVATE.currentWindow.tinyMCE.activeEditor.windowManager.close(PRIVATE.currentWindow),PRIVATE.currentWindow.tinyMCE.activeEditor.execCommand("mceInsertRawHTML",!0,img.outerHTML)),file.mailBoxId=response.mailbox.mailbox_id,file.messageOid=response.message["message-id"],file.messageId=response.message.uid,file.id=response.attachment.attachment_id,messageObj.attachments.push(file),this.inlineFlag=!1}),this.on("removedfile",function(attachment,fromUser){"boolean"!=typeof fromUser&&(fromUser=!1),attachment._removeLink.removeEventListener("click",close),$(attachment._removeLink).off(),attachment._removeLink=null,PRIVATE.decrementNumberAttach(),PRIVATE.getNumberAttach()||($(PRIVATE.target.querySelector(".attachments .switch")).hide(),$(PRIVATE.target.querySelector(".attachments")).addClass("hidden"));var messageObj=PUBLIC.MessageComposer.getMessageObj(),attachmentExistsInCurrentMsg=messageObj.attachments.hasOwnProperty(attachment.id);!fromUser&&attachmentExistsInCurrentMsg||PRIVATE.api.New.removeAttachment(attachment,fromUser,messageObj.getRecoveryData()).then(function(response){fromUser&&messageObj.setRecoveryData(response.i,response.b)})}),this.on("error",function(file,error){PUBLIC.DOM.sendButton.classList.remove("disabled"),PRIVATE.actionAttachError(file,error),PRIVATE.getNumberAttach()||$(PRIVATE.target.querySelector(".attachments .switch")).hide()})}}),Dropzone.confirm=function(text,confirm,rejected){confirm()})},PUBLIC.isContactFromContactlist=function(contactToFind){var is=!1,contactList;return(PRIVATE.controller.getContacts().getContacts()||[]).map(function(contactObject){contactToFind===contactObject.ADDRESS&&(is=!0)}),is},PUBLIC.MessageComposer.elements={to:$(PRIVATE.target.querySelector(".to .mail-composer__input")),cc:$(PRIVATE.target.querySelector(".cc input")),bcc:$(PRIVATE.target.querySelector(".bcc input")),subject:$(PRIVATE.target.querySelector(".subject input"))},PUBLIC.MessageComposer._setMessage=function(message,origMailboxId,origMessageId){function parse(tag,contacts){tag.clear(),contacts&&0!==contacts.length&&("string"==typeof contacts?contacts.split(","):contacts).forEach(function(c){c=c.trim(),c=PRIVATE.splitNameEmail(c),tag.add(c[2],c[3],c[0])})}for(var i in PRIVATE.origMailboxId=origMailboxId,PRIVATE.origMessageId=origMessageId,parse(PRIVATE.inputTagInstances.to,message.to),parse(PRIVATE.inputTagInstances.cc,message.cc),parse(PRIVATE.inputTagInstances.cco,message.bcc),message.cc&&message.cc.length||message.bcc&&message.bcc.length?PRIVATE.showCCCCo():PRIVATE.hideCCCCo(),PUBLIC.MessageComposer.elements.subject.val(message.subject),PRIVATE.currentWindow.tinymce.get("mail-composer-body").setContent(message.body||""),PUBLIC.resizeMceEditor(),PRIVATE.currentWindow.addEventListener("resize",function(e){PUBLIC.resizeMceEditor()}),PUBLIC.MessageComposer.clearAttachments(),message.attachments)message.attachments.hasOwnProperty(i)&&PUBLIC.MessageComposer.addAttachment(message.attachments[i]);setTimeout(function(argument){PRIVATE.writingMSG=PUBLIC.MessageComposer.getMessage()},500)},PUBLIC.MessageComposer.newMessage=function(message,origMailboxId,origMessageId){var msg,elemToFocus;PRIVATE.message=message,PRIVATE.createMessageRecoveryMethods(PRIVATE.message),PRIVATE.currentWindow.windowStatus="editing",PRIVATE.scope.status=PRIVATE.currentWindow.windowStatus,(msg=PRIVATE.controller.webmailScope.popUps[PRIVATE.currentWindow.name])&&(msg.status=PRIVATE.currentWindow.windowStatus,msg.window.message.recoveryData=message.recoveryData,PRIVATE.createMessageRecoveryMethods(msg.window.message)),PRIVATE.target.style.display="block",$(".disclaimer-download-images",PRIVATE.target).hide(),$(PRIVATE.target.querySelector("[name='Message[envelope][priority]'][value='"+PRIVATE.message.priority+"']")).prop("checked","checked"),$(PRIVATE.target.querySelector("[name='Message[envelope][return-receipt-to]']")).prop("checked",null),PRIVATE.clearMailInput(),PUBLIC.stopInterfaceMessageLoading(),PUBLIC.MessageComposer._setMessage(PRIVATE.message,PRIVATE.message.mailBoxId,origMessageId),(elemToFocus=message.to.length?PRIVATE.currentWindow.tinymce.get("mail-composer-body"):$(PRIVATE.target.querySelector(".to input"))).focus(),PRIVATE.scope.isPopUp?$(PRIVATE.scope.mailViewerPopUp.target).hide():(document.getElementById("customPage").style.display="none",document.getElementById("mail-list").parentNode.style.display="none",PRIVATE.controller.trigger("composerOpen",message))},PUBLIC.MessageComposer.leaveMessage=function(){var msg=PRIVATE.controller.webmailScope.popUps[PRIVATE.currentWindow.name];PRIVATE.currentWindow.windowStatus="",msg&&(msg.status=PRIVATE.currentWindow.windowStatus),PRIVATE.close(),PRIVATE.clearMailInput(),PUBLIC.MessageComposer._setMessage({}),PRIVATE.controller.trigger("leaveMessage",{})},PUBLIC.MessageComposer.getMessage=function(){var message={},composer=PRIVATE.currentWindow.tinymce?PRIVATE.currentWindow.tinymce.get("mail-composer-body"):null;return message.oid=PRIVATE.message.oid,message.to=$(PRIVATE.target.querySelector(".to input")).val(),message.cc=$(PRIVATE.target.querySelector(".cc input")).val(),message.bcc=$(PRIVATE.target.querySelector(".bcc input")).val(),message.subject=$(PRIVATE.target.querySelector(".subject input")).val(),message.priority=$(PRIVATE.target.querySelector("[name='Message[envelope][priority]']:checked")).val(),$(PRIVATE.target.querySelector("[name='Message[envelope][return-receipt-to]']:checked")).val()&&(message.receiptTo=PUBLIC.mail),message.attachments=PUBLIC.attachmentsZone?Array.prototype.slice.call(PUBLIC.attachmentsZone.map(function(index,el){return el.dropzone&&el.dropzone.files?el.dropzone.files.map(function(file){return file.name}):[]})):[],message.body=composer?composer.getContent():"",message},PUBLIC.MessageComposer.getMessageObj=function(){var scopePopUp=PRIVATE.controller.webmailScope.popUps[PRIVATE.currentWindow.name];return(scopePopUp?scopePopUp.window:PRIVATE).message},PUBLIC.MessageComposer.addAttachment=function(attachment){var dropzoneFile=attachment,attachmentZone=(PRIVATE.scope.isPopUp?window:PUBLIC).attachmentsZone[0].dropzone,attachment=(dropzoneFile.name=attachment.fileName,attachmentZone.options.addedfile.call(attachmentZone,dropzoneFile),attachmentZone.options.thumbnail.call(attachmentZone,dropzoneFile,PRIVATE.api.getAttachmentThumbnailURL(attachment)),attachmentZone.files.push(dropzoneFile),parseInt($(PRIVATE.target.querySelector(".attachments .attachments-count span span")).html())+1);$(PRIVATE.target.querySelector(".attachments .attachments-count span span")).html(attachment),0<attachment&&$(PRIVATE.target.querySelector(".attachments .switch")).show()},PUBLIC.MessageComposer.clearAttachments=function(){PUBLIC.attachmentsZone&&PUBLIC.attachmentsZone.toArray().forEach(function(element){element.dropzone.removeAllFiles(!0)})},PUBLIC.MessageComposer.switchAttachments=function(message){$(PRIVATE.target.querySelector(".attachments")).hasClass("hidden")?$(PRIVATE.target.querySelector(".attachments")).removeClass("hidden"):$(PRIVATE.target.querySelector(".attachments")).addClass("hidden")},PUBLIC.validateMessage=function(success){var buttons,arrTranslate;""===PUBLIC.MessageComposer.elements.to.val().trim()?PUBLIC.showDialog({message:PUBLIC.l10n.get("insiraUmDestinario"),scope:PRIVATE.scope,type:"error",teardown:function(argument){$(PRIVATE.target.querySelector(".footer button.send")).prop("disabled",null),PUBLIC.MessageComposer.elements.to.focus()}}):""===PUBLIC.MessageComposer.elements.subject.val().trim()?(buttons={},arrTranslate=[[PUBLIC.l10n.get("sim")],[PUBLIC.l10n.get("nao")]],buttons.btn1=function(){success(),this.close()},buttons.btn2=function(){PUBLIC.MessageComposer.elements.subject.focus(),this.close()},PUBLIC.showDialog({message:PUBLIC.l10n.get("semTitulo"),type:"warning",scope:PRIVATE.scope,overlay:!0,modal:!0,timeout:!1,teardown:function(argument){PUBLIC.MessageComposer.elements.subject.focus(),$(PRIVATE.target.querySelector(".footer button.send")).prop("disabled",null)},innerButtons:buttons,translateBtn:arrTranslate})):success()},PUBLIC.getWritingMessageOID=function(){return PRIVATE.message.oid},PUBLIC.showDialog=function(data){var m;return new Modal({buttons:data.buttons||!1,header:data.header,btnClose:data.btnClose,contentType:data.contentType,scope:data.scope,innerButtons:data.innerButtons||!1,body:data.message||data.body,overlay:data.overlay,teardown:data.teardown,type:data.type||"success",timeout:data.timeout,translateBtn:data.translateBtn||!1,open:function(object){},close:function(object){}})},PUBLIC.sendMessage=function(args){PRIVATE.close(),PUBLIC.validateMessage(function(){var message=PUBLIC.MessageComposer.getMessage(),captchaData=args&&args.challenge&&args.answer?args:{};message.oid=PRIVATE.message.oid,PUBLIC.trigger("afterSendMessage",message),PRIVATE.api.New.sendMessage(message,captchaData,PUBLIC.MessageComposer.getMessageObj()).then(function(response){message.success=response.success,(PRIVATE.scope.message=message).success?(PUBLIC.trigger("sendMessage",PRIVATE.scope),PRIVATE.controller.trigger("sendMessage",PRIVATE.scope),PUBLIC.showDialog({message:PUBLIC.l10n.get("mensagemSalva"),scope:PRIVATE.scope,type:"success"}),"Rascunhos"==PRIVATE.origMailboxId&&PRIVATE.controller.trigger("draftSent",{mailBox:PRIVATE.origMailboxId,messageId:PRIVATE.origMessageId}),PRIVATE.origMailboxId&&PRIVATE.origMessageId&&PUBLIC.trigger("updateReplyFlag",{mailBox:PRIVATE.origMailboxId,messageId:PRIVATE.origMessageId}),PRIVATE.api.New.contactList().then(function(contacts){var surnameprep=["das","der","den","dos","ten","van","von","zum"],to=[],contactsToAdd=[],buttons={},regexEmail=/<(.*?)>/,reSplitQuotes=/"|'/,reSplitEmail=/[\s_.+=-]+/,contactEmails=contacts.map(function(c){return c.ADDRESS}),contacts=(message.to&&(to=to.concat(message.to.replace(reSplitQuotes,"").split(","))),message.cc&&(to=to.concat(message.cc.replace(reSplitQuotes,"").split(","))),(to=message.bcc?to.concat(message.bcc.replace(reSplitQuotes,"").split(",")):to).forEach(function(dest,i){var email=dest,dest,asuggestName;-1!=dest.indexOf("@")&&(regexEmail.test(dest)&&(email=dest.match(regexEmail)[1]),-1==contactEmails.indexOf(email))&&(dest=(dest=(dest=(asuggestName=(dest=(-1===dest.indexOf("<")?dest.split("@"):dest.split("<"))[0]).split(reSplitEmail).reduce(function(arr,name,i){return 2<name.length&&-1==surnameprep.indexOf(name.toLowerCase())?arr.push(name.charAt(0).toLocaleUpperCase()+name.slice(1)):arr.push(name),arr},[])).length?asuggestName.join(" "):dest.replace(/\s+/g," ")).trim()).charAt(0).toLocaleUpperCase()+dest.slice(1),contactsToAdd.push({suggestName:dest,email:email}))}),[[PUBLIC.l10n.get("save")],[PUBLIC.l10n.get("cancelar")]]);buttons.btn1=function(){for(var obj,obj,inputEmailToAdd,listPromiseNewContactList=[],listContactsLI=PRIVATE.currentWindow.document.querySelectorAll(".list-contacts li"),i=0;i<listContactsLI.length;i++)(inputEmailToAdd=(obj=listContactsLI[i]).querySelector('input[name="emailtoadd"]')).checked&&(obj=obj.querySelector('input[name="nametoadd"]'),listPromiseNewContactList.push(PRIVATE.api.New.newContact({"Contact[first_name]":obj.value,"Contact[emailAddresses][0][address]":inputEmailToAdd.value,"Contact[emailAddresses][0][emailaddress_id]":"0","Contact[defaultEmailAddress][emailaddress_id]":"0"})));Promise.all(listPromiseNewContactList).then(function(){PRIVATE.api.New.contactList(!0),PUBLIC.showDialog({message:PUBLIC.l10n.get("contatoSalvo"),scope:PRIVATE.scope,type:"success"})}),this.close()},buttons.btn2=function(){this.close()},contactsToAdd.length&&PUBLIC.showDialog({header:PUBLIC.l10n.get("create_new_contact"),message:PUBLIC.templates.get("createContact").render({dic:PUBLIC.l10n,contacts:contactsToAdd}),overlay:!0,modal:!0,timeout:!1,type:"info",contentType:"html",buttons:buttons,translateBtn:contacts})}),PRIVATE.currentWindow.windowStatus="reading",PRIVATE.scope.status=PRIVATE.currentWindow.windowStatus,PRIVATE.scope.isPopUp?(PRIVATE.controller.webmailScope.popUps[PRIVATE.currentWindow.name].status=PRIVATE.currentWindow.windowStatus,"drafts"==PRIVATE.scope.fromFolder&&PRIVATE.controller.trigger("closeWindow",PRIVATE.scope.window.name),$(PRIVATE.scope.mailViewerPopUp.target).show(),$(PRIVATE.target).hide()):history.back(),PRIVATE.clearMailInput()):PRIVATE.controller.trigger("errorSendMessage",{response:response,scope:PRIVATE.scope})}).catch(function(e){PRIVATE.controller.trigger("errorSendMessage",{response:e,scope:PRIVATE.scope})})}),Analytics.mailComposer.send()},PUBLIC.on("updateReplyFlag",function(args){$("#mail-list tr.message-"+args.messageId).addClass("answered replied")}),PUBLIC.on("savedMessage",function(){draftButton.classList.remove("loading"),draftButton.removeAttribute("disabled"),PUBLIC.DOM.sendButton.classList.remove("disabled"),PUBLIC.showDialog({message:PUBLIC.l10n.get("mensagemSalvaRascunho"),scope:PRIVATE.scope,type:"success"})}),PUBLIC.on("afterSaveMessage",function(){draftButton.classList.add("loading"),draftButton.setAttribute("disabled","disabled"),PUBLIC.DOM.sendButton.classList.add("disabled")}),PUBLIC.on("errorOnSavedMessage",function(){draftButton.classList.remove("loading"),draftButton.removeAttribute("disabled"),PUBLIC.DOM.sendButton.classList.remove("disabled")}),PUBLIC.on("sendMessage",function(){PRIVATE.writingMSG=null,PUBLIC.DOM.sendButton.removeClass("loading"),PUBLIC.DOM.sendButton.removeAttribute("disabled")}),PUBLIC.on("afterSendMessage",function(){PUBLIC.DOM.sendButton.addClass("loading")}),$(PRIVATE.target).on("click",".mail-composer__more.cc-cco",function(argument){Analytics.mailComposer.addCcCco(),$(PRIVATE.target).toggleClass("show-cc-cco"),PUBLIC.resizeMceEditor()}),$(PRIVATE.target).on("click",".mail-composer__more.wrap__tooltip",function(event){"Message_envelope_return-receipt-to"===event.target.getAttribute("for")&&Analytics.mailComposer.readConfirmation(),-1!==["priority_high","priority_normal","priority_low"].indexOf(event.target.getAttribute("for"))&&Analytics.mailComposer.setPriority(),more[0]==event.target&&(more.find(".tooltip").toggleClass("--visible"),document.removeEventListener("click",close),more.find(".tooltip").hasClass("--visible"))&&document.addEventListener("click",close)}),$(PRIVATE.target.querySelector(".attachments .switch")).click(function(){PRIVATE.controller.trigger("viewAttachmentsClick",PRIVATE.scope)}),$(PRIVATE.target.querySelector(".footer button.cancel")).click(function(){Analytics.mailComposer.cancel(),PRIVATE.writingMSG=null,PRIVATE.cancelMessage(PRIVATE.scope)}),$(PRIVATE.target.querySelector(".footer button.discard")).click(function(argument){Analytics.mailComposer.discard(),PRIVATE.api.New.discard().then(function(argument){PRIVATE.discardMessage(PRIVATE.scope)}),PRIVATE.target.querySelector(".composer-undock")&&$(PRIVATE.target).hide()}),draftButton.addEventListener("click",function(){Analytics.mailComposer.draft(),PUBLIC.saveMessage().catch(function(error){console.log("saveMessage: Couldn't save the message. "+error)})}),PUBLIC.DOM.sendButton.addEventListener("click",pkg.utils.make.debounce(function(){PUBLIC.sendMessage()},{distance:500})),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,PUBLIC_STATIC,$;pkg.factoryManager.get("app").create({name:"MailViewer",version:"1.0.50",state:"ok",dependencies:["mod.Analytics","mod.jQuery","app.Api","app.Modal"],dictionaries:["webmail"],templates:{mailContent:'<div class="container-empty-message">    <p class="empty-message">        {{ dict.get(\'empty_message\') }}    </p></div><div id="mailViewerContentHeader" class="mail-viewer-content-header">    <div class="header">        <div class="icons clearfix">            <div class="navigation">                <button class="btn-back-list" title="{{ dict.get(\'return\') }}">                    <i class="icon icon-16 icon-chevron-left-light"></i>                </button>                <a href="javascript:void(0)" title="{{ dict.get(\'prev_message\') }}" class="previous hide-in-mobile">                    <i class="icon icon-16 icon-chevron-up-light"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'next_message\') }}" class="next hide-in-mobile">                    <i class="icon icon-16 icon-chevron-down-light"></i>                </a>            </div>            <div class="actions">                <a href="javascript:void(0)" title="{{ dict.get(\'responder\') }}">                    <i class="icon icon-16 icon-reply"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'responderTodos\') }}">                    <i class="icon icon-16 icon-reply_all icon-reply-all"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'encaminhar\') }}">                    <i class="icon icon-16 icon-forward"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'imprimir\') }}" class="hide-in-mobile">                    <i class="icon icon-16 icon-print"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'mark_as_unread\') }}" class="hide-in-mobile">                    <i class="icon icon-16 icon-unread"></i>                </a>                <a class="mail-viewer__icon__phishing" href="javascript:void(0)" title="{{ dict.get(\'mark_as_fraud\') }}">                    <i class="icon icon-16 icon-phishing"></i>                </a>                <a class="mail-viewer__icon__spam hide-in-mobile" href="javascript:void(0)" title="{{ dict.get(\'spam\') }}">                    <i class="icon icon-16 icon-spam"></i>                </a>                <a class="mail-viewer__icon__notSpam hide-in-mobile" href="javascript:void(0)" title="{{ dict.get(\'naoESpam\') }}">                    <i class="icon icon-16 icon-spam-no"></i>                </a>                <a class="mail-viewer__icon__trash" href="javascript:void(0)" title="{{ dict.get(\'trash\') }}">                    <i class="icon icon-16 icon-trash"></i>                </a>                <a class="mail-viewer__icon__delete hide-in-mobile" href="javascript:void(0)" title="{{ dict.get(\'delete\') }}">                    <i class="icon icon-16 icon-close-gray-filled"></i>                </a>                <select class="move-to-folder drop-down-selector-mobile">                    <option selected="selected" default value="">                        {{ dict.get(\'moverPara\') }}...                    </option>                </select>            </div>        </div>    </div>    <div id="mailSubjectContent" class="subject">        <h3 class="subject__truncate">            {% if hasAttach %}                <i class="icon-attachment"></i>            {% endif %}            {{subject}}            <span id="mail-date" class="mail-date">{{ receivedComplete }}</span>        </h3>    </div>    <div id="mailContatContent" class="contact">        <div class="mail-info-sender">            <div class="from">                <strong>{{ dict.get(\'de\') }}:</strong>                <span class="from__name"></span>                <span id="address" class="from__address"></span>            </div>            <div id="composerUserActions" class="contact-actions">                <a class="contact-add-button" href="javascript:void(0)" title="{{ dict.get(\'adicionarContato\') }}">                    <i class="icon icon-16 icon-user-add"></i>                </a>                <a class="contact-unblock-button" href="javascript:void(0)" title="{{ dict.get(\'desbloquearContato\') }}">                    <i class="icon icon-16 icon-user-block-red"></i>                </a>                <a class="contact-block-button" href="javascript:void(0)" title="{{ dict.get(\'bloquearContato\') }}">                    <i class="icon icon-16 icon-user-block"></i>                </a>            </div>        </div>        <div id="mailInfoContact" class="mail-viewer__to mail-info-contact">                <p class="info-contato">                    <strong>{{ dict.get(\'para\') }}:</strong>                    <span class="to"></span>                </p>                <p class="info-contato">                    <strong>{{ dict.get(\'cc\') }}:</strong>                    <span class="cc"></span>                </p>                <p class="info-contato">                    <strong>{{ dict.get(\'bcc\') }}:</strong>                    <span class="bcc"></span>                </p>            <div class="buttons">                <button id="getMailHeader" class="btn-msg-headers">                    {{ dict.get(\'seeHeaders\') }}                </button>                <button id="seemoreInfoContact" class="btn-seemore-mail-info-contact">                    {{ dict.get(\'seeMoreDetails\') }}                </button>            </div>        </div>    </div>    <div class="disclaimer-download-images">        <p>            <i class="icon icon-important icon-12"></i>            {{ dict.get(\'imagens_bloqueadas\') }}        </p>        <div class="disclaimer-confirm-btn-content">            <a class="act-show" href="javascript:void(0)">                <strong class="act-show">{{ dict.get(\'download_images\') }}</strong>            </a>            <a class="act-showalways" href="javascript:void(0)">                <strong class="act-showalways"> {{ dict.get(\'download_images_always\') }} </strong>            </a>        </div>    </div>    <div class="disclaimer-read-confirm">        <p>            <i class="icon icon-important icon-12"></i>           {{ dict.get(\'sender_readconfirm\') }}        </p>        <div class="disclaimer-confirm-btn-content">            <a class="act-confirm" href="javascript:void(0)">                <strong class="act-confirm">{{ dict.get(\'sim\') }}</strong>            </a>            <a class="act-dontconfirm" href="javascript:void(0)">                <strong class="act-dontconfirm">{{ dict.get(\'nao\') }}</strong>            </a>            <a class="act-notnow" href="javascript:void(0)">                <strong class="act-notnow">{{ dict.get(\'not_now\') }}</strong>            </a>        </div>    </div></div><div id="mailContent" class="mail-content">    <div id="phishingLinkScanContent"></div>    <iframe id="bodyMailViewer" class="body-mail-viewer"></iframe></div>',mail:"<!DOCTYPE html><html>    {{ htmlContent }}</html>",mailHeaderSubject:'<h3 class="subject__truncate">    {% if hasAttach %}        <i class="icon-attachment"></i>    {% endif %}    {{subject}}</h3><div id="mail-date" class="mail-date">{{ receivedComplete }}</div>',attachments:'<style type="text/css" rel="stylesheet">    #ozoneAttachments * {        margin: 0;        padding: 0;        box-sizing: border-box;        font-family: Open Sans, sans-serif;    }    #ozoneAttachments li {        list-style: none;    }    #ozoneAttachments .attachments__title {        padding: 10px;        margin: 10px 0 0;        font-weight: bolder;        display: block;        width: 100%;        background-color: #f1f1f1;        border-top: 1px solid #d1d1d1;        border-bottom: 1px solid #d1d1d1;    }    #ozoneAttachments li {        box-sizing: border-box;        background-color: #f1f1f1;        border-radius: 5px;        box-shadow: 1px 1px 2px -1px #000;        transition: all .1s ease;        cursor: pointer;        float: left;        margin: 5px 0;        width: 100%;    }    #ozoneAttachments ul {        width: 100%;        padding-bottom: 10px;        margin-bottom: 10px;    }    #ozoneAttachments li.thumbnail {        width: 200px;        margin: 10px;        height: 50px;    }    #ozoneAttachments li.thumbnail i {        float: left;        height: 30px;        background-size: cover;        width: 30px;        opacity: .6;        margin-right: 10px;    }    #ozoneAttachments li.thumbnail i.icon-download {        background-image: url(\'https://s1.trrsf.com/fe/zaz-mod-icons/svg/ozone/download-dark.svg\');    }    #ozoneAttachments li.thumbnail .filename {        display: inline-block;        float: left;        overflow: hidden;        text-overflow: ellipsis;        white-space: nowrap;        max-width: 130px;    }    #ozoneAttachments li .attachment_thumb {        width: 40px;        float: left;        margin-right: 10px;        margin-top: 0;        height: 30px;    }    #ozoneAttachments li img {        display: block;        margin-top: 5px;        max-width: 100%;        width: 100%;        margin-bottom: 10px;    }    #ozoneAttachments li a {        display: table-cell;        margin: 10px 0;        padding: 10px;        vertical-align: middle;        font-size: 12px;        color: #333;        text-decoration: none;    }</style><p class="attachments__title">{{ dic.get("anexos")}}</p><ul>\t{% for id, attachment in attachments %}        {% if not attachment.isInline %}        <li class="attachment thumbnail" data-id="{{id | escape }}">            <a href="javascript:void(0)">                {% if attachment.img.src %}                <img class="attachment_thumb" src="{{attachment.img.src}}" alt="{{attachment.img.alt}}"/>                {% else %}                <i class="icon icon-20 icon-download"></i>                {% endif %}                <span title="{{attachment.fullName}}" class="filename">{{ attachment.name or dic.get("sem nome")}}</span>                {% if attachment.extension %}                <span class="extension">.{{ attachment.extension }}</span>                {% endif %}                (<span class="size">{{ attachment.total }}</span>)            </a>        </li>        {% endif %}    {% endfor %}</ul><ul>\t{% for id, attachment in attachments %}        {% if attachment.img.src and not attachment.isInline %}        <li class="attachment" data-id="{{id | escape }}">            <a href="javascript:void(0)">                <img src="{{attachment.img.src}}" alt="{{attachment.img.alt}}"/>                <span class="filename">{{ attachment.fullName or dic.get("sem nome")}}</span>                (<span class="size">{{ attachment.total }}</span>)            </a>        </li>        {% endif %}    {% endfor %}</ul>',folders:"{% for folder in folders %}    {% if folder.imapId != 'drafts' and folder.imapId != 'sent' %}        <option class=\"folder-{{ folder.index}}\" value=\"{{folder.id}}\">            {{folder.name}}        </option>    {% endif %}{% endfor %}"},expects:{properties:{}},setup:function(__static,__proto,__shared){$=__shared.dependencies["mod.jQuery"],PUBLIC_STATIC=__static},init:function(data,__shared){var PUBLIC=this,PRIVATE={DOM:{},target:data.target,$target:$(data.target),scope:data.scope||null,controller:data.controller,contacts:data.contacts||[],currentWindowReference:null,currentWindow:data.currentWindow||window,contactIsAdded:!1,allowImages:!1,api:new __shared.dependencies["app.Api"]({}),Modal:__shared.dependencies["app.Modal"]},Analytics=__shared.dependencies["mod.Analytics"];return PUBLIC.DOM={},PUBLIC.webmailScope=pkg.context.page.get("webmailScope"),PUBLIC.target=PRIVATE.target,PRIVATE.domEvents=function(){PRIVATE.scope.isPopUp||PUBLIC.DOM.backBtn.addEventListener("click",function(){var element;document.getElementById("mailListContainerScroll").style.overflowY="auto",Analytics.mailViewer.backToMailList(),PUBLIC.close(),PRIVATE.controller.trigger("pageChange",{page:"mailList",subpage:PRIVATE.controller.currentFolder})}),PUBLIC.DOM.readConfirm&&PUBLIC.DOM.readConfirm.addEventListener("click",function(evt){switch(evt.target.className){case"act-confirm":PRIVATE.currentMessage.flags.push("confirmed"),PUBLIC.DOM.readConfirm.classList.add("hidden"),PRIVATE.currentMessage.deliveredTo=window.userProfile.email,PRIVATE.sendReadConfirm(PRIVATE.currentMessage);break;case"act-dontconfirm":PUBLIC.DOM.readConfirm.classList.add("hidden"),PRIVATE.currentMessage.flags.push("noconfirm"),PRIVATE.currentMessage.confirmation="false",PRIVATE.api.New.markAsConfirmed(PRIVATE.currentMessage);break;case"act-notnow":PUBLIC.DOM.readConfirm.classList.add("hidden")}var messagePopUp,popUpReadConfirm;PRIVATE.scope.isPopUp&&PRIVATE.controller.webmailScope.main.mailViewer.getMessage().oid==PRIVATE.currentMessage.oid?document.querySelector(".disclaimer-read-confirm").classList.add("hidden"):PRIVATE.controller.webmailScope.popUps["MessageWindow"+PRIVATE.currentMessage.id]&&PRIVATE.controller.webmailScope.popUps["MessageWindow"+PRIVATE.currentMessage.id].mailViewerPopUp.DOM.readConfirm.classList.add("hidden")}),PRIVATE.$target.find(".icon-attachment").click(function(){PRIVATE.controller.trigger("icon-attachment",!0)})},PRIVATE.api.on("errorVade",function(args){PRIVATE.enableAllLinkOnMessage(),PRIVATE.setPhishingStatus("warning",PUBLIC.l10n.get("phishingNotice"),5e3),Analytics.mailViewer.errorVade(),console.error(args)}),PRIVATE.api.on("timeoutVade",function(args){PRIVATE.enableAllLinkOnMessage(),PRIVATE.setPhishingStatus("warning",PUBLIC.l10n.get("phishingNotice"),5e3),Analytics.mailViewer.errorVade(),console.error(args)}),PUBLIC.on("show",function(argument){PRIVATE.loaded()}),PUBLIC.on("loading",function(argument){PRIVATE.resetEmailContent(),PRIVATE.loading(),PUBLIC.show()}),PRIVATE.resetEmailContent=function(){PUBLIC.DOM.bodyMailviewer.innerHTML=""},PRIVATE.renderMailviewerContent=function(){var tplMailContent,tplRenderedMailContent=PUBLIC.templates.get("mailContent").render({dict:PUBLIC.l10n});PUBLIC.DOM.mailViewer.innerHTML=tplRenderedMailContent},PRIVATE.checkblock=function(contact){var blocked="blocked",userBlockedClass="user-blocked";PRIVATE.api.New.contactIsBlocked(contact).then(function(response){response.status===blocked?PUBLIC.DOM.composerUserActions.classList.add("user-blocked"):PUBLIC.DOM.composerUserActions.classList.remove("user-blocked")})},PRIVATE.normalizeHeaderMail=function(message){for(var reBrTag=/<br\s?\/>/g,reGetTitle=/.*:\s/g,headers,headerTxt,strongTxt,arrLineTxt=message.headers.replace(reBrTag,"").replace(reGetTitle,function(match){return"<br /><strong>"+match+"</strong>"}).split(reBrTag),arrLineTxtLen=arrLineTxt.length,line,str="",i=0;i<arrLineTxtLen;i++)" "!==(line=arrLineTxt[i])&&(str+="<p>"+line+"</p>");return str},PRIVATE.interfaceHeaderMail=function(){PUBLIC.getHeaderMessage().then(function(response){var response=PRIVATE.normalizeHeaderMail(response),response={width:"90%",classId:"modal-header-message",btnClose:!0,contentType:"html",header:PUBLIC.l10n.get("headerTitle"),body:response,overlay:!0,type:"default",modal:!1,timeout:!1};PRIVATE.showDialog(response)}).catch(function(error){console.error(error.message)})},PRIVATE.renderContact=function($target,contacts){contacts&&contacts.length?$target.html(contacts.reduce(function(old,_contact,index){var _contact=PUBLIC.parseContact(_contact);return old+((index?", ":"")+'<span title="'+_contact.address+'">'+_contact.name)+"</span>"},"")).parent().show():$target.parent().hide()},PRIVATE.replyMessage=function(message,target){var mailComposerPopUp;if(target&&target instanceof Object)return mailComposerPopUp=target,PRIVATE.scope.mailComposer.origMessageId=message.id,PRIVATE.api.New.replyMessage(message.mailBoxId,message.id).then(function(message){mailComposerPopUp.MessageComposer.newMessage(message,message.mailBoxId,message.id)})},PRIVATE.replyToAllMessage=function(message,target){var mailComposerPopUp;if(target&&target instanceof Object)return mailComposerPopUp=target,PRIVATE.scope.mailComposer.origMessageId=message.id,PRIVATE.api.New.replyToAllMessage(message.mailBoxId,message.id).then(function(message){mailComposerPopUp.MessageComposer.newMessage(message,message.mailBoxId,message.id)})},PRIVATE.forwardMessage=function(message,target){var mailComposerPopUp;if(target&&target instanceof Object)return mailComposerPopUp=target,PRIVATE.scope.mailComposer.origMessageId=message.id,PRIVATE.api.New.forwardMessage(message.mailBoxId,message.id).then(function(message){mailComposerPopUp.MessageComposer.newMessage(message,message.mailBoxId,message.id)})},PRIVATE.toTrash=function(message){PRIVATE.controller.currentFolder.id==PRIVATE.api.FOLDER_ID.lixeira?(PRIVATE.api.New.deleteMessages([message.id],PRIVATE.api.FOLDER_ID.lixeira).then(function(){PRIVATE.controller.setMovedMessage(message)}),PUBLIC.controller.updateUserInfo()):PRIVATE.api.New.moveMessages([message.id],message.mailBoxId,PRIVATE.api.FOLDER_ID.lixeira).then(function(){PRIVATE.controller.setMovedMessage(message)})},PRIVATE.isAnsweringMsg=function(){return PRIVATE.scope.isPopUp?"editing"==PRIVATE.controller.webmailScope.main.status&&PRIVATE.controller.webmailScope.main.mailComposer.origMessageId==PRIVATE.currentMessage.id||void 0:!(!PRIVATE.controller.webmailScope.popUps["MessageWindow"+PRIVATE.currentMessage.id]||"editing"!=PRIVATE.controller.webmailScope.popUps["MessageWindow"+PRIVATE.currentMessage.id].status||(PRIVATE.controller.webmailScope.popUps["MessageWindow"+PRIVATE.currentMessage.id].window.focus(),0))},PRIVATE.resetMailBodyScroll=function(){PUBLIC.DOM.bodyMailviewer.contentWindow.scroll(0,0),PUBLIC.DOM.mailViewerContent.scrollTop=0},PRIVATE.showDialog=function(data){var m=new PRIVATE.Modal({width:data.width||"auto",autoHeight:!0,classId:data.classId,buttons:data.buttons||!1,header:data.header,btnClose:data.btnClose,scope:data.scope,contentType:data.contentType,innerButtons:data.innerButtons||!1,body:data.message||data.body,overlay:data.overlay,teardown:data.teardown,type:data.type||"success",timeout:data.timeout,translateBtn:data.translateBtn||!1,open:function(object){},close:function(object){m.teardown()}});return m},PRIVATE.sendReadConfirm=function(params){PRIVATE.api.New.replyMessage(params.mailBoxId,params.id).then(function(response){response.from=window.userProfile.email,response.deliveredTo=params.deliveredTo,response.to=params.from,PRIVATE.api.New.sendMessage(response).then(function(response){PRIVATE.showDialog({message:PUBLIC.l10n.get("readconfirm_success"),scope:PRIVATE.scope,type:"success"})})})},PRIVATE.validateImageURL=function(url){var getHost=pkg.context.page.getHost(),re;return new RegExp("/?(https://"+getHost+")?/ws/index.php[?]r=message/downloadAttachment&.*$","g").exec(url)},PRIVATE.isAddedContact=function(message){for(var getContacts=PRIVATE.controller.getContacts().getContacts()||[],contactsLen=getContacts.length,from=PUBLIC.parseContact(message.from),addressIsEqual=!1,i=0;i<contactsLen;i++)if(addressIsEqual=from.address===getContacts[i].ADDRESS){PRIVATE.contactIsAdded=!0;break}PRIVATE.contactIsAdded?PUBLIC.DOM.composerUserActions.classList.add("user-added"):PUBLIC.DOM.composerUserActions.classList.remove("user-added")},PRIVATE.writeEmailHeader=function(message){message.hasAttach=!1;for(var attachKeys=Object.keys(message.attachments),index=0;index<attachKeys.length;index++){var id=attachKeys[0],attach;message.attachments[id].isInline||(message.hasAttach=!0)}var from=PUBLIC.parseContact(message.from),subjectContent=PRIVATE.target.querySelector("#mailSubjectContent"),mailHeaderSubjecTpl,mailHeaderSubjectRendered=PUBLIC.templates.get("mailHeaderSubject").render(message),activeClass=(subjectContent.innerHTML=mailHeaderSubjectRendered,"active"),contentHasActiveClass;PUBLIC.DOM.mailInfoContactContent.hasClass("active")?PUBLIC.isSmallScreen()&&document.getElementById("mail-date").getClassList().remove("disabled"):PUBLIC.isSmallScreen()&&document.getElementById("mail-date").getClassList().add("disabled"),PRIVATE.$target.find(".icon-spam, .icon-noTspam, .icon-thrash").show(),PRIVATE.$target.find(".from__name").html(from.name),PRIVATE.$target.find(".from__address").html("&lt;"+from.address+"&gt;"),PRIVATE.$target.find(".to").html((message.to||[]).join(", ")),PRIVATE.renderContact(PRIVATE.$target.find(".to"),message.to),PRIVATE.renderContact(PRIVATE.$target.find(".cc"),message.cc),PRIVATE.renderContact(PRIVATE.$target.find(".bcc"),message.bcc)},PRIVATE.showMessageResetAttr=function(message){PRIVATE.contactIsAdded=!1,PUBLIC.DOM.composerUserActions=PRIVATE.target.querySelector("#composerUserActions"),PRIVATE.$target.removeClass("-sent -spam -trash"),/sent|spam|trash/.test(message.imapId)&&PRIVATE.$target.addClass("-"+message.imapId)},PRIVATE.breakEmailImageLoader=function(message){$(".disclaimer-download-images",PRIVATE.target).addClass("hidden"),PUBLIC.DOM.readConfirm.classList.add("hidden"),message.flags.indexOf("noconfirm")<0&&message.flags.indexOf("confirmed")<0&&message.readConfirm&&PUBLIC.DOM.readConfirm&&PUBLIC.DOM.readConfirm.classList.remove("hidden")},PRIVATE.verifyImageFromMail=function(){var iframeContent=PUBLIC.DOM.bodyMailviewer.contentWindow.document,docImgs=iframeContent.querySelectorAll("img"),externalImgs=[];if("0"===window.userConfiguration.displayImages){for(var k=0,disclaimer;k<docImgs.length;k++)docImgs[k].setAttribute("data-src",docImgs[k].src),PRIVATE.validateImageURL(docImgs[k].src)||(externalImgs.push(docImgs[k]),docImgs[k].src="https://t1.trrsf.com.br/images/spacer.gif");0<externalImgs.length?((disclaimer=$(PRIVATE.target.querySelector(".disclaimer-download-images"))).removeClass("hidden"),disclaimer.find("a").click(function(event){for(var images=iframeContent.querySelectorAll("img"),k=0;k<images.length;k++)images[k].src=images[k].getAttribute("data-src");disclaimer.addClass("hidden"),PUBLIC.setHeightBodyMailviewer()}),disclaimer.find("a.act-showalways").click(function(event){var configs;PRIVATE.api.New.setUserConfiguration({"UserConfiguration[1][key]":"/params/displayImages","UserConfiguration[1][value]":"1"}),window.userConfiguration.displayImages="1",disclaimer.hide(),PUBLIC.setHeightBodyMailviewer()})):$(".mail-content").removeAttr("style")}},PRIVATE.mailAttachments=function(message){message.attachments?(PRIVATE.$target.find(".attachments").show(),PRIVATE.$target.find(".icon-attachment").show(),PUBLIC.addAttachments(message.attachments)):(PRIVATE.$target.find(".attachments").hide(),PRIVATE.$target.find(".icon-attachment").hide())},PRIVATE.writeEmailIframe=function(message){PUBLIC.DOM.bodyMailviewer=PRIVATE.target.querySelector("#bodyMailViewer");var mailIframe=PUBLIC.DOM.bodyMailviewer.contentWindow.document,mailTpl,message=PUBLIC.templates.get("mail").render({htmlContent:message.body||""});mailIframe.open(),mailIframe.write(message),mailIframe.close()},PRIVATE.toogleMailMoreInformation=function(){var str="ver mais",activeClass="active",contentHasActiveClass=PUBLIC.DOM.mailInfoContactContent.hasClass("active");PUBLIC.isSmallScreen()&&(document.getElementById("mail-date").getClassList().add("disabled"),document.getElementById("address").getClassList().add("disabled")),contentHasActiveClass&&(str="ver menos",PUBLIC.DOM.mailInfoContactContent.getClassList().add("active"),document.getElementById("mail-date").getClassList().remove("disabled"),PUBLIC.setHeightBodyMailviewer()),PUBLIC.DOM.btnSeemoreInfoContact.innerHTML=str,PUBLIC.DOM.btnSeemoreInfoContact.addEventListener("click",function(){Analytics.mailViewer.messageDetail(),contentHasActiveClass=PUBLIC.DOM.mailInfoContactContent.hasClass("active"),str="ver mais",contentHasActiveClass?(PUBLIC.isSmallScreen()&&(document.getElementById("mail-date").getClassList().add("disabled"),document.getElementById("address").getClassList().add("disabled")),PUBLIC.DOM.mailInfoContactContent.getClassList().remove("active"),PUBLIC.DOM.mailViewerContentHeader.getClassList().remove("more-info")):(str="ver menos",PUBLIC.DOM.mailViewerContentHeader.getClassList().add("more-info"),PUBLIC.DOM.mailInfoContactContent.getClassList().add("active"),document.getElementById("address").getClassList().remove("disabled"),document.getElementById("mail-date").getClassList().remove("disabled")),PUBLIC.DOM.btnSeemoreInfoContact.innerHTML=str,PUBLIC.setHeightBodyMailviewer()})},PRIVATE.resetCurrentMessage=function(){PRIVATE.currentMessage=null,pkg.context.page.set("currentMainMessage",null)},PRIVATE.loading=function(){PUBLIC.DOM.mailViewer.getClassList().add("loading")},PRIVATE.loaded=function(){PUBLIC.DOM.mailViewer.getClassList().remove("loading")},PRIVATE.filterFoldersElement=function(args){var displayValue="",element=args.element,args=args.folder;element.value===args.id&&(displayValue="none"),element.style.display=displayValue},PRIVATE.isSafariTab=function(){var isSafariTab=!1;return isSafariTab="Safari"===pkg.context.browser.getName()&&"tab"===pkg.context.platform.getType()?!0:isSafariTab},PRIVATE.setPhishingStatus=function(stats,text,timeout){PRIVATE.resetPhishingStatus(),PUBLIC.DOM.messagePhishingVerifyContent=PRIVATE.target.querySelector("#phishingLinkScanContent"),PUBLIC.DOM.messagePhishingVerifyContent.classList.add(stats),PUBLIC.DOM.messagePhishingVerifyContent.innerHTML=text,timeout&&(PRIVATE.phishingTImeoutVerify=setTimeout(function(){PRIVATE.resetPhishingStatus()},timeout))},PRIVATE.resetPhishingStatus=function(){window.clearTimeout(PRIVATE.phishingTImeoutVerify),PUBLIC.DOM.messagePhishingVerifyContent=PRIVATE.target.querySelector("#phishingLinkScanContent"),PUBLIC.DOM.messagePhishingVerifyContent.classList.remove("success"),PUBLIC.DOM.messagePhishingVerifyContent.classList.remove("error"),PUBLIC.DOM.messagePhishingVerifyContent.classList.remove("notice"),PUBLIC.DOM.messagePhishingVerifyContent.classList.remove("warning"),PUBLIC.DOM.messagePhishingVerifyContent.innerHTML=""},PRIVATE.linkPhishingMessageVerify=function(message){var listExternalLink=message.externalLinks,timeRequestEnd,timeRequestStart,timeRequestEnd;PRIVATE.vadeMessagePhishingStatus="unknown",listExternalLink.length&&(200<listExternalLink.length?(PRIVATE.enableAllLinkOnMessage(),Analytics.mailViewer.exceptionPhishingSizeLinks()):(Analytics.mailViewer.vadeMessagePostToVerify(),timeRequestStart=(new Date).getTime(),PRIVATE.api.New.linkPhishingMessageVerify(listExternalLink).then(function(res){var messageIsPhishing;timeRequestEnd=(new Date).getTime(),timeRequestEnd=timeRequestEnd-timeRequestStart,timeRequestEnd=Math.round(timeRequestEnd/1e3),message.id===PRIVATE.currentMessage.id&&(messageIsPhishing=!1,res.map(function(objItem){"PHISHING"===objItem.result&&(messageIsPhishing=!0)}),PRIVATE.resetPhishingStatus(),messageIsPhishing?(PRIVATE.vadeMessagePhishingStatus=!0,Analytics.mailViewer.vadeMessageIsPhishing(),PRIVATE.setPhishingStatus("error",PUBLIC.l10n.get("phishingMsg"),2e4),console.warning(PUBLIC.l10n.get("phishingMsg"))):(PRIVATE.vadeMessagePhishingStatus=!1,PRIVATE.enableAllLinkOnMessage(),Analytics.mailViewer.vadeMessageNotPhishing()),Analytics.mailViewer.vadeTimeResponse(timeRequestEnd))})))},PRIVATE.enableAllLinkOnMessage=function(){for(var iframeDocument,nodelistLinkElement=PUBLIC.DOM.bodyMailviewer.contentWindow.document.querySelectorAll("a[link-to-check]"),attrLinkToCheck="",element,i=0;i<nodelistLinkElement.length;i++)attrLinkToCheck=(element=nodelistLinkElement[i]).getAttribute("link-to-check"),element.href=window.decodeURIComponent(attrLinkToCheck)},PUBLIC.MessageViewer={nextClick:function(){PRIVATE.controller.trigger("nextClick",!0)},printClick:function(message){PRIVATE.controller.trigger("printClick",message)},unreadClick:function(message){PRIVATE.controller.trigger("unreadClick",message)},addContactClick:function(contact){PRIVATE.controller.trigger("addContactClick",contact)},blockContactClick:function(contact){var parsedContact=PUBLIC.parseContact(contact).address;PRIVATE.api.New.blockContact(parsedContact).then(function(){PRIVATE.checkblock(contact)})},unblockContactClick:function(contact){var contact=PUBLIC.parseContact(contact).address;PRIVATE.api.New.removeAntiSpam("whitelist",contact).then(function(response){PUBLIC.DOM.composerUserActions.classList.remove("user-blocked")})},notSpamClick:function(message){PRIVATE.controller.trigger("notSpamClick",message)},moveToSpamClick:function(message){PRIVATE.controller.trigger("moveToSpamClick",message)},moveToTrashClick:function(message){PRIVATE.controller.trigger("moveToTrashClick",message)},deleteClick:function(message){PRIVATE.controller.trigger("deleteClick",message)},moveToFolder:function(message,folder){},downloadAttachment:function(attachment){},openWindow:function(url,name,features){},closeWindow:function(name){}},PUBLIC.folders=function(folders){return folders?(PRIVATE._folders=folders,PUBLIC.DOM.moveToFolder.find('option[value!=""]').remove(),PUBLIC.DOM.moveToFolder.append(PUBLIC.templates.get("folders").render({folders:folders})),PUBLIC):PRIVATE._folders},PUBLIC.filterFolders=function(folder){return PUBLIC.DOM.moveToFolder.find("option").each(function(index,element){PRIVATE.filterFoldersElement({element:element,folder:folder})}),PUBLIC},PUBLIC.getVadeMessageStatus=function(){return PRIVATE.vadeMessagePhishingStatus},PUBLIC.isSmallScreen=function(){var allowedRangeList=["xsmall","small","medium"],dataRangeAttribute=pkg.ui.html.getAttribute("data-range"),isToExecute;return!(allowedRangeList.indexOf(dataRangeAttribute)<0)},PUBLIC.reportPhishing=function(message){PRIVATE.controller.phishingReport.render(PRIVATE.scope),PRIVATE.controller.phishingReport.submit(PRIVATE.scope.window.document).then(function(response){var description;PRIVATE.api.New.reportPhishing(message,message.mailBoxId,"Spam",response,PUBLIC.getVadeMessageStatus()).then(function(response){PRIVATE.controller.trigger("removeItem",PRIVATE.currentMessage.id),PRIVATE.api.New.moveMessages([message.id],message.mailBoxId,"Spam").then(function(){PRIVATE.controller.setMovedMessage(message)}),PRIVATE.controller.trigger("phishingReport",!0),PUBLIC.viewerRemoveIconActions(PRIVATE.currentMessage)})})},PUBLIC.startDomEvents=function(){PUBLIC.DOM.getMailHeader.addEventListener("click",function(){Analytics.mailViewer.messageHeader(),PRIVATE.interfaceHeaderMail()}),PRIVATE.$target.find(".contact-add-button").click(function(){return Analytics.mailViewer.addContact(),PRIVATE.api.New.addContact(PRIVATE.currentMessage.from).then(function(result){PRIVATE.api.New.contactList(!0),PRIVATE.showDialog({message:PUBLIC.l10n.get("contatoSalvo"),scope:PRIVATE.scope,type:"success"}),PUBLIC.DOM.composerUserActions.classList.add("user-added")})}),PRIVATE.$target.find(".contact-block-button").click(function(){Analytics.mailViewer.blockContact(),PUBLIC.MessageViewer.blockContactClick(PRIVATE.currentMessage.from),PRIVATE.showDialog({message:PUBLIC.l10n.get("contactBlocked"),scope:PRIVATE.scope,type:"success"})}),PRIVATE.$target.find(".contact-unblock-button").click(function(){Analytics.mailViewer.unblockContact(),PUBLIC.MessageViewer.unblockContactClick(PRIVATE.currentMessage.from),PRIVATE.showDialog({message:PUBLIC.l10n.get("contactUnblocked"),scope:PRIVATE.scope,type:"success"})}),PRIVATE.$target.find(".previous").click(function(message){Analytics.mailViewer.prevMessage(),PRIVATE.controller.trigger("previousMessage",message)}),PRIVATE.$target.find(".next").click(function(message){Analytics.mailViewer.nextMessage(),PRIVATE.controller.trigger("nextMessage",message)}),PRIVATE.$target.find(".icon-reply").click(function(message){var messageData;Analytics.mailViewer.replyMessage(),PRIVATE.isAnsweringMsg()?PRIVATE.showDialog({message:PUBLIC.l10n.get("answer_otherwindow"),scope:PRIVATE.scope,type:"success"}):(messageData={currentMessage:PRIVATE.currentMessage,mailComposer:PRIVATE.scope?PRIVATE.scope.mailComposer:null},PRIVATE.replyMessage(messageData.currentMessage,messageData.mailComposer))}),PRIVATE.$target.find(".icon-reply-all").click(function(message){var messageData;Analytics.mailViewer.replyAll(),PRIVATE.isAnsweringMsg()?PRIVATE.showDialog({message:PUBLIC.l10n.get("answer_otherwindow"),scope:PRIVATE.scope,type:"success"}):(messageData={currentMessage:PRIVATE.currentMessage,mailComposer:PRIVATE.scope?PRIVATE.scope.mailComposer:null},PRIVATE.replyToAllMessage(messageData.currentMessage,messageData.mailComposer))}),PRIVATE.$target.find(".icon-forward").click(function(message){var messageData;Analytics.mailViewer.forwardMessage(),PRIVATE.isAnsweringMsg()?PRIVATE.showDialog({message:PUBLIC.l10n.get("forward_otherwindow"),scope:PRIVATE.scope,type:"success"}):(messageData={currentMessage:PRIVATE.currentMessage,mailComposer:PRIVATE.scope?PRIVATE.scope.mailComposer:null},PRIVATE.forwardMessage(messageData.currentMessage,messageData.mailComposer))}),PRIVATE.$target.find(".icon-print").click(function(message){Analytics.mailViewer.printMessage(),PRIVATE.api.printMessage(PRIVATE.currentMessage.mailBoxId,[PRIVATE.currentMessage.id])}),PRIVATE.$target.find(".icon-unread").click(function(message){Analytics.mailViewer.markAsUnread();var classMsg=".message-"+PRIVATE.currentMessage.id,currentMessage,classMsg={elMessage:document.querySelector(classMsg),msg:PRIVATE.currentMessage};PRIVATE.controller.trigger("unreadClick",classMsg)}),PRIVATE.$target.find(".icon-phishing").click(function(message){Analytics.mailViewer.markAsPhishing(),PRIVATE.currentMainMessage=pkg.context.page.get("currentMainMessage"),PUBLIC.reportPhishing(PRIVATE.currentMessage)}),PRIVATE.$target.find(".icon-spam").click(function(message){Analytics.mailViewer.markAsSpam(),PRIVATE.currentMainMessage=pkg.context.page.get("currentMainMessage"),PRIVATE.controller.trigger("moveToSpamClick",PRIVATE.currentMessage),PUBLIC.viewerRemoveIconActions(PRIVATE.currentMessage)}),PRIVATE.$target.find(".icon-spam-no").click(function(message){Analytics.mailViewer.markAsNotSpam(),PRIVATE.currentMainMessage=pkg.context.page.get("currentMainMessage"),PUBLIC.MessageViewer.notSpamClick(PRIVATE.currentMessage),PUBLIC.viewerRemoveIconActions(PRIVATE.currentMessage)}),PRIVATE.$target.find(".icon-trash").click(function(message){Analytics.mailViewer.deleteMessage(),PRIVATE.currentMainMessage=pkg.context.page.get("currentMainMessage"),PRIVATE.toTrash(PRIVATE.currentMessage),PUBLIC.viewerRemoveIconActions(PRIVATE.currentMessage)}),PRIVATE.$target.find(".icon-close-gray-filled").click(function(message){Analytics.mailViewer.deleteMessage(),PRIVATE.currentMainMessage=pkg.context.page.get("currentMainMessage"),PUBLIC.MessageViewer.deleteClick(PRIVATE.currentMessage),PUBLIC.viewerRemoveIconActions(PRIVATE.currentMessage)}),PRIVATE.$target.find(".move-to-folder").change(function(evt){Analytics.mailViewer.moveMessage();var folder={id:evt.target.value};PUBLIC.moveToFolder(PRIVATE.currentMessage,folder),evt.target.value="",PUBLIC.close()})},PUBLIC.moveToFolder=function(message,folder){var msgId,currentFolderId,folder;message&&folder&&(msgId=message.id,currentFolderId=message.mailBoxId,folder=folder.id,PRIVATE.controller.trigger("removeItem",msgId),PRIVATE.api.New.moveMessages([msgId],currentFolderId,folder).then(function(){PRIVATE.controller.setMovedMessage(message)}))},PUBLIC.viewerRemoveIconActions=function(message){message&&"object"==typeof message?PRIVATE.target.querySelector(".mail-undock")?(PRIVATE.currentWindowReference="MessageWindow"+message.id,PRIVATE.currentMainMessage.id==message.id&&PRIVATE.controller.trigger("nextMessage",message),PRIVATE.controller.trigger("removeItem",message.id),PRIVATE.controller.trigger("closeWindow",PRIVATE.currentWindowReference)):(PRIVATE.controller.trigger("nextMessage",message),PRIVATE.controller.trigger("removeItem",message.id)):console.log("'message' is not an object")},PUBLIC.parseContact=function(contact){var re=/^([^<>]+\w?)?\s*<?([^ "><]+@[^ <>"']+)?>?(\s*<?([^ "><]+@[^ <>"']+)?>)*$/g,pcontact={address:"",name:"",isGroup:!1},re;return contact.length&&(-1==contact.lastIndexOf("@")?(pcontact.isGroup=!0,pcontact.name=contact,pcontact.address=contact):(re=re.exec(contact))?(pcontact.name=re[1]||"",pcontact.address=re[2]||pcontact.name):console.log("invalid contact while parsing"),pcontact.name.trim(),pcontact.address.trim()),pcontact},PUBLIC.MessageViewer.clearFolders=function(){PRIVATE.$target.find(".move-to-folder option").not(PRIVATE.$target.find(".move-to-folder option").eq(0)).remove()},PUBLIC.getOffsetHeightFromMailVierClass=function(){return PUBLIC.getElementOffsetHeight(PUBLIC.DOM.mailViewer)},PUBLIC.getOffsetHeightFromMailViewerContentHeader=function(){return PUBLIC.getElementOffsetHeight(PUBLIC.DOM.mailViewerContentHeader)},PUBLIC.getElementOffsetHeight=function(element){return element.offsetHeight},PUBLIC.setHeightBodyMailviewer=function(){var heightMailViewer,heightHeaderMailViewer,calculeSubtraction;PUBLIC.getMessage()&&(calculeSubtraction=PUBLIC.getOffsetHeightFromMailVierClass()-PUBLIC.getOffsetHeightFromMailViewerContentHeader(),PUBLIC.DOM.mailViewerContent.style.height=5+calculeSubtraction+"px",PUBLIC.DOM.bodyMailviewer.style.height=calculeSubtraction+"px")},PUBLIC.showMessage=function(message){PRIVATE.currentMessage=message,PRIVATE.showMessageResetAttr(PRIVATE.currentMessage),PRIVATE.writeEmailIframe(PRIVATE.currentMessage),PRIVATE.writeEmailHeader(PRIVATE.currentMessage),PRIVATE.isAddedContact(PRIVATE.currentMessage),PRIVATE.checkblock(PRIVATE.currentMessage.from),PRIVATE.breakEmailImageLoader(PRIVATE.currentMessage),PRIVATE.verifyImageFromMail(),PRIVATE.mailAttachments(PRIVATE.currentMessage),PRIVATE.linkPhishingMessageVerify(message),PRIVATE.loaded(),PUBLIC.setHeightBodyMailviewer(),PRIVATE.resetMailBodyScroll(),PRIVATE.controller.trigger("showMessage",PRIVATE.currentMessage)},PUBLIC.removeAttachmentsEvent=function(){var iframeContent,attachContent=PUBLIC.DOM.bodyMailviewer.contentWindow.document.getElementById("ozoneAttachments"),jqAttachContent;$(attachContent).off("click",".attachment")},PUBLIC.addAttachments=function(attachments){var iframeContent,hasAttach=!1,attachContent=PUBLIC.DOM.bodyMailviewer.contentWindow.document.getElementById("ozoneAttachments"),jqAttachContent=$(attachContent),template,id,tempAttachment,total,unit;for(id in attachments){attachments[id].hasOwnProperty("id")&&(total=(tempAttachment=attachments[id]).size,unit="Bytes",tempAttachment.isInline||(hasAttach=!0),1024<total&&(unit="Kb",total/=1024),1024<total&&(unit="Mb",total/=1024),1024<total&&(unit="Gb",total/=1024),tempAttachment.info=/(.+?)(?:\.([^\.]+?))?$/.exec(tempAttachment.fileName||"")||[tempAttachment.fileName,tempAttachment.fileName,""],tempAttachment.fullName=tempAttachment.info[0],tempAttachment.name=tempAttachment.info[1],tempAttachment.extension=tempAttachment.info[2],tempAttachment.total=Math.ceil(total)+unit,/\.(png|jpeg|jpg|gif)$/gi.test(tempAttachment.fileName)&&(tempAttachment.img={},tempAttachment.img.src=PRIVATE.api.getAttachmentDownloadURL(tempAttachment),tempAttachment.img.cid=tempAttachment.cid,tempAttachment.img.alt=tempAttachment.fileName,tempAttachment.img.title=tempAttachment.fileName),attachments[id]=tempAttachment)}hasAttach?(template=PUBLIC.templates.get("attachments").render({dic:PUBLIC.l10n,attachments:attachments}),attachContent&&(attachContent.innerHTML=template,jqAttachContent.on("click",".attachment",function(){var attach;window.attachmentClicked=!0,attach=attachments[this.getAttribute("data-id")],PRIVATE.api.downloadAttachment(attach,PRIVATE.currentWindow)}))):attachContent&&(attachContent.innerHTML="")},PUBLIC.show=function(argument){PRIVATE.$target.find(".mail-viewer").removeClass("empty")},PUBLIC.getHeaderMessage=function(){var data={};return PRIVATE.currentMessage?(data.mailBoxId=PRIVATE.currentMessage.mailBoxId,data.messageId=PRIVATE.currentMessage.id,data.messageOid=PRIVATE.currentMessage.OID,PRIVATE.api.New.getHeaderMessage(data).then(function(response){return response}).catch(function(error){return data.error=[error],data})):(console.error("# Ops! You don't have message to get headers!"),data)},PUBLIC.loadMessage=function(mailBoxId,id,target){return PUBLIC.trigger("loading",!0),PRIVATE.api.New.getMessage(mailBoxId,id).then(function(response){return PRIVATE.resetPhishingStatus(),PRIVATE.scope.mailComposer.uid=id,PUBLIC.showMessage(response),response}).catch(function(responseError){throw PRIVATE.loaded(),PUBLIC.close(),console.error("[ERROR / ozoneMailViewer]",responseError.mesage),responseError})},PUBLIC.close=function(){PUBLIC.removeAttachmentsEvent(),PRIVATE.resetCurrentMessage(),PUBLIC.DOM.mailViewer.addClass("empty"),PRIVATE.controller.trigger("closeMessage",!0)},PUBLIC.getMessage=function(){return PRIVATE.currentMessage||null},PUBLIC.init=function(){PRIVATE.toogleMailMoreInformation(),PUBLIC.startDomEvents()},function constructor(){PUBLIC.DOM.mailViewer=PRIVATE.target.querySelector("#mailviewerContent"),PRIVATE.renderMailviewerContent(),PUBLIC.DOM.mailViewerContent=PRIVATE.target.querySelector("#mailContent"),PUBLIC.DOM.mailViewerContentHeader=PRIVATE.target.querySelector("#mailViewerContentHeader"),PUBLIC.DOM.getMailHeader=PRIVATE.target.querySelector("#getMailHeader"),PUBLIC.DOM.mailHeader=PUBLIC.DOM.mailViewer.getElementsByClassName("header")[0],PUBLIC.DOM.btnSeemoreInfoContact=PRIVATE.target.querySelector("#seemoreInfoContact"),PUBLIC.DOM.mailInfoContactContent=PRIVATE.target.querySelector("#mailInfoContact"),PUBLIC.DOM.readConfirm=PRIVATE.target.querySelector(".disclaimer-read-confirm"),PUBLIC.DOM.showImageConfirm=PRIVATE.target.querySelector(".disclaimer-download-images"),PUBLIC.DOM.backBtn=PRIVATE.target.querySelector(".btn-back-list"),PUBLIC.DOM.bodyMailviewer=PRIVATE.target.querySelector("#bodyMailViewer"),PUBLIC.DOM.moveToFolder=PRIVATE.$target.find(".move-to-folder"),PRIVATE.domEvents()}(),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var require=pkg.require,appFactory=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,STATIC={},$;appFactory.create({name:"Sidebar",version:"1.0.0",state:"ok",dependencies:["jQuery","mod.Analytics"],dictionaries:["webmail"],templates:{errorLoadUserFolders:'<!DOCTYPE html><html lang="en">  <head>    <meta charset="utf-8">  <link crossorigin="anonymous" href="http://github.tpn.terra.com/assets/frameworks-77c3b874f32e71b14cded5a120f42f5c7288fa52e0a37f2d5919fbd8bcfca63c.css" media="all" rel="stylesheet" />  <link crossorigin="anonymous" href="http://github.tpn.terra.com/assets/github-68923e58eaacf64b4af271e01e5c657997f95533fd4a7e5be4b2ed7e23158a03.css" media="all" rel="stylesheet" />      <link crossorigin="anonymous" href="http://github.tpn.terra.com/assets/site-65aadd1762fe5f6e44708ac1c774a84be59a802f7109155de047e4f3c9f1202a.css" media="all" rel="stylesheet" />    <meta name="viewport" content="width=device-width">    <title>zaz-ui-webmail/_error_loadUserFolders.tpl.html at mobile-maillistANDmailviewer · robson-junior/zaz-ui-webmail · GitHub</title>  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">  <link rel="fluid-icon" href="http://github.tpn.terra.com/fluidicon.png" title="GitHub">  <meta property="fb:app_id" content="1401488693436528">        <meta content="http://github.tpn.terra.com/avatars/u/73?s=400" property="og:image" /><meta content="GitHub Enterprise" property="og:site_name" /><meta content="object" property="og:type" /><meta content="robson-junior/zaz-ui-webmail" property="og:title" /><meta content="http://github.tpn.terra.com/robson-junior/zaz-ui-webmail" property="og:url" /><meta content="Contribute to zaz-ui-webmail development by creating an account on GitHub." property="og:description" />  <link rel="assets" href="http://github.tpn.terra.com/">    <meta name="pjax-timeout" content="1000">    <meta name="request-id" content="bebf1da1-a0bc-46bd-b523-65134302d720" data-pjax-transient>    <meta name="selected-link" value="repo_source" data-pjax-transient>  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU"><meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA"><meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />  <meta class="js-ga-set" name="dimension1" content="Logged Out">        <meta name="hostname" content="github.tpn.terra.com">  <meta name="user-login" content="">  <meta name="html-safe-nonce" content="b1b18e342490a52946618e2a8a5652f230594298">  <meta http-equiv="x-pjax-version" content="1f0b5b05372eb7130d3f16036f717a7a">        <link href="http://github.tpn.terra.com/robson-junior/zaz-ui-webmail/commits/mobile-maillistANDmailviewer.atom" rel="alternate" title="Recent Commits to zaz-ui-webmail:mobile-maillistANDmailviewer" type="application/atom+xml">  <meta name="description" content="Contribute to zaz-ui-webmail development by creating an account on GitHub.">  <meta name="go-import" content="github.tpn.terra.com/robson-junior/zaz-ui-webmail git http://github.tpn.terra.com/robson-junior/zaz-ui-webmail.git">      <link rel="canonical" href="http://github.tpn.terra.com/robson-junior/zaz-ui-webmail/blob/mobile-maillistANDmailviewer/sources/_templates/fe/_error_loadUserFolders.tpl.html" data-pjax-transient>  <link rel="mask-icon" href="http://github.tpn.terra.com/pinned-octocat.svg" color="#000000">  <link rel="icon" type="image/x-icon" href="http://github.tpn.terra.com/favicon-enterprise.ico"><meta name="theme-color" content="#1e2327">  </head>  <body class="logged-out enterprise env-production page-blob">      <div class="position-relative js-header-wrapper ">    <a href="#start-of-content" tabindex="1" class="px-2 py-4 show-on-focus js-skip-to-content">Skip to content</a>    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>                    <div class="header header-logged-out position-relative f4 py-3" role="banner">  <div class="container-lg px-3 clearfix">    <div class="d-flex flex-justify-between">      <div class="d-flex">        <a class="header-logo-invertocat my-0" href="http://github.tpn.terra.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">          <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>        </a>        <div class="header-sitemenu clearfix">            <nav>              <ul class="d-flex list-style-none">                  <li class="ml-4">                    <a href="/explore" class="js-selected-navigation-item header-navlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship /showcases /explore">                      Explore</a>                  </li>              </ul>            </nav>        </div>      </div>      <div class="d-flex">          <div class="mt-1 mr-3">            <div class="header-search scoped-search site-scoped-search js-site-search" role="search">  \x3c!-- \'"` --\x3e\x3c!-- </textarea></xmp> --\x3e</option></form><form accept-charset="UTF-8" action="/robson-junior/zaz-ui-webmail/search" class="js-site-search-form" data-scoped-search-url="/robson-junior/zaz-ui-webmail/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>    <label class="form-control header-search-wrapper js-chromeless-input-container">        <a href="/robson-junior/zaz-ui-webmail/blob/mobile-maillistANDmailviewer/sources/_templates/fe/_error_loadUserFolders.tpl.html" class="header-search-scope no-underline">This repository</a>      <input type="text"        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"        data-hotkey="s"        name="q"        value=""        placeholder="Search"        aria-label="Search this repository"        data-unscoped-placeholder="Search GitHub"        data-scoped-placeholder="Search"        autocapitalize="off">        <input type="hidden" class="js-site-search-type-field" name="type" >    </label></form></div>          </div>        <span class="d-inline-block">            <div class="header-navlink px-0 py-2 m-0">              <a class="text-bold text-white no-underline" href="/login?return_to=%2Frobson-junior%2Fzaz-ui-webmail%2Fblob%2Fmobile-maillistANDmailviewer%2Fsources%2F_templates%2Ffe%2F_error_loadUserFolders.tpl.html" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>            </div>        </span>      </div>    </div>  </div></div>  </div>  <div id="start-of-content" class="show-on-focus"></div>    <div id="js-flash-container"></div>  <div role="main">        <div itemscope itemtype="http://schema.org/SoftwareSourceCode">    <div id="js-repo-pjax-container" data-pjax-container>          <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">      <div class="container repohead-details-container">        <ul class="pagehead-actions">  <li>      <a href="/login?return_to=%2Frobson-junior%2Fzaz-ui-webmail"    class="btn btn-sm btn-with-count tooltipped tooltipped-n"    aria-label="You must be signed in to watch a repository" rel="nofollow">    <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>    Watch  </a>  <a class="social-count" href="/robson-junior/zaz-ui-webmail/watchers"     aria-label="1 user is watching this repository">    1  </a>  </li>  <li>      <a href="/login?return_to=%2Frobson-junior%2Fzaz-ui-webmail"    class="btn btn-sm btn-with-count tooltipped tooltipped-n"    aria-label="You must be signed in to star a repository" rel="nofollow">    <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>    Star  </a>    <a class="social-count js-social-count" href="/robson-junior/zaz-ui-webmail/stargazers"      aria-label="0 users starred this repository">      0    </a>  </li>  <li>      <a href="/login?return_to=%2Frobson-junior%2Fzaz-ui-webmail"        class="btn btn-sm btn-with-count tooltipped tooltipped-n"        aria-label="You must be signed in to fork a repository" rel="nofollow">        <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>        Fork      </a>    <a href="/robson-junior/zaz-ui-webmail/network" class="social-count"       aria-label="8 users forked this repository">      8    </a>  </li></ul>        <h1 class="public ">  <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>  <span class="author" itemprop="author"><a href="/robson-junior" class="url fn" rel="author">robson-junior</a></span>\x3c!----\x3e<span class="path-divider">/</span>\x3c!----\x3e<strong itemprop="name"><a href="/robson-junior/zaz-ui-webmail" data-pjax="#js-repo-pjax-container">zaz-ui-webmail</a></strong>    <span class="fork-flag">      <span class="text">forked from <a href="/Terra/zaz-ui-webmail">Terra/zaz-ui-webmail</a></span>    </span></h1>      </div>      <div class="container">        <nav class="reponav js-repo-nav js-sidenav-container-pjax"     itemscope     itemtype="http://schema.org/BreadcrumbList"     role="navigation"     data-pjax="#js-repo-pjax-container">  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">    <a href="/robson-junior/zaz-ui-webmail/tree/mobile-maillistANDmailviewer" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /robson-junior/zaz-ui-webmail/tree/mobile-maillistANDmailviewer" itemprop="url">      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>      <span itemprop="name">Code</span>      <meta itemprop="position" content="1"></a>  </span>  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">    <a href="/robson-junior/zaz-ui-webmail/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /robson-junior/zaz-ui-webmail/pulls" itemprop="url">      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>      <span itemprop="name">Pull requests</span>      <span class="Counter">0</span>      <meta itemprop="position" content="3"></a>  </span>    <a href="/robson-junior/zaz-ui-webmail/projects" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /robson-junior/zaz-ui-webmail/projects">      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>      Projects      <span class="Counter" >0</span></a>    <a href="/robson-junior/zaz-ui-webmail/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /robson-junior/zaz-ui-webmail/pulse">      <svg aria-hidden="true" class="octicon octicon-pulse" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8z"/></svg>      Pulse</a>    <a href="/robson-junior/zaz-ui-webmail/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /robson-junior/zaz-ui-webmail/graphs">      <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>      Graphs</a></nav>      </div>    </div><div class="container new-discussion-timeline experiment-repo-nav">  <div class="repository-content">      <a href="/robson-junior/zaz-ui-webmail/blob/23d883a7b7ec3c56f558080298986cde4ef95a7d/sources/_templates/fe/_error_loadUserFolders.tpl.html" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>  \x3c!-- blob contrib key: blob_contributors:v21:d7fc1c213e0e8aa1ac5d782b2e8231b3 --\x3e  <div class="file-navigation js-zeroclipboard-container">    <div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"    title="mobile-maillistANDmailviewer"    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">      <i>Branch:</i>      <span class="js-select-button css-truncate-target">mobile-maillis…</span>  </button>  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>    <div class="select-menu-modal">      <div class="select-menu-header">        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>        <span class="select-menu-title">Switch branches/tags</span>      </div>      <div class="select-menu-filters">        <div class="select-menu-text-filter">          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">        </div>        <div class="select-menu-tabs">          <ul>            <li class="select-menu-tab">              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>            </li>            <li class="select-menu-tab">              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>            </li>          </ul>        </div>      </div>      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">            <a class="select-menu-item js-navigation-item js-navigation-open "               href="/robson-junior/zaz-ui-webmail/blob/issue-1536/sources/_templates/fe/_error_loadUserFolders.tpl.html"               data-name="issue-1536"               data-skip-pjax="true"               rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">                issue-1536              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "               href="/robson-junior/zaz-ui-webmail/blob/issue-1546/sources/_templates/fe/_error_loadUserFolders.tpl.html"               data-name="issue-1546"               data-skip-pjax="true"               rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">                issue-1546              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "               href="/robson-junior/zaz-ui-webmail/blob/maillist-mobile/sources/_templates/fe/_error_loadUserFolders.tpl.html"               data-name="maillist-mobile"               data-skip-pjax="true"               rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">                maillist-mobile              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "               href="/robson-junior/zaz-ui-webmail/blob/master/sources/_templates/fe/_error_loadUserFolders.tpl.html"               data-name="master"               data-skip-pjax="true"               rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">                master              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open selected"               href="/robson-junior/zaz-ui-webmail/blob/mobile-maillistANDmailviewer/sources/_templates/fe/_error_loadUserFolders.tpl.html"               data-name="mobile-maillistANDmailviewer"               data-skip-pjax="true"               rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">                mobile-maillistANDmailviewer              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "               href="/robson-junior/zaz-ui-webmail/blob/tinymce-mobile/sources/_templates/fe/_error_loadUserFolders.tpl.html"               data-name="tinymce-mobile"               data-skip-pjax="true"               rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">                tinymce-mobile              </span>            </a>        </div>          <div class="select-menu-no-results">Nothing to show</div>      </div>      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20161011_4706/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20161011_4706"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20161011_4706">                v20161011_4706              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20161011_4705/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20161011_4705"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20161011_4705">                v20161011_4705              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20161011_4704/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20161011_4704"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20161011_4704">                v20161011_4704              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160921_4427/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160921_4427"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160921_4427">                v20160921_4427              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160916_4650/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160916_4650"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160916_4650">                v20160916_4650              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160901_4404/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160901_4404"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160901_4404">                v20160901_4404              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160831_4597/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160831_4597"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160831_4597">                v20160831_4597              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160830_4588/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160830_4588"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160830_4588">                v20160830_4588              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160829_4399/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160829_4399"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160829_4399">                v20160829_4399              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160825_4576/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160825_4576"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160825_4576">                v20160825_4576              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160809_4511/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160809_4511"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160809_4511">                v20160809_4511              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160801_4488/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160801_4488"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160801_4488">                v20160801_4488              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160713_4405/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160713_4405"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160713_4405">                v20160713_4405              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160712_4404/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160712_4404"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160712_4404">                v20160712_4404              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160712_4402/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160712_4402"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160712_4402">                v20160712_4402              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160712_4401/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160712_4401"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160712_4401">                v20160712_4401              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160613_4310/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160613_4310"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160613_4310">                v20160613_4310              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160613_4308/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160613_4308"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160613_4308">                v20160613_4308              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160609_4286/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160609_4286"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160609_4286">                v20160609_4286              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160531_4258/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160531_4258"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160531_4258">                v20160531_4258              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160530_4252/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160530_4252"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160530_4252">                v20160530_4252              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160512_4208/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160512_4208"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160512_4208">                v20160512_4208              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160512_4207/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160512_4207"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160512_4207">                v20160512_4207              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160511_4205/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160511_4205"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160511_4205">                v20160511_4205              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160508_4196/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160508_4196"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160508_4196">                v20160508_4196              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160505_4189/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160505_4189"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160505_4189">                v20160505_4189              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160504_4184/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160504_4184"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160504_4184">                v20160504_4184              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160428_4173/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160428_4173"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160428_4173">                v20160428_4173              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160426_4171/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160426_4171"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160426_4171">                v20160426_4171              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160420_4168/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160420_4168"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160420_4168">                v20160420_4168              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160420_4166/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160420_4166"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160420_4166">                v20160420_4166              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160419_4161/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160419_4161"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160419_4161">                v20160419_4161              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160415_4151/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160415_4151"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160415_4151">                v20160415_4151              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160414_4149/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160414_4149"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160414_4149">                v20160414_4149              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160414_4147/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160414_4147"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160414_4147">                v20160414_4147              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160414_4145/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160414_4145"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160414_4145">                v20160414_4145              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160414_4144/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160414_4144"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160414_4144">                v20160414_4144              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160412_4135/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160412_4135"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160412_4135">                v20160412_4135              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160411_4128/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160411_4128"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160411_4128">                v20160411_4128              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160407_4116/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160407_4116"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160407_4116">                v20160407_4116              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160407_4115/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160407_4115"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160407_4115">                v20160407_4115              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4113/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4113"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4113">                v20160406_4113              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4112/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4112"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4112">                v20160406_4112              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4106/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4106"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4106">                v20160406_4106              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4105/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4105"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4105">                v20160406_4105              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4103/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4103"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4103">                v20160406_4103              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4101/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4101"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4101">                v20160406_4101              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4100/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4100"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4100">                v20160406_4100              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4099/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4099"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4099">                v20160406_4099              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160406_4098/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160406_4098"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160406_4098">                v20160406_4098              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160405_4097/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160405_4097"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160405_4097">                v20160405_4097              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160405_4094/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160405_4094"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160405_4094">                v20160405_4094              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160405_4093/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160405_4093"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160405_4093">                v20160405_4093              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160324_4073/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160324_4073"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160324_4073">                v20160324_4073              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160321_4056/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160321_4056"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160321_4056">                v20160321_4056              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160321_4055/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160321_4055"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160321_4055">                v20160321_4055              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160321_4053/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160321_4053"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160321_4053">                v20160321_4053              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160321_4051/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160321_4051"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160321_4051">                v20160321_4051              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160310_4022/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160310_4022"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160310_4022">                v20160310_4022              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160307_4011/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160307_4011"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160307_4011">                v20160307_4011              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160304_4003/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160304_4003"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160304_4003">                v20160304_4003              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160304_4002/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160304_4002"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160304_4002">                v20160304_4002              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160301_3981/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160301_3981"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160301_3981">                v20160301_3981              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160229_3980/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160229_3980"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160229_3980">                v20160229_3980              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160216_3935/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160216_3935"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160216_3935">                v20160216_3935              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160216_3933/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160216_3933"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160216_3933">                v20160216_3933              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160215_3930/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160215_3930"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160215_3930">                v20160215_3930              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160201_3877/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160201_3877"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160201_3877">                v20160201_3877              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160201_3874/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160201_3874"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160201_3874">                v20160201_3874              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160201_3873/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160201_3873"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160201_3873">                v20160201_3873              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160129_3871/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160129_3871"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160129_3871">                v20160129_3871              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160129_3870/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160129_3870"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160129_3870">                v20160129_3870              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160129_3869/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160129_3869"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160129_3869">                v20160129_3869              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160127_3861/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160127_3861"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160127_3861">                v20160127_3861              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160126_3848/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160126_3848"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160126_3848">                v20160126_3848              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160121_3823/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160121_3823"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160121_3823">                v20160121_3823              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160119_3809/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160119_3809"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160119_3809">                v20160119_3809              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160114_3781/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160114_3781"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160114_3781">                v20160114_3781              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160114_3780/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160114_3780"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160114_3780">                v20160114_3780              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160114_3778/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160114_3778"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160114_3778">                v20160114_3778              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160113_3766/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160113_3766"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160113_3766">                v20160113_3766              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160112_3748/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160112_3748"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160112_3748">                v20160112_3748              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20160112_3747/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20160112_3747"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20160112_3747">                v20160112_3747              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151222_3597/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151222_3597"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151222_3597">                v20151222_3597              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151208_3503/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151208_3503"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151208_3503">                v20151208_3503              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151208_3494/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151208_3494"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151208_3494">                v20151208_3494              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151207_3489/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151207_3489"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151207_3489">                v20151207_3489              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151203_3476/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151203_3476"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151203_3476">                v20151203_3476              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151127_3436/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151127_3436"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151127_3436">                v20151127_3436              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151127_3432/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151127_3432"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151127_3432">                v20151127_3432              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151126_3425/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151126_3425"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151126_3425">                v20151126_3425              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151125_3424/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151125_3424"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151125_3424">                v20151125_3424              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151124_3418/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151124_3418"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151124_3418">                v20151124_3418              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151119_3409/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151119_3409"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151119_3409">                v20151119_3409              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151119_3406/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151119_3406"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151119_3406">                v20151119_3406              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151117_3395/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151117_3395"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151117_3395">                v20151117_3395              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151117_3391/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151117_3391"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151117_3391">                v20151117_3391              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151116_3388/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151116_3388"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151116_3388">                v20151116_3388              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151105_3362/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151105_3362"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151105_3362">                v20151105_3362              </span>            </a>            <a class="select-menu-item js-navigation-item js-navigation-open "              href="/robson-junior/zaz-ui-webmail/tree/v20151103_3352/sources/_templates/fe/_error_loadUserFolders.tpl.html"              data-name="v20151103_3352"              data-skip-pjax="true"              rel="nofollow">              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>              <span class="select-menu-item-text css-truncate-target" title="v20151103_3352">                v20151103_3352              </span>            </a>        </div>        <div class="select-menu-no-results">Nothing to show</div>      </div>    </div>  </div></div>    <div class="BtnGroup float-right">      <a href="/robson-junior/zaz-ui-webmail/find/mobile-maillistANDmailviewer"            class="js-pjax-capture-input btn btn-sm BtnGroup-item"            data-pjax            data-hotkey="t">        Find file      </a>      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>    </div>    <div class="breadcrumb js-zeroclipboard-target">      <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/robson-junior/zaz-ui-webmail/tree/mobile-maillistANDmailviewer"><span>zaz-ui-webmail</span></a></span></span><span class="separator">/</span><span class="js-path-segment"><a href="/robson-junior/zaz-ui-webmail/tree/mobile-maillistANDmailviewer/sources"><span>sources</span></a></span><span class="separator">/</span><span class="js-path-segment"><a href="/robson-junior/zaz-ui-webmail/tree/mobile-maillistANDmailviewer/sources/_templates"><span>_templates</span></a></span><span class="separator">/</span><span class="js-path-segment"><a href="/robson-junior/zaz-ui-webmail/tree/mobile-maillistANDmailviewer/sources/_templates/fe"><span>fe</span></a></span><span class="separator">/</span><strong class="final-path">_error_loadUserFolders.tpl.html</strong>    </div>  </div>    <div class="commit-tease">      <span class="float-right">        <a class="commit-tease-sha" href="/robson-junior/zaz-ui-webmail/commit/9c808c3ef284702bf92d2b6a9ebfe266e44a9e12" data-pjax>          9c808c3        </a>        <relative-time datetime="2017-11-10T13:06:42Z">Nov 10, 2017</relative-time>      </span>      <div>        <img alt="" class="avatar" height="20" src="http://github.tpn.terra.com/images/gravatars/gravatar-user-420.png" width="20" />        <span class="user-mention">robson.junior</span>          <a href="/robson-junior/zaz-ui-webmail/commit/9c808c3ef284702bf92d2b6a9ebfe266e44a9e12" class="message" data-pjax="true" title="added load error behavior loadUserFolders">added load error behavior loadUserFolders</a>      </div>    <div class="commit-tease-contributors">      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">        <strong>0</strong>         contributors      </button>          </div>    <div id="blob_contributors_box" style="display:none">      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>      <ul class="facebox-user-list" data-facebox-id="facebox-description">      </ul>    </div>  </div>  <div class="file">    <div class="file-header">  <div class="file-actions">    <div class="BtnGroup">      <a href="/robson-junior/zaz-ui-webmail/raw/mobile-maillistANDmailviewer/sources/_templates/fe/_error_loadUserFolders.tpl.html" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>        <a href="/robson-junior/zaz-ui-webmail/blame/mobile-maillistANDmailviewer/sources/_templates/fe/_error_loadUserFolders.tpl.html" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>      <a href="/robson-junior/zaz-ui-webmail/commits/mobile-maillistANDmailviewer/sources/_templates/fe/_error_loadUserFolders.tpl.html" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>    </div>        <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"          aria-label="You must be signed in to make or propose changes">          <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>        </button>        <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"          aria-label="You must be signed in to make or propose changes">          <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>        </button>  </div>  <div class="file-info">      5 lines (4 sloc)      <span class="file-info-divider"></span>    185 Bytes  </div></div>      <div itemprop="text" class="blob-wrapper data type-html">      <table class="highlight tab-size js-file-line-container" data-tab-size="4">      <tr>        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>        <td id="LC1" class="blob-code blob-code-inner js-file-line">&lt;<span class="pl-ent">li</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>errorFolderContent<span class="pl-pds">&quot;</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>error-folder sidebar__item<span class="pl-pds">&quot;</span></span>&gt;</td>      </tr>      <tr>        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>        <td id="LC2" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">p</span>&gt;{{ errorLoadUserFolders }}&lt;/<span class="pl-ent">p</span>&gt;</td>      </tr>      <tr>        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>        <td id="LC3" class="blob-code blob-code-inner js-file-line">    &lt;<span class="pl-ent">button</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>errorUserFolders<span class="pl-pds">&quot;</span></span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>ozone__button<span class="pl-pds">&quot;</span></span>&gt;{{ retry }}&lt;/<span class="pl-ent">button</span>&gt;</td>      </tr>      <tr>        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>        <td id="LC4" class="blob-code blob-code-inner js-file-line">&lt;/<span class="pl-ent">li</span>&gt;</td>      </tr></table>  <div class="BlobToolbar position-absolute js-file-line-actions dropdown js-menu-container js-select-menu d-none" aria-hidden="true">    <button class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1 dropdown-toggle js-menu-target" id="js-file-line-action-button" type="button" aria-expanded="false" aria-haspopup="true" aria-label="Inline file action toolbar" aria-controls="inline-file-actions">      <svg aria-hidden="true" class="octicon" height="16" version="1.1" viewBox="0 0 13 4" width="14">        <g stroke="none" stroke-width="1" fill-rule="evenodd">            <g transform="translate(-1.000000, -6.000000)">                <path d="M2.5,9.5 C1.67157288,9.5 1,8.82842712 1,8 C1,7.17157288 1.67157288,6.5 2.5,6.5 C3.32842712,6.5 4,7.17157288 4,8 C4,8.82842712 3.32842712,9.5 2.5,9.5 Z M7.5,9.5 C6.67157288,9.5 6,8.82842712 6,8 C6,7.17157288 6.67157288,6.5 7.5,6.5 C8.32842712,6.5 9,7.17157288 9,8 C9,8.82842712 8.32842712,9.5 7.5,9.5 Z M12.5,9.5 C11.6715729,9.5 11,8.82842712 11,8 C11,7.17157288 11.6715729,6.5 12.5,6.5 C13.3284271,6.5 14,7.17157288 14,8 C14,8.82842712 13.3284271,9.5 12.5,9.5 Z"></path>            </g>        </g>      </svg>    </button>    <div class="dropdown-menu-content js-menu-content" id="inline-file-actions">      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2">        <li><a class="js-zeroclipboard dropdown-item" style="cursor:pointer;" id="js-copy-lines" data-original-text="Copy lines">Copy lines</a></li>        <li><a class="js-zeroclipboard dropdown-item" id= "js-copy-permalink" style="cursor:pointer;" data-original-text="Copy permalink">Copy permalink</a></li>      </ul>    </div>  </div>  </div>  </div>  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>  <div id="jump-to-line" style="display:none">    \x3c!-- \'"` --\x3e\x3c!-- </textarea></xmp> --\x3e</option></form><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>      <button type="submit" class="btn">Go</button></form>  </div>  </div>  <div class="modal-backdrop js-touch-events"></div></div>    </div>  </div>  </div>      <div class="container-lg site-footer-container">  <div class="site-footer " role="contentinfo">    <ul class="site-footer-links float-right">      <li><a href="https://developer.github.com/enterprise/2.11" data-ga-click="Footer, go to api, text:api">API</a></li>      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>        <li><a href="https://github.com/blog">Blog</a></li>        <li><a href="https://github.com/about">About</a></li>    </ul>    <a href="http://github.tpn.terra.com" aria-label="Homepage" class="site-footer-mark" title="GitHub Enterprise">      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a>    <ul class="site-footer-links">      <li>&copy; 2017 <span title="0.17592s from localhost">GitHub</span>, Inc.</li>        <li><a href="https://help.github.com/enterprise/2.11">Help</a></li>          <li><a href="mailto:tilatam@corp.terra.com">Support</a></li>    </ul>  </div></div>  <div id="ajax-error-message" class="ajax-error-message flash flash-error">    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>    <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>    </button>    You can\'t perform that action at this time.  </div>    <script crossorigin="anonymous" src="http://github.tpn.terra.com/assets/compat-91f98c37fc84eac24836eec2567e9912742094369a04c4eba6e3cd1fa18902d9.js"><\/script>    <script crossorigin="anonymous" src="http://github.tpn.terra.com/assets/frameworks-9be27f368479f4cadaa2dbf4642c7989afac396d6c61ec3ec4112aa0ad2494ab.js"><\/script>        <script async="async" crossorigin="anonymous" src="http://github.tpn.terra.com/assets/github-e2879dfab7a0d31c938359646180aa1c6c25e60daede5cc73b5f2ade7e7819d8.js"><\/script>                  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>  </div>  <div class="facebox" id="facebox" style="display:none;">  <div class="facebox-popup">    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">    </div>    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>    </button>  </div></div>  </body></html>',itemAddFolder:'<li class="sidebar__item folder-{{ folderId }}" data-id="{{ folderId }}" data-imapid="{{ folderImapId }}">    <a href="javascript:void(0)" class="sidebar__item__link" title="{{ folderName }}">    \t{{ folderName }}    </a>    {% if isToHaveClear %}    <a href="#deleteall" class="clear-all icon icon-16 icon-clean-black"></a>    {% endif %}    <a href="#refresh" class="refresh-folder icon icon-16 icon-refresh" onclick="return false;"></a></li>'},expects:{properties:{}},setup:function(__static,__proto,__shared){$=__shared.dependencies.jQuery,PUBLIC_STATIC=__static},init:function(data,__shared){var PUBLIC,PRIVATE,Analytics;if(data.target)return PRIVATE={scope:data.scope,controller:data.controller,api:data.api,target:data.target,flagList:["flag-folder","flag-contact","flag-config","flag-help"]},Analytics=__shared.dependencies["mod.Analytics"],(PUBLIC=this).DOM={btnInbox:PRIVATE.target.querySelector(".folder-inbox"),btnNewMail:PRIVATE.target.querySelector(".new-mail"),btnFolders:PRIVATE.target.querySelector("#btnFolders"),btnContact:PRIVATE.target.querySelector("#btnContact"),btnConfig:PRIVATE.target.querySelector("#btnConfig"),btnHelp:PRIVATE.target.querySelector("#btnHelp"),feedback:PRIVATE.target.querySelector("#feedback"),cleaning:PRIVATE.target.querySelector("#cleaning"),helpFaq:PRIVATE.target.querySelector("#helpFaq"),changeVersion:PRIVATE.target.querySelector("#changeVersion"),userLogout:PRIVATE.target.querySelector("#userLogout"),userLogoutMobile:PRIVATE.target.querySelector("#userLogoutMobile"),duvidas:PRIVATE.target.querySelector("#duvidasFreq")},PUBLIC.inboxBtn=PUBLIC.DOM.btnInbox,PUBLIC.newEmailBtn=PUBLIC.DOM.btnNewMail,PUBLIC.DOM.btnNewMail.addEventListener("click",function(){Analytics.sidebar.newMail(),PRIVATE.setClassFlag("flag-folder"),PUBLIC.trigger("newMail",{})},!0),PUBLIC.DOM.btnFolders.addEventListener("click",function(){PRIVATE.resetClassFlag(),PRIVATE.setClassFlag("flag-folder"),PUBLIC.trigger("configClick",{})},!0),PUBLIC.DOM.btnContact.addEventListener("click",function(){PRIVATE.resetClassFlag(),PRIVATE.setClassFlag("flag-contact"),PUBLIC.trigger("contactClick",{})},!0),PUBLIC.DOM.btnConfig.addEventListener("click",function(){PRIVATE.resetClassFlag(),PRIVATE.setClassFlag("flag-config"),PUBLIC.trigger("foldersClick",{})},!0),PUBLIC.DOM.btnHelp&&PUBLIC.DOM.btnHelp.addEventListener("click",function(){PRIVATE.resetClassFlag(),PRIVATE.setClassFlag("flag-help"),PUBLIC.trigger("foldersClick",{})},!0),PUBLIC.DOM.feedback&&PUBLIC.DOM.feedback.addEventListener("click",function(){PRIVATE.controller.showHelpFeedback("feedback"),PUBLIC.hide()},!0),PUBLIC.DOM.changeVersion&&PUBLIC.DOM.changeVersion.addEventListener("click",function(){PRIVATE.controller.showHelpFeedback("change-version"),PUBLIC.hide()},!0),PUBLIC.DOM.cleaning&&PUBLIC.DOM.cleaning.addEventListener("click",function(){PRIVATE.controller.showHelpCleaningPolice(),PUBLIC.hide()},!0),PUBLIC.DOM.duvidas&&PUBLIC.DOM.duvidas.addEventListener("click",function(){PUBLIC.hide()},!0),PUBLIC.DOM.helpFaq&&PUBLIC.DOM.helpFaq.addEventListener("click",function(){PRIVATE.controller.showHelp(),PUBLIC.hide()},!0),PUBLIC.DOM.userLogout&&PUBLIC.DOM.userLogout.addEventListener("click",function(){PRIVATE.controller.logout()},!0),PUBLIC.DOM.userLogoutMobile&&PUBLIC.DOM.userLogoutMobile.addEventListener("click",function(){PRIVATE.controller.logout()},!0),PRIVATE.target.addEventListener("click",function(evt){var clickedIsSidebar;"sidebar"===evt.target.id&&PUBLIC.hide()}),PRIVATE.setClassFlag=function(flagName){PRIVATE.target.classList.add(flagName)},PRIVATE.resetClassFlag=function(){for(var i=0;i<PRIVATE.flagList.length;i++)PRIVATE.target.classList.remove(PRIVATE.flagList[i])},PRIVATE.userAddFolderBindEvent=function(folder,selector){var userFolders=$(selector),ul;$(selector).find("ul").off().on("click",function(e){var target=e.target,tagName=e.target.tagName,officialFolder={},li;"LI"===tagName&&(li=target),"A"===tagName&&"LI"===target.parentNode.tagName&&(li=target.parentNode),"A"===tagName&&"A"===target.parentNode.tagName&&(li=target.parentNode.parentNode);for(var i=0;i<folder.length;i++){var itemFolder=folder[i];if("user"===li.getAttribute("data-imapid")){if(itemFolder.index.toString()===li.getAttribute("data-id")){officialFolder=itemFolder;break}}else if(itemFolder.imapId===li.getAttribute("data-imapid")){officialFolder=itemFolder;break}}"A"===tagName&&e.target.hasClass("clear-all")?(PUBLIC.trigger("clear-all",officialFolder),Analytics.sidebar.emptyFolder()):"A"===tagName&&e.target.hasClass("refresh-folder")?(target.classList.add("refreshing"),PRIVATE.scope.mailList.getCurrentFolder().id==officialFolder.id?PRIVATE.scope.mailList.refreshFolder(null,null,PRIVATE.controller.lastSearch).then(function(){target.classList.remove("refreshing")}):PRIVATE.api.New.getMailBoxStatus(officialFolder.id||"INBOX").then(function(response){PUBLIC.FolderList.setCount(response.unseenCount,PUBLIC.getFolder({imapId:officialFolder.imapId,index:officialFolder.index})),target.classList.remove("refreshing")}).catch(function(err){console.log('# worker.on("composer")... PRIVATE.api.New.getMailBoxStatus('+folder.imapId+"): ",err)}),Analytics.sidebar.refreshFolder()):(PUBLIC.trigger("clickFolder",officialFolder),"user"===officialFolder.imapId?Analytics.sidebar.changePersonalFolder():Analytics.sidebar.changeFolder())})},PRIVATE.addFolder=function(folder,selector,id){var selector=$(selector).find("ul"),selector;selector.append(PUBLIC.templates.render("itemAddFolder",{folderImapId:folder.imapId,folderName:folder.name,folderId:folder[id],refreshFolder:PUBLIC.l10n.get("refresh_folder"),isToHaveClear:/(Spam|Lixeira)/.test(folder.id)})),selector=selector.find(".folder-"+folder[id]),"user"===folder.imapId&&$(".user-folders-list").removeClass("empty"),selector.find("a").css("margin-left",10*(folder.level||0)+"px"),folder.unseenCount&&PUBLIC.FolderList.setCount(folder.unseenCount,selector)},PRIVATE.getActiveClass=function(){return"active"},PRIVATE.resetAttrNewMail=function(){PUBLIC.DOM.btnNewMail.getClassList().remove("disabled")},PUBLIC.resetAttrNewMail=PRIVATE.resetAttrNewMail,PUBLIC.resetClassFlag=PRIVATE.resetClassFlag,PUBLIC.setClassFlag=PRIVATE.setClassFlag,PUBLIC.errorLoadFolders=function(){PUBLIC.removeUserFolderClassError();var tplErrorLoadFolders=PUBLIC.templates.render("errorLoadUserFolders",{retry:PUBLIC.l10n.get("retry"),errorLoadUserFolders:PUBLIC.l10n.get("errorLoadUserFolders")}),userFoldersContent=document.querySelector("#user-folders .user-folders-list"),btnRetry;PUBLIC.FolderList.ready(),PUBLIC.addUserFolderClassError(),userFoldersContent.appendChild(tplErrorLoadFolders.childNodes[0]),(btnRetry=document.getElementById("errorUserFolders")).addEventListener("click",function(){PUBLIC.removeUserFolderClassError(),PRIVATE.controller.loadFolders()})},PUBLIC.addUserFolderClassError=function(){var userFoldersContent;document.querySelector("#user-folders .user-folders-list").parentNode.classList.add("load-error")},PUBLIC.removeUserFolderClassError=function(){var userFoldersContent=document.querySelector("#user-folders .user-folders-list"),btnRetry=document.getElementById("errorUserFolders"),liError=document.getElementById("errorFolderContent");(btnRetry||liError)&&(userFoldersContent.parentNode.classList.remove("load-error"),btnRetry.removeEventListener("click"),userFoldersContent.removeChild(liError))},PUBLIC.isSmallScreen=function(){var allowedRangeList=["xsmall","small","medium"],dataRangeAttribute=pkg.ui.html.getAttribute("data-range"),isToExecute;return!(allowedRangeList.indexOf(dataRangeAttribute)<0)},PUBLIC.toogle=function(){PUBLIC.isSmallScreen()&&(PRIVATE.target.hasClass(PRIVATE.getActiveClass())?PUBLIC.hide():PUBLIC.show())},PUBLIC.hide=function(){PRIVATE.target.classList.remove(PRIVATE.getActiveClass())},PUBLIC.show=function(){PRIVATE.target.classList.add(PRIVATE.getActiveClass()),PUBLIC.DOM.btnFolders.focus()},PUBLIC.FolderList={callbacks:{refreshClick:function(){}}},PUBLIC.FolderList.changeCount=function(value,target){var tmpClass,tmp=PUBLIC.FolderList.getCount(target),tmpClass=!1;(tmpClass=target[0]?target[0].parentElement.hasClass("user-folders-list"):tmpClass)?(tmpClass=target[0].querySelector(".sidebar__item__link").getAttribute("title"),PRIVATE.api.New.getMailBoxStatus(tmpClass).then(function(response){PUBLIC.FolderList.setCount(response.unseenCount,target)})):PUBLIC.FolderList.setCount(tmp+value,target)},PUBLIC.FolderList.setCount=function(value,target){var tmp;value?(tmp=$(target).find(".count"))[0]?tmp[0].innerHTML=value:$(target).append('<span class="count">'+value+"</span>"):$(target).find(".count").remove()},PUBLIC.FolderList.getCount=function(target){return target&&parseInt(target.find(".count").html())||0},PUBLIC.FolderList._addImapFolders=function(folders){for(var i=0;i<folders.length;i++)PRIVATE.addFolder(folders[i],"#default-folders","imapId");PRIVATE.userAddFolderBindEvent(folders,"#default-folders")},PUBLIC.FolderList._addUserFolders=function(folders){for(var i=0;i<folders.length;i++)PRIVATE.addFolder(folders[i],"#user-folders","index");PRIVATE.userAddFolderBindEvent(folders,"#user-folders")},PUBLIC.FolderList.removeFolder=function(folder){"user"!==folder.imapId?$("#default-folders").remove(".folder-"+folder.imapId):$("#user-folders").remove(".folder-"+folder.index)},PUBLIC.FolderList.clear=function(){document.querySelector("#default-folders ul").innerHTML="",document.querySelector("#user-folders ul").innerHTML=""},PUBLIC.FolderList.init=function(){$("#user-folders").addClass("loading")},PUBLIC.FolderList.ready=function(){$("#user-folders").removeClass("loading")},PUBLIC.getFolder=function(folder){var folder,folder="user"!==folder.imapId?$("#sidebar .folder-"+folder.imapId):$("#sidebar .folder-"+folder.index);return folder},PUBLIC.FolderList.switchToFolder=function(folder){var el;return PUBLIC.trigger("switchToFolder",folder),$("#sidebar .folders li.active").removeClass("active"),el=PUBLIC.getFolder(folder).addClass("active"),$("#mail-viewer .mail-viewer").addClass("empty"),$(".disclaimer-download-images",PRIVATE.target).hide(),"drafts"==folder.imapId&&($("#mail-list").show().parent().show(),$("#mail-composer").hide()),el},function Constructor(){pkg.context.page.at("range",function(range){"xsmall"!==range&&"small"!==range&&"medium"!==range&&PUBLIC.hide()})}(),PUBLIC;throw new Error("ERROR data.target is invalid param")},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,pkg=pkg.factoryManager.get("app"),PUBLIC_STATIC=null,STATIC={};pkg.create({name:"Modal",version:"1.0.0",state:"ok",dependencies:[],dictionaries:[],templates:{default:'<div class="{{classId if classId}} modal {{\'-has-overlay\' if overlay}} {{\'-active\' if active}}" id="modal-{{id}}" aria-hidden="true">    <div style="width: {{width}}" class="dialog  {{(type if type)}}">        {% if btnClose %}        <a href="#close" class="btn-close"></a>        {% endif %}        {% if header %}        <header class="header">{{header}}</header>        {% endif %}        <div class="modal-body body">            {% if captcha %}            <div id="modal-captcha"></div>            {% endif %}            {% if contentType != "html" %}            <p>{{body if body}}</p>            {% else %}            {{body if body}}            {% endif %}            {% if innerButtons %}            <div class="modal-inner-btn-content">                {% for translate in translateBtn %}                <button class="btn btn-{{ loop.index }}" data-function="btn{{ loop.index }}">                    {{ translate }}                </button>                {% endfor %}            </div>            {% endif %}        </div>        {% if buttons %}        <footer class="footer">            {% for translate in translateBtn %}            <button class="btn btn-{{ loop.index }}" data-function="btn{{ loop.index }}">                {{ translate }}            </button>            {% endfor %}        </footer>        {% endif %}    </div></div> '},expects:{},setup:function(__static,__proto,__shared){PUBLIC_STATIC=__static,STATIC.instances=[],PUBLIC_STATIC.id=0},init:function(data,__shared){(data=data||{}).timeout=void 0===data.timeout||data.timeout;var PUBLIC=this,PRIVATE={currentWindow:data.scope?data.scope.window:window},tplDefault=PUBLIC.templates.get("default"),body,el;return PRIVATE.appendHtml=function(el,str){var div=PRIVATE.currentWindow.document.createElement("div");for(div.innerHTML=str;0<div.children.length;)el.appendChild(div.children[0])},PRIVATE.removeElement=function(parent,child){parent.removeChild(child)},PRIVATE.close=function(event){event.target!==window&&(el==event.target||el.contains(event.target))||PUBLIC.close()},PUBLIC.close=function(argument){PUBLIC.trigger("close",!0),PUBLIC.trigger("teardown",!0)},PUBLIC.autoHeight=function(){var modalBody=el.querySelector(".dialog > .body"),heightSize=window.innerHeight-160;modalBody.style.maxHeight=heightSize+"px"},PUBLIC.on("close",function(argument){PRIVATE.removeElement(body,el),el=null,PRIVATE.currentWindow.document.querySelector("body").classList.remove("modal-overlay"),PRIVATE.currentWindow.document.removeEventListener("click",PRIVATE.close),PRIVATE.currentWindow.removeEventListener("blur",PRIVATE.close)}),PUBLIC.on("open",function(){data.overlay&&PRIVATE.currentWindow.document.querySelector("body").classList.add("modal-overlay");var close=el.querySelector(".btn-close"),close=(close&&close.addEventListener("click",function(event){event.preventDefault(),event.stopPropagation(),PUBLIC.close()}),el.querySelector(".dialog > .footer")),close=(close&&close.addEventListener("click",function(event){var fn;"BUTTON"==event.target.tagName&&(fn=event.target.getAttribute("data-function"),data.buttons[fn])&&(event.preventDefault(),event.stopPropagation(),data.buttons[fn].apply(PUBLIC))}),el.querySelector(".dialog > .body > .modal-inner-btn-content"));close&&close.addEventListener("click",function(event){var fn;"BUTTON"==event.target.tagName&&(fn=event.target.getAttribute("data-function"),data.innerButtons[fn])&&(event.preventDefault(),event.stopPropagation(),data.innerButtons[fn].apply(PUBLIC))}),!1!==data.timeout&&setTimeout(function(){PUBLIC.close()},!0===data.timeout?5e3:data.timeout)}),PUBLIC.ID=++PUBLIC_STATIC.id,body=PRIVATE.currentWindow.document.querySelector("body"),PRIVATE.appendHtml(body,tplDefault.render({classId:data.classId,width:data.width,overlay:data.overlay,id:PUBLIC_STATIC.id,active:!0,contentType:data.contentType,btnClose:!!data.btnClose,header:data.header,body:data.body||data.message,innerButtons:data.innerButtons,type:data.type||"default",captcha:data.captcha||!1,buttons:data.buttons||!1,translateBtn:data.translateBtn||!1})),el=PRIVATE.currentWindow.document.querySelector("#modal-"+PUBLIC.ID),PUBLIC.trigger("open",!0),data.closeOnLeave&&(PRIVATE.currentWindow.document.removeEventListener("click",close),PRIVATE.currentWindow.document.addEventListener("click",close),PRIVATE.currentWindow.removeEventListener("blur",close),PRIVATE.currentWindow.addEventListener("blur",close)),data.open&&PUBLIC.on("open",data.open),data.autoHeight&&(PUBLIC.autoHeight(),window.addEventListener("resize",function(){PUBLIC.autoHeight()})),data.close&&PUBLIC.on("close",data.close),data.teardown&&PUBLIC.on("teardown",data.teardown),PUBLIC},teardown:function(why,__static,__proto,__shared){console.log("[!!] destroying instance PUBLIC_STATIC.id: ",PUBLIC_STATIC.id)}})}),zaz.use(function(pkg){"use strict";var STATIC_PRIVATE={},$;pkg.factoryManager.get("app").create({name:"Login",version:"1.0.0",state:"ok",dependencies:["mod.promise","mod.xRequest","mod.jQuery"],dictionaries:["webmail"],templates:{},expects:{formLogin:{type:"object",required:!0}},setup:function(__static,__proto,__shared){STATIC_PRIVATE.i18n=__proto.l10n,STATIC_PRIVATE.cmapiAvailable=window.PasswordCredential&&"credentials"in navigator,window.jQuery=$=__shared.dependencies["mod.jQuery"]},init:function(data,__shared){var PUBLIC=this,PRIVATE={},Promise=__shared.dependencies.mod.promise,Xrequest=__shared.dependencies.mod.xRequest,doLoginBase=(PRIVATE.getUser=function(){return PRIVATE.userNameField.value.trim()},PRIVATE.getPasswd=function(){return PRIVATE.passwordField.value.trim()},PRIVATE.getCSRF=function(){return new Promise(function(resolve,reject){(new Xrequest).get({url:"/ws/index.php?r=site/csrf&format=json",dataType:"json",withCredentials:!0}).then(function(response){response.CSRF||reject(new Error("Unknown response")),resolve(response.CSRF)}).catch(function(err){var err2;500===err.code&&((err2=new Error(STATIC_PRIVATE.i18n.get("systemerror"))).type="system",err2.internal=err,err=err2),reject(err)})})},PRIVATE.onLoading=function(state){PRIVATE.button.classList[state?"add":"remove"]("loading")},PRIVATE.clearValidation=function(){PRIVATE.errorContainer.innerHTML="",PRIVATE.userNameField.classList.remove("invalid"),PRIVATE.passwordField.classList.remove("invalid")},PRIVATE.showCaptcha=function(){pkg.require(["mod.captcha"],function(ModCaptcha){PRIVATE.captcha?PRIVATE.captcha.reload():(PRIVATE.captcha=new ModCaptcha("__brandCaptchaContainerDiv__"),document.querySelector(".mail-form-login-content").classList.add("captcha"))})},PRIVATE.validateLoginForm=function(){var user=PRIVATE.getUser(),pwd=PRIVATE.getPasswd();PRIVATE.clearValidation(),user?pwd?PRIVATE.captcha?PRIVATE.captcha.getValidationFormValues().then(function(cap){PRIVATE.doLogin(user,pwd,cap)}):PRIVATE.doLogin(user,pwd):(PRIVATE.errorContainer.innerHTML=STATIC_PRIVATE.i18n.get("blankpassword"),PRIVATE.passwordField.classList.add("invalid")):(PRIVATE.errorContainer.innerHTML=STATIC_PRIVATE.i18n.get("blankusername"),PRIVATE.userNameField.classList.add("invalid"))},function(user,pwd,captcha,gRecaptchaToken){PRIVATE.onLoading(!0),PRIVATE.performLogin(user,pwd,captcha,gRecaptchaToken).then(function(response){PRIVATE.onLoading(!1),PUBLIC.trigger("loginSuccessful",response)}).catch(function(error){PRIVATE.errorContainer.innerHTML=error.message,PRIVATE.onLoading(!1),"captcha"===error.type&&PRIVATE.showCaptcha()})});return PRIVATE.doLogin=function(user,pwd,captcha){!0===pkg.context.page.get("gRecaptchaActive")?PRIVATE.getGoogleRecaptchaToken().then(function(gRecaptchaToken){doLoginBase(user,pwd,captcha,gRecaptchaToken)}):doLoginBase(user,pwd,captcha,null)},PRIVATE.autoSignin=function(){STATIC_PRIVATE.cmapiAvailable&&navigator.credentials.get({password:!0,mediation:"optional"}).then(function(cred){cred&&PRIVATE.doLogin(cred.id,cred.password)}).catch(function(err){console.log("[!!] ",err)})},PRIVATE.performLogin=function(user,pwd,captcha,gRecaptchaToken){return PRIVATE.getCSRF().then(function(csrf){return PRIVATE.authenticate(user,pwd,csrf,captcha,gRecaptchaToken).then(function(response){var dataCred,pwdCred;return STATIC_PRIVATE.cmapiAvailable&&(pwdCred=new window.PasswordCredential({id:user,password:pwd}),navigator.credentials.store(pwdCred)),response.acensPostUrl?PRIVATE.authenticateMigrated(user,pwd,response.acensPostUrl,response.acensHomeUrl).then(function(response){return response}):response})})},PRIVATE.authenticate=function(user,pwd,csrf,captcha,gRecaptchaToken){return new Promise(function(resolve,reject){var err,form={YII_CSRF_TOKEN:csrf,"LoginForm[username]":user,"LoginForm[password]":pwd,recaptcha:gRecaptchaToken};captcha&&(form.brand_cap_challenge=captcha.challenge,form.brand_cap_answer=captcha.response),(new Xrequest).post({url:"/ws/index.php?r=site/login&format=json&login_capa=1",data:Xrequest.serialize(form),dataType:"json",withCredentials:!0}).then(function(data){data&&"object"==typeof data?data.LoginForm_authorization?((err=new Error(data.LoginForm_authorization[0])).type=PRIVATE.captcha?"captcha":"login",reject(err)):data.LoginForm_captcha?((err=new Error(data.LoginForm_captcha[0])).type="captcha",reject(err)):data.url||data.acensPostUrl?resolve(data):((err=new Error(STATIC_PRIVATE.i18n.get("unknownerror"))).type="unknown",reject(err)):((err=new Error(STATIC_PRIVATE.i18n.get("systemerror"))).type="system",reject(err))}).catch(function(){(err=new Error(STATIC_PRIVATE.i18n.get("unknownerror"))).type="unknown",reject(err)})})},PRIVATE.toogleShowHiddenPasswd=function(){var toogleIcon=PRIVATE.loginPasswd.querySelector(".icon"),pwdInputType="";"text"===PRIVATE.passwordField.type?(pwdInputType="password",toogleIcon.classList.remove("icon-password-hidden"),toogleIcon.classList.add("icon-password-show")):(pwdInputType="text",toogleIcon.classList.remove("icon-password-show"),toogleIcon.classList.add("icon-password-hidden")),PRIVATE.passwordField.type=pwdInputType,PRIVATE.passwordField.focus()},PRIVATE.getGoogleRecaptchaToken=function(){return PUBLIC.trigger("abortExistRecaptchaTokenRequest",!0),grecaptcha.execute(),new Promise(function(resolve,reject){PUBLIC.on("abortExistRecaptchaTokenRequest",function(){reject(new Error("Unknown response"))}),PUBLIC.on("getRecaptchaToken",function(token){resolve(token)})})},PRIVATE.loadRecaptchaV2=function(){window.onloadRecaptcha=function(){var recaptchaElement=document.createElement("div"),idRecapInstance=(recaptchaElement.id="recaptcha",recaptchaElement.classList.add("g-recaptcha"),document.body.appendChild(recaptchaElement),grecaptcha.render(recaptchaElement,{sitekey:"6LfT4LIUAAAAAIx_fIW6iyAnWFm8jCTIF9tdr5gK",callback:function(token){resetRecaptcha(),PUBLIC.trigger("getRecaptchaToken",token)},size:"invisible","expired-callback":resetRecaptcha})),resetRecaptcha=function(){grecaptcha.reset(idRecapInstance)}};var recaptchaScript=document.createElement("script");recaptchaScript.setAttribute("async","true"),recaptchaScript.setAttribute("defer","true"),recaptchaScript.setAttribute("src","https://www.google.com/recaptcha/api.js?onload=onloadRecaptcha&render=explicit"),document.head.appendChild(recaptchaScript)},PRIVATE.authenticateMigrated=function(user,pwd,acensPostUrl,acensHomeUrl){return new Promise(function(resolve,reject){user.includes("@")||(user+="@terra.com.br");var staticUuid=PRIVATE.uuid(),err,form={login:user,password:pwd,clientToken:staticUuid,client:"open-xchange-appsuite",version:"Form Login",uiWebPath:acensHomeUrl,jsonResponse:!0,autologin:!0,location:""};$.ajax({url:acensPostUrl+"&authId="+PRIVATE.uuid(),type:"POST",data:Xrequest.serialize(form),contentType:"application/x-www-form-urlencoded;charset=UTF-8",success:function(data){data.url?(data.url=data.url+"&clientToken="+staticUuid,window.history.replaceState(null,"",window.location.pathname),resolve(data)):(console.log("Erro no parceiro: "+data.error),(err=new Error(STATIC_PRIVATE.i18n.get("systemerror"))).type="system",PRIVATE.logout(),reject(err))},error:function(jqXHR,textStatus,errorThrown){console.log("Erro desconhecido no parceiro: "+errorThrown),(err=new Error(STATIC_PRIVATE.i18n.get("unknownerror"))).type="unknown",PRIVATE.logout(),reject(err)}})})},PRIVATE.uuid=function(){function hex(len,x){void 0===x&&(x=Math.random());for(var s=new Array(len),i=0;i<len;i++){var digit=15&(x*=16);s[i]=digit+(digit<10?48:87)}return String.fromCharCode.apply(String,s)}return[hex(8),"-",hex(4),"-4",hex(3),"-",hex(4,.5+Math.random()/4),"-",hex(12)].join("")},PRIVATE.logout=function(){"credentials"in navigator&&navigator.credentials.preventSilentAccess&&navigator.credentials.preventSilentAccess(),(new Xrequest).post({url:"/ws/index.php?r=site/logout&format=json",dataType:"json",withCredentials:!0}).then(function(){window.location="/signin"+window.location.search}).catch(function(err){console.error(err)})},PRIVATE.autoSignin(),PRIVATE.loginForm=document.querySelector("#signin"),PRIVATE.userNameField=PRIVATE.loginForm.querySelector('input[name="username"]'),PRIVATE.passwordField=PRIVATE.loginForm.querySelector('input[name="password"]'),PRIVATE.errorContainer=document.querySelectorAll(".bxLoginError")[0],PRIVATE.button=document.querySelector("#btnLogin"),PRIVATE.loginPasswd=document.querySelector("#btnLoginPasswd"),PRIVATE.button.removeAttribute("disabled"),PRIVATE.loginPasswd.addEventListener("click",function(e){e.preventDefault(),PRIVATE.toogleShowHiddenPasswd()}),PRIVATE.loginForm.addEventListener("submit",function(e){e.preventDefault(),PRIVATE.validateLoginForm()}),!0===pkg.context.page.get("gRecaptchaActive")&&PRIVATE.loadRecaptchaV2(),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,appFactory,PUBLIC_STATIC;pkg.factoryManager.get("app").create({name:"Tips",version:"1.0.0",state:"ok",dependencies:["mod.carousel","app.Modal"],dictionaries:["webmail"],templates:{caroussel:'<div id="ozoneCarouselTip" class="ozone-carousel-tip">    <div class="thumblist">        <ul>        {% for tip, tipAttr in tips %}            <li data-tip="{{tip}}">            {%if tipAttr.description%}                <p>{{tipAttr.description}}</p>            {% endif %}            {%if tipAttr.image%}                {%if tipAttr.link %}                    <a href="{{ tipAttr.link }}" target="_blank">                        <figure><img src="{{tipAttr.image}}"/></figure>                    </a>                {% else %}                    <figure><img src="{{tipAttr.image}}"/></figure>                {% endif %}            {% endif %}            </li>        {% endfor %}        </ul>    </div>    <a href="prev" class="arrow-prev"></a>    <a href="next" class="arrow-next"></a>    <ul class="carousel-wrap-bullets"></ul></div>'},expects:{properties:{}},setup:function(__static,__proto,__shared){(PUBLIC_STATIC=__static).modal=__shared.dependencies["app.Modal"],PUBLIC_STATIC.caroussel=__shared.dependencies["mod.carousel"]},init:function(data,__shared){var PUBLIC=this,PRIVATE={},ATTR={};return PRIVATE.getDataTip=function(){return pkg.context.page.get("ozoneDataTip")||{}},PRIVATE.getDataTipListAttributes=function(){var dataTip=PRIVATE.getDataTip();return Object.keys(dataTip)},PRIVATE.getDataTipLocalStorage=function(attribute){return attribute=attribute||ATTR.itemNameLocalStorage,JSON.parse(window.localStorage.getItem(attribute))},PRIVATE.getListTipToShow=function(){for(var listToShow=[],userLocalStorage=ATTR.localStorage[ATTR.username],listTipsAttributes=PRIVATE.getDataTipListAttributes(),sizeListTipsAttributes=listTipsAttributes.length,nameAttribute,index=0;index<sizeListTipsAttributes;index++)userLocalStorage[nameAttribute=listTipsAttributes[index]]||listToShow.push(nameAttribute);return listToShow},PRIVATE.getDataTipToShow=function(){for(var dataToShow={},dataTip=PRIVATE.getDataTip(),listToShow=PRIVATE.getListTipToShow(),sizeListToShow=listToShow.length,nameAttribute,index=0;index<sizeListToShow;index++)dataToShow[nameAttribute=listToShow[index]]=dataTip[nameAttribute];return dataToShow},PRIVATE.setLocalstorage=function(json){var json=JSON.stringify(json);window.localStorage.setItem(ATTR.itemNameLocalStorage,json)},PRIVATE.addUserInObjectToLocalStorage=function(){ATTR.localStorage[ATTR.username]={}},PRIVATE.hasUserLocalStorage=function(){return!!ATTR.localStorage[ATTR.username]},PRIVATE.hasTipToShow=function(){var hasToShow=!1;return hasToShow=PRIVATE.getListTipToShow().length?!0:hasToShow},PRIVATE.showTipInterface=function(data){var modal,modal;return new PUBLIC_STATIC.modal({classId:data.classId,width:data.width?parseInt(data.width)+"px":"auto",scope:data.scope,buttons:data.buttons||!1,header:data.header,closeOnLeave:data.closeOnLeave,btnClose:data.btnClose,contentType:data.contentType,innerButtons:data.innerButtons||!1,body:data.message||data.body,type:data.type||"success",captcha:data.captcha||!1,timeout:data.timeout,open:data.open,overlay:data.overlay,close:data.close,translateBtn:data.translateBtn||!1})},PRIVATE.loadCarousselFromTip=function(){var dataCaroussel,caroussel;return new PUBLIC_STATIC.caroussel({bullets:!0,containerSelector:"#ozoneCarouselTip",step:{type:"item",size:1},effect:{type:"fade",duraction:750}})},PRIVATE.createDateToExpire=function(nameTip){var expire,dataTip,nameTip=PRIVATE.getDataTip()[nameTip],date,dateGetTime,expire;return(expire=nameTip&&nameTip.timeToExpire?(new Date).getTime()+nameTip.timeToExpire:expire)||null},PRIVATE.setDataTipToSave=function(caroussel){var carousselPainelList,currentIndex,currentPainel,caroussel=caroussel.elements.items[caroussel.anchorPoint].getAttribute("data-tip"),dateToExpire=PRIVATE.createDateToExpire(caroussel);ATTR.localStorage[ATTR.username][caroussel]={expire:dateToExpire}},PRIVATE.expireTip=function(){for(var userDataLocalStorage=ATTR.localStorage[ATTR.username],listUserAttributes=Object.keys(userDataLocalStorage),sizeListUserAttributes=listUserAttributes.length,date,getDateTime=(new Date).getTime(),nameAttribute,tip,index=0;index<sizeListUserAttributes;index++)(tip=userDataLocalStorage[nameAttribute=listUserAttributes[index]])&&tip.expire&&getDateTime>=tip.expire&&delete ATTR.localStorage[ATTR.username][nameAttribute];PRIVATE.setLocalstorage(ATTR.localStorage)},PRIVATE.getListOldTipLocalStorageHistory=function(){var ozoneOldLocalStorage=PRIVATE.getDataTipLocalStorage("ozone"),listNameOldTips=[],ozoneOldLocalStorage;return listNameOldTips=ozoneOldLocalStorage&&ozoneOldLocalStorage.tips&&ozoneOldLocalStorage.tips[ATTR.username]&&(ozoneOldLocalStorage=ozoneOldLocalStorage.tips[ATTR.username],Array.isArray(ozoneOldLocalStorage))?ozoneOldLocalStorage:listNameOldTips},PRIVATE.preserveSavedTipOldLocalStorage=function(){for(var listOldLocalStorage=PRIVATE.getListOldTipLocalStorageHistory(),sizeListOldLocalStorage=listOldLocalStorage.length,nameAttribute,dateToExpire,index=0;index<sizeListOldLocalStorage;index++)nameAttribute=listOldLocalStorage[index],dateToExpire=PRIVATE.createDateToExpire(nameAttribute),ATTR.localStorage[ATTR.username][nameAttribute]={expire:dateToExpire};PRIVATE.setLocalstorage(ATTR.localStorage)},PRIVATE.removeOldTipLocalStorage=function(){window.localStorage.removeItem("ozone")},PRIVATE.startTips=function(){var tipsToRender,tipsToRender={tips:PRIVATE.getDataTipToShow()},tipsToRender={classId:"modal-tips",type:"default",btnClose:!0,contentType:"html",header:PUBLIC.l10n.get("tipsDay"),body:PUBLIC.templates.get("caroussel").render(tipsToRender),modal:!1,width:620,overlay:!0,timeout:!1,close:function(){PUBLIC.trigger("close",{})}};PRIVATE.showTipInterface(tipsToRender),tipsToRender=PRIVATE.loadCarousselFromTip(),PUBLIC.trigger("carousselLoaded",tipsToRender),tipsToRender.on("carousel-changed-painel",function(carousselInstance){PUBLIC.trigger("carousselPainelChange",carousselInstance.instance)})},PUBLIC.hasTipToShow=function(){return PRIVATE.hasTipToShow()},PUBLIC.startTips=function(){PRIVATE.startTips()},PUBLIC.on("carousselLoaded",function(caroussel){PRIVATE.setDataTipToSave(caroussel)}),PUBLIC.on("carousselPainelChange",function(caroussel){PRIVATE.setDataTipToSave(caroussel)}),PUBLIC.on("close",function(args){PRIVATE.setLocalstorage(ATTR.localStorage)}),function main(){var listOfNamesFromDataTip,dataTipLocalStorage;ATTR.localStorage={},ATTR.username=window.username||data.username||"unknown",ATTR.itemNameLocalStorage="ozoneTip",PRIVATE.getDataTipListAttributes().length&&((dataTipLocalStorage=PRIVATE.getDataTipLocalStorage())&&(ATTR.localStorage=dataTipLocalStorage),PRIVATE.hasUserLocalStorage()||PRIVATE.addUserInObjectToLocalStorage(),PRIVATE.preserveSavedTipOldLocalStorage(),PRIVATE.removeOldTipLocalStorage(),PRIVATE.expireTip())}(),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var console=pkg.console,require=pkg.require,appFactory=pkg.factoryManager.get("app"),STATIC_PRIVATE={mods:{}},$,webLocation;appFactory.create({name:"OzoneWebMail",version:"1.0.0",state:"ok",dependencies:["mod.xRequest","mod.Analytics","app.Header","app.Modal","app.MailList","app.MailViewer","app.Sidebar","app.MailComposer","app.Api","mod.jQuery"],templates:{helpView:'<div class="card__header">    <button class="ozone_button light return" data-event="helpLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    Ajuda - Dúvidas Frequentes</div><div class="card__body">    <ul id="help-list" class="help-faq__list">        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input1" class="help-faq__item__title">                    Como adicionar contatos na leitura de e-mails de forma rápida?                </label>                <input id="input1" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Quando estiver lendo algum e-mail e quiser adicionar o remetente como um contato, clique no ícone                        <img title="Adicionar contatos" alt="Adicionar contatos" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_mais1.png"> localizado ao lado do e este remetente será salvo automaticamente no item                        <img title="Contatos" alt="Contatos" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_contato.jpg">                    </p>                    <p>                        <img title="Mais completo" alt="Mais completo" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_mais_completo.png">                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input2" class="help-faq__item__title">                    Como anexar arquivos nos e-mails?                </label>                <input id="input2" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Você tem duas formas de anexar arquivos no e-mail.                        A primeira forma é arrastar o arquivo e soltá-lo em cima do ícone                        <img title="Anexar" alt="Anexar" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_anexar.png"> e selecionar o arquivo que deseja anexar.                        <img title="Anexar" alt="Anexar" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_anexar.png">                    </p>                </div>            </div>        </li>       <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input3" class="help-faq__item__title">                    Como criar pastas no e-mail Terra?                </label>                <input id="input3" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Para criar pastas clique no botão <img title="Nova pasta" alt="Nova pasta" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_novapasta.png">                        localizado no menu lateral à esquerda. Será exibida uma nova tela, então no Minhas Pastas você deverá preencher o campo com o nome que deseja dar para a pasta.                    </p>                    <p>                        <img title="Minhas pastas" alt="Minhas pastas" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_minhaspastas.png">                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input4" class="help-faq__item__title">                    Como incluir prioridade alta no e-mail Terra?                </label>                <input id="input4" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Clique no item  <img title="Mais prioridade" alt="Mais prioridade" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_mais_prioridade.png"> localizado na parte superior direita e selecione a opção de prioridade desejada (alta, normal ou baixa).                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input5" class="help-faq__item__title">                    Como mover e-mail para as pastas?                </label>                <input id="input5" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Selecione um ou mais e-mails, vá até o item <img title="Mover para" alt="Mover para" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_moverpara_destaque.png">                        localizado na barra superior dos e-mails e selecione a pasta que deseja mover seu(s) e-mail(s).                    </p>                    <p>                        <img title="Mover para" alt="Mover para" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_moverpara.png">                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input6" class="help-faq__item__title">                    Como solicitar confirmação de leitura no e-mail Terra?                </label>                <input id="input6" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Clique no item <img title="Mais prioridade" alt="Mais prioridade" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_mais_prioridade.png"> localizado na parte superior direita e selecione a opção Confirmação de Leitura.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input7" class="help-faq__item__title">                    Como ver o e-mail anterior ou o próximo?                </label>                <input id="input7" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Para navegar entre os e-mails, ir para o e-mail anterior ou para o próximo, clicar nas setas. Seta apontada para cima você visualizará as mensagens anteriores. Seta apontada para baixo você visualizará as próximas mensagens.                    </p>                    <p>                        <img title="Anterior/Próximo" alt="Anterior/Próximo" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_anteriorproximo.png">                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input8" class="help-faq__item__title">                    É possível configurar o box de visualização de e-mails?                </label>                <input id="input8" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Sim.                        <br>                        Existem 2 layouts para visualizar seus e-mails, em linha ou em coluna. Para visualizar no modo “Coluna”.                    </p>                    <p>                        Clique no item:                        <img title="Configurações" alt="Configurações" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icon_configuracao_nw.png">,                        <br>                        em seguida habilite a opção:                        <img title="Switch para troca de visualização" alt="Switch para troca de visualização" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icon_visualiazacaocoluna_nw.png">                    </p>                    <br>                    <br>                    <p><strong>Modo em linha:</strong></p>                    <br>                    <p>                        <img title="Visualização em linha" alt="Visualização em linha" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icon_modovisu_nw.png">                    </p>                    <br>                    <br>                    <p><strong>Modo em coluna:</strong></p>                    <br>                    <p>                        <img title="Visualização em coluna" alt="Visualização em coluna" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icon_modovisucoluna_nw.png">                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input9" class="help-faq__item__title">                    É possível ver vídeos e fotos na plataforma do e-mail Terra?                </label>                <input id="input9" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>Não.</p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input10" class="help-faq__item__title">                    Existe algum limite para criação de pastas?                </label>                <input id="input10" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Não, você pode criar quantas pastas quiser.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input11" class="help-faq__item__title">                    Existe corretor ortográfico? É possível alterar o idioma?                </label>                <input id="input11" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Não tem corretor e também não é possível alterar o idioma.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input12" class="help-faq__item__title">                    Existe limite de e-mails que posso receber por dia?                </label>                <input id="input12" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Não. O recebimento de e-mails é ilimitado.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input13" class="help-faq__item__title">                    O que é CC e CCO?                </label>                <input id="input13" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        <strong>CC:</strong> esta abreviação significa <i>“Carbon Copy”</i>, em português o nome usual é “Com Cópia”. Você utiliza este campo quando quer que outras pessoas além do destinatário tenha conhecimento do conteúdo. Os usuários que foram adicionados no “CC” também podem responder o seu e-mail.                    </p>                    <br>                    <p>                        <strong>CCO:</strong> em português o nome usual é “Com Cópia Oculta”. Você pode utilizar este campo para enviar um e-mail para diversos destinatários sem que eles vejam os demais destinatários. Os usuários que estão em cópia oculta, podem responder o seu e-mail e somente o remetente e as pessoas que estão em cópia irão receber.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input14" class="help-faq__item__title">                    O que é confirmação de leitura?                </label>                <input id="input14" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Quando a opção confirmação de leitura é selecionada, assim que o destinatário recebe seu e-mail e abre, é exibido um aviso para que ele confirme a leitura. Caso ele confirme você receberá um e-mail com esta confirmação.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input15" class="help-faq__item__title">                    O que é prioridade alta, baixa e normal?                </label>                <input id="input15" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Antes de enviar um e-mail você pode classificá-lo com uma prioridade para que o destinatário possa identificar se o seu e-mail precisa ter lido com urgência ou não.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input16" class="help-faq__item__title">                    O que é uma pasta chamada Lixeira?                </label>                <input id="input16" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Esta pasta recebe todos os e-mails que são excluídos por você ou pela limpeza automática.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input17" class="help-faq__item__title">                    O que é uma pasta chamada Rascunho?                </label>                <input id="input17" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        É uma pasta que armazena e-mails que foram salvos, porém não foram enviados.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input18" class="help-faq__item__title">                    O que é uma pasta chamada SPAM?                </label>                <input id="input18" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Esta pasta recebe e-mails que foram classificados automaticamente como spam.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input19" class="help-faq__item__title">                    O que significa cada ícone no e-mail Terra?                </label>                <input id="input19" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        <img title="Ajuda mail" alt="Ajuda mail" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icones_ajudamail.jpg"/>                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input20" class="help-faq__item__title">                    Os e-mails da caixa de Entrada expiram?                </label>                <input id="input20" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Os e-mails não expiram, mas, após 180 dias para cliente do Terra Mail Gigante, e 90 dias para os demais, é realizada uma limpeza automática e o e-mail recebido é excluído. Para que ele não seja excluído automaticamente após 180 dias para cliente do Terra Mail Gigante, e 90 dias para os demais, você pode mover os seus e-mails para alguma pasta particular.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input21" class="help-faq__item__title">                    Qual o peso limite que pode ser anexado no e-mail Terra?                </label>                <input id="input21" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        O limite é de 25 MB.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input22" class="help-faq__item__title">                    Quanto tempo os e-mails permanecem na caixa de Entrada?                </label>                <input id="input22" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        O tempo de permanência é de 90 dias.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input23" class="help-faq__item__title">                    Quantos contatos posso ter em um grupo de e-mail?                </label>                <input id="input23" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Você pode adicionar até 100 contatos em um grupo de e-mail.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input24" class="help-faq__item__title">                    Simultaneamente, para quantos destinatários posso enviar um e-mail?                </label>                <input id="input24" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Você pode enviar um e-mail para até 100 contatos de uma só vez.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input25" class="help-faq__item__title">                    Como criar filtros no e-mail Terra?                </label>                <input id="input25" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>Para criar um filtro no e-mail Terra clique no item configurações do menu superior e depois clique em Filtros.</p>                    <p>Ao acessar a tela de criação dos filtros clique em \'Novo\'.</p>                    <p>A primeira caixa de seleção, com o título \'CAMPO\', corresponde a qual campo do e-mail recebido será analisado.</p>                    <p>Na segunda caixa de seleção você deve informar qual restrição será utilizada.</p>                    <p>Após, você deve digitar qual é a palavra chave deste filtro, ou seja, por qual palavra/e-mail a busca será realizada.</p>                    <p>E por último, selecionar para qual pasta a mensagem será movida, de acordo com as características do filtro criado.</p>                    <br>                    <p>                        Por exemplo, se você deseja mover todas as mensagens recebidas do remetente terra@terra.com.br para a pasta Terra, seu filtro deve ser da seguinte forma:                        <img title="Filtro igual email" alt="Filtro igual email" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_filtro_igual.png">                    </p>                    <br>                    <p>                        Para mover todas as mensagens enviadas que possuem a palavra Terra no campo \'PARA\', você deve criar o filtro desta forma:                        <img title="Filtro contém" alt="Filtro contém" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icone_filtro_contem.png">                    </p>                </div>            </div>        </li>    </ul></div>',helpSpanishView:'<div class="card__header">    <button class="ozone_button light return" data-event="helpLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    Ayuda - Preguntas frecuentes</div><div class="card__body">    <ul id="help-list" class="help-faq__list">        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input1" class="help-faq__item__title">                    ¿Adición de contactos en la lectura de mensajes de correo electrónico de forma rápida?                </label>                <input id="input1" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Al leer algunos correos electrónicos y si desea agregar al remitente como un contacto, haga clic en el <img title="Add" alt="Add" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/mas1.png" />                        situado junto al remitente y éste se guardará automáticamente en el punto <img title="Contactos" alt="Contacts" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/contactos.png" />                    </p>                    <p>                        <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/mascomplet.png" />                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input2" class="help-faq__item__title">                    ¿Cómo adjuntar archivos a un correo electrónico?                </label>                <input id="input2" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Hay dos formas de adjuntar archivos a un correo electrónico.                        La primera forma es arrastrar el archivo y soltarlo en el icono <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/adjuntar.png" /> terminado.                        La segunda es hacer clic directamente sobre el icono <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/adjuntar.png" /> y seleccionar el archivo que desea adjuntar.                    </p>                </div>            </div>        </li>       <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input3" class="help-faq__item__title">                    ¿Cómo crear carpetas en el correo electrónico de Terra?                </label>                <input id="input3" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Para crear carpetas, haga clic en el  <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/nuevacarpeta.png" />                        que se encuentra en el menú lateral de la izquierda. una nueva pantalla, a continuación, en Mis carpetas que tiene que llenar el campo con el nombre que desea darle a la carpeta aparece.                    </p>                    <p>                        <img title="" alt="" src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/miscarpetas.png" />                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input4" class="help-faq__item__title">                    ¿Cómo incluir de alta prioridad e-mail Terra?                </label>                <input id="input4" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Haga clic en el <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/mas.png" />                        elemento situado en la parte superior derecha y seleccione la opción de prioridad deseada (alta, normal o baja).                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input5" class="help-faq__item__title">                    ¿Cómo mover el correo electrónico en carpetas?                </label>                <input id="input5" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Seleccione uno o más mensajes de correo electrónico, entre en la sección <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/mover2.png" />                        que se encuentra en la barra superior del correo electrónico y seleccione la carpeta que desea mover su (s) electrónico (s).                    </p>                    <p>                        <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/movercomplet.png" />                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input6" class="help-faq__item__title">                    ¿Cómo solicitar confirmación de lectura en el correo Terra?                </label>                <input id="input6" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Haga clic en el <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/mas.png" />                        elemento situado en la parte superior derecha y seleccione la opción de confirmación de lectura.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input7" class="help-faq__item__title">                    ¿Cómo ver la dirección de correo anterior o el siguiente?                </label>                <input id="input7" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        a mayoría de los mensajes de correo electrónico, vaya a la dirección de correo anterior o al siguiente, haga clic en las flechas. Flecha que apunta hacia arriba podrá ver los mensajes anteriores. La flecha que apunta hacia abajo, verá el siguiente mensaje.                    </p>                    <p>                        <img data-src"//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/antprox.png" />                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input8" class="help-faq__item__title">                    ¿Se puede configurar el cuadro de visualización de correo electrónico?                </label>                <input id="input8" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>Si! Hay 2 layouts disponibles para leer sus correos, en líneas o en columnas.</p>                    <p>                        Para utilizar el modo “Columna” haz click en:                        <img title="Configuraciones" alt="Configuraciones" data-src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/icon_configuracao_nw.png">,                        <br>                        y luego activa la opción:                        <img title="activa la opción" alt="activa la opción" data-src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/pt-br/icon_visualiazacaocoluna_nw.png">                    </p>                    <br>                    <br>                    <p><strong>Modo linea:</strong></p>                    <br>                    <p>                        <img title="Modo lineas" alt="Modo lineas" data-src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/icon_modovisu_nw.png">                    </p>                    <br>                    <br>                    <p><strong>Modo columna:</strong></p>                    <br>                    <p>                        <img title="Modo columna" alt="Modo columna" data-src="//s1.trrsf.com/fe/zaz-ui-webmail/_img/help-screen/es/icon_modovisucoluna_nw.png">                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input9" class="help-faq__item__title">                    ¿Puede ver vídeos y fotos en la plataforma de correo electrónico de Terra?                </label>                <input id="input9" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>No.</p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input10" class="help-faq__item__title">                    ¿Hay algún límite para crear carpetas?                </label>                <input id="input10" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        No, no puede crear tantas carpetas como desee.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input11" class="help-faq__item__title">                    ¿Hay corrector ortográfico? ¿Se puede cambiar el idioma?                </label>                <input id="input11" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Hay corredor. No se puede cambiar el idioma.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input12" class="help-faq__item__title">                    ¿Hay correos electrónicos límite que puede recibir por día?                </label>                <input id="input12" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        No, no hay límite para recibir correos electrónicos por día.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input13" class="help-faq__item__title">                    ¿Qué se lee recibo?                </label>                <input id="input13" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Cuando se selecciona la opción de confirmación de lectura, para que el destinatario recibe el correo electrónico y lo abra, se muestra una advertencia para confirmar que lo leyó. Si se confirma, recibirá un correo electrónico con esta confirmación.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input14" class="help-faq__item__title">                    ¿Qué es alto, medio y bajo de prioridad?                </label>                <input id="input14" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Antes de enviar un correo electrónico se puede solucionar el problema con una prioridad para que el destinatario pueda identificar si su correo electrónico debe ser leído urgente o no.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input15" class="help-faq__item__title">                    ¿Cómo se llama una carpeta de basura?                </label>                <input id="input15" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Esta carpeta recibe todos los correos electrónicos que se eliminan por usted o por limpieza automática.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input16" class="help-faq__item__title">                    ¿Qué es una carpeta llamada Proyecto?                </label>                <input id="input16" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Es una carpeta que almacena los correos electrónicos que se han guardado, pero no fueron enviados.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input17" class="help-faq__item__title">                    ¿Qué es una carpeta denominada Spam?                </label>                <input id="input17" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Esta carpeta recibe mensajes de correo electrónico que fueron clasificados como spam de forma automática.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input18" class="help-faq__item__title">                    ¿Los correos electrónicos de la carpeta buzón expiran?                </label>                <input id="input18" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Los mensajes de correo electrónico no caducan, pero después de 90 días se hace una limpieza automática, se reciben y se eliminan los correos electrónicos. De modo que no se borran automáticamente después de 90 días, puede mover los mensajes de correo electrónico a una carpeta en particular.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input19" class="help-faq__item__title">                    ¿Cuál es el límite de peso en MB que se puede conectar en el e -mail Terra?                </label>                <input id="input19" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        El límite es de 25 MB .                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input20" class="help-faq__item__title">                    ¿Cuánto tiempo los mensajes de correo electrónico permanecen en la carpeta buzón ?                </label>                <input id="input20" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        La duración es de 90 días.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input21" class="help-faq__item__title">                    ¿Cuántos contactos puedo tener en un grupo de correo electrónico?                </label>                <input id="input21" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Puede agregar hasta 100 contactos en un grupo de correo electrónico.                    </p>                </div>            </div>        </li>        <li class="help-faq__item">            <div class="help-faq__item__container">                <label for="input22" class="help-faq__item__title">                    ¿Al mismo tiempo, a cuántos destinatarios puedo enviarles un correo electrónico?                </label>                <input id="input22" type="checkbox" class="checkbox-help">                <div class="help-faq__item__content">                    <p>                        Puede enviar un correo electrónico a un máximo de 100 contactos a la vez.                    </p>                </div>            </div>        </li>    </ul></div>',helpFeedback:'{% if type == \'change-version\' %}    {% set btnSubmitValue = \'versão antiga\' %}{% else %}    {% set btnSubmitValue = \'enviar\' %}{% endif %}<div class="card__header">    <button class="ozone_button light return" data-event="helpLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    Feedback</div><div class="card__body">     {{ initPharse }}    <div class="containerFeedback">        <form id="formFeedback" name="formFeedback" data-type="{{type}}">            <fieldset>                <p class="destak-pharse">{{ questionEmprove }} </p>                <label>                    <input id="feedBackLinkVersionTrue" name="TalkToUsForm[likeVersion]" type="radio" value="{{ yes }}" /> {{ yes }}                </label>                <label>                    <input id="feedBackLinkVersionFalse" name="TalkToUsForm[likeVersion]" type="radio" value="{{ no }}"/>{{ no }}                </label>                <label>                    <input id="feedBackLinkVersioNocare" name="TalkToUsForm[likeVersion]" type="radio" value="{{ noCare }}"/>{{ noCare }}                </label>            </fieldset>            <p class="destak-pharse"> {{ message }} </p>            <textarea id="feedbackBody" name="TalkToUsForm[body]" class="ozone__input__rounded"></textarea>            <div class="feedback-footer">                <label>                    <input id="feedbackPermissionAccess" name="TalkToUsForm[permissionAccess]" type="checkbox" value="{{ yes }}" />                    {{ authorizedAccess }}                </label>            </div>            <div class="wrapper-button">                <input type="submit" value="{{btnSubmitValue}}" class="ozone__button"/>            </div>        </form>    </div></div>',helpCleaningPolice:'<div class="card__header">    <button class="ozone_button light return" data-event="helpLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{title}}</div><div class="card__body">     {{msg}}</div>',configGeneralView:'<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'geral\') }}     <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}     </button></div><div class="card__body">    <form ts.rclk="1">        <div class="card__item">            <label class="ozone__input__label" for="_params_displayName">                {{ dict.get(\'name\') }}            </label>            <div class="ozone__input">                <input id="_params_displayName" class="ozone__input__rounded" placeholder="" name="/params/displayName">            </div>        </div>        <div class="card__item">            <label class="ozone__input__label" for="_params_customizedFrom">                {{ dict.get(\'sender\') }}            </label>            <div class="ozone__input">                <input id="_params_customizedFrom" class="ozone__input__rounded" placeholder="" name="/params/customizedFrom">            </div>        </div>        <div class="card__item">            <label class="ozone__input__label" for="_params_replyTo">                {{ dict.get(\'responder_para\') }}            </label>            <div class="ozone__input">                <input id="_params_replyTo" class="ozone__input__rounded" placeholder="" name="/params/replyTo">            </div>        </div>        <div class="card__item">            <label class="ozone__input__label" for="_params_timeFormat">                {{ dict.get(\'formato_hora\') }}            </label>            <div class="ozone__input">                <select class="ozone__select drop-down-selector-mobile drop-down-selector-mobile-min-small" name="/params/timeFormat" id="_params_timeFormat">                    <option value="%l:%M %p">12</option>                    <option value="%R">24</option>                </select>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label" for="_params_dateFormat">                {{ dict.get(\'formato_data\') }}            </label>            <div class="ozone__input">                <select class="ozone__select drop-down-selector-mobile drop-down-selector-mobile-min-small" name="/params/dateFormat" id="_params_dateFormat">                    <option value="%d/%m/%y">DD/MM/AA</option>                    <option value="%m/%d/%y">MM/DD/AA</option>                    <option value="%y/%m/%d">AA/MM/DD</option>                    <option value="%y/%d/%m">AA/DD/MM</option>                </select>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">                {{ dict.get(\'mostrar_imagens\') }}            </label>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" id="_params_displayImages" name="/params/displayImages">                    <label for="_params_displayImages"></label>                </div>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">                {{ dict.get(\'trash_by_default\') }}            </label>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" id="_params_autoTrash" name="/params/autoTrash">                    <label for="_params_autoTrash"></label>                </div>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">                {{ dict.get(\'clear_trash\') }}            </label>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" id="_params_emptyTrash" name="/params/emptyTrash">                    <label for="_params_emptyTrash"></label>                </div>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">                {{ dict.get(\'column_layout\') }}            </label>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" id="_params_mailview_panel_orientation" name="/params/mailview_panel_orientation">                    <label for="_params_mailview_panel_orientation"></label>                </div>            </div>        </div>        <div class="card__item">            <div class="container">                <label class="ozone__input__label">                    {{ dict.get(\'notification_title\') }}                </label>                <p class="ozone__input__description"></p>            </div>            <button id="request_notification" type="button" class="ozone__button" data-command="notification">                {{ dict.get(\'enable\') }}            </button>        </div>    </form></div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button" data-command="save">            {{ dict.get(\'save\') }}        </button>    </div></div>',configSignatureView:'<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>\t{{ dict.get(\'assinatura\') }}    <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}    </button></div><div class="card__body">    <form>        <textarea id="_params_signature" class="ozone__input__rounded" name="/params/signature" contentditable="true"></textarea>    </form></div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone_button" data-command="save">{{ dict.get(\'save\') }}</button>    </div></div>',configAutoReplyView:'<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'respostaAutomatica\') }}    <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}    </button></div><div class="card__body">    <form>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'ativar_resp_auto\') }}</label>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="0" id="activateChangeForAutoReply" name="activateChangeForAutoReply">                    <label for="activateChangeForAutoReply"></label>                </div>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'name\') }}</label>            <input id="from" class="ozone__input__rounded" name="from">        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'subject\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'subject_desc\') }}</p>            <input id="subject" class="ozone__input__rounded" name="subject">        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'conteudo\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'conteudo_desc\') }}</p>            <textarea id="content" class="ozone__input__rounded" name="content" rows="6"></textarea>        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'nao_responder_para\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'nao_responder_para_desc\') }}</p>            <textarea id="dontReplyTo" class="ozone__input__rounded" name="dontReplyTo" rows="6"></textarea>        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'desativar_depois_de\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'desativar_depois_de_desc\') }}</p>            <input id="disableAfter" class="ozone__input__rounded" type="date" name="disableAfter">        </div>    </form></div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone_button" data-command="save">{{ dict.get(\'save\') }}</button>    </div></div>',configNicknameView:'<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'nickname\') }}    <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}    </button></div><div class="card__body">    <form>        <div class="card__item">            <label class="ozone__input__label">                {{ dict.get(\'nickname\') }}            </label>            <p class="ozone__input__description">                {{ dict.get(\'nickname_input_description\') }}            </p>            <input id="new_alias" name="new_alias" class="ozone__input__rounded" type="text">        </div>    </form></div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button" data-command="save">            {{ dict.get(\'save\') }}        </button>    </div></div>',configFilterView:'<div class="card__header">    <button id="btnReturnFilters" class="ozone_button light return" data-event="configLeave" data-command="returnFilters">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'filtros\') }}</div><div id="filter-config" class="card__body no-footer filter-config">    <form>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'ativar_filtros\') }}</label>            <div class="ozone__switch">                <input type="checkbox" value="enabled" id="activateChangeFor" name="activateChangeFor" data-command="active">                <label for="activateChangeFor"></label>            </div>            <button id="btnNovo" class="ozone__button" data-command="new">{{ dict.get(\'new\') }}</button>        </div>    </form>    <div class="sub__title">        {{ dict.get(\'filters_list\') }}    </div>    <div class="filterlist">        <div class="folders ozone__list">            <div class="ozone__list__wrap no-header">                <ul class="ozone__list__ul">                    <li class="ozone__list__li ozone__list__li--header">                        <div class="ozone__list__value ozone__list__value--header">                            {{ dict.get(\'field\') }}                        </div>                        <div class="ozone__list__value ozone__list__value--header">                            {{ dict.get(\'restriction\') }}                        </div>                        <div class="ozone__list__value ozone__list__value--header">                            {{ dict.get(\'keyword\') }}                        </div>                        <div class="ozone__list__value ozone__list__value--header">                            {{ dict.get(\'action\') }}                        </div>                        <div class="ozone__list__value ozone__list__value--header">                            {{ dict.get(\'folder\') }}                        </div>                    </li>                    <form class=\'filter-form ozone__list__form\'>                        <div class="ozone__list__form-title">{{ dict.get(\'new_filter\') | upper }}</div>                        <li class="ozone__list__form__li">                            <div class="ozone__list__value ozone__list__value--action">                                <div class="ozone__input-group">                                    <div class="ozone__input">                                        <select id="filter-field" class="ozone__select drop-down-selector-mobile" name="field">                                            <option value="from">{{ dict.get(\'from\') | upper }}</option>                                            <option value="to">{{ dict.get(\'to\') | upper}}</option>                                            <option value="subject">{{ dict.get(\'subject\') | upper }}</option>                                            <option value="body">{{ dict.get(\'content\')| upper }}</option>                                        </select>                                    </div>                                </div>                            </div>                            <div class="ozone__list__value ozone__list__value--contains">                                <div class="ozone__input-group">                                    <div class="ozone__input">                                        <select id="filter-test" class="ozone__select drop-down-selector-mobile" name="test">                                            <option value="contains">{{ dict.get(\'contains\') | upper }}</option>                                            <option value="doesNotContain">{{ dict.get(\'doesnt_contain\') | upper }}</option>                                            <option value="isEqual">{{ dict.get(\'equal_to\') | upper }}</option>                                            <option value="isNotEqual">{{ dict.get(\'different_from\') | upper}}</option>                                        </select>                                    </div>                                </div>                            </div>                            <div class="ozone__list__value ozone__list__value--keyword">                                <div class="ozone__input-group">                                    <div class="ozone__input">                                        <input id="filter-keyword" type="text" name="keyword" placeholder="{{ dict.get(\'palavra-chave\') }}">                                    </div>                                </div>                            </div><div class="ozone__list__value ozone__list__value--action">                                <div class="ozone__input-group">                                    <div class="ozone__input">                                        <select id="filter-action" class="ozone__select drop-down-selector-mobile" name="action">                                            <option value="move">{{ dict.get(\'moverPara\') | upper }}</option>                                        </select>                                    </div>                                </div>                            </div><div class="ozone__list__value ozone__list__value--target">                                <div class="ozone__input-group">                                    <div class="ozone__input">                                        <select id="filter-target" class="ozone__select drop-down-selector-mobile" name="target">                                            \x3c!-- @append --\x3e                                        </select>                                    </div>                                </div>                            </div>                        </li>                        <li class="ozone__list__form__li ozone__list__form__li--buttons">                            <div class="ozone__list__value"></div>                            <div class="ozone__list__value ozone__list__value--case">                                <div class="ozone__switch">                                    <input id="filter-caseSensitive" type="checkbox" name="caseSensitive">                                    <label for="filter-caseSensitive"></label>                                </div>                                {{ dict.get(\'case_sensitive\') }}                            </div>                            <div class="ozone__list__value"></div><div class="ozone__list__form-buttons">                                <button class="ozone__button ozone__button light" data-command="cancel">{{ dict.get(\'cancel\') }}</button>                                <button class="ozone__button ozone__button" data-command="save">{{ dict.get(\'save\') }}</button>                            </div>                        </li>                        <input id="filter-enabled" type="hidden" value="1" name="enabled">                        <input id="filter-hash" type="hidden" name="hash">                    </form>                    <div class="ozone__list__content" id="filterlist-content">                        \x3c!-- @append --\x3e                    </div>                </ul>            </div>        </div>    </div></div>',configAntispamView:'{% macro list_table(id) -%}<div class="sub__title">    {{ dict.get(id+\'_title\') }}</div><form class="whitelist">    <div class="ozone__input-group">        <input id="{{ id }}" class="ozone__input__rounded" placeholder="{{ dict.get(\'email\') }} / {{ dict.get(\'domain\') }}" name="newfolder">        <button class="ozone__button" data-command="{{ id }}">{{ dict.get(\'add\') }}</button>    </div>    <div class="folders ozone__list">        <div class="ozone__list__wrap no-header">            <ul class="ozone__list__ul">                <li class="ozone__list__li ozone__list__li ozone__list__li ozone__list__li--header">                    <div class="ozone__list__value--header">                        {{dict.get(\'type\')}}                    </div>                    <div class="ozone__list__value--header">                        {{dict.get(\'from\')}}                    </div>                    <div class="ozone__list__value--header">                        {{dict.get(\'date\')}}                    </div>                </li>                <div class="ozone__list__content" id="{{ id }}-content">                    \x3c!-- append --\x3e                </div>            </ul>        </div>    </div></form>{%- endmacro %}<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'antispam\') }}    <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}    </button></div><div class="card__body">    <div class="card__item__group">        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'spam_report\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'spam_report_desc\') }}</p>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" name="spamReport" id="spamReport">                    <label for="spamReport"></label>                </div>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'move_to_spam\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'move_to_spam_desc\') }}</p>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" name="moveSpamToSpam" id="moveSpamToSpam">                    <label for="moveSpamToSpam"></label>                </div>            </div>        </div>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'superbloqueio\') }}</label>            <p class="ozone__input__description">{{ dict.get(\'superbloqueio_desc\') }}</p>            <div class="ozone__input">                <div class="ozone__switch">                    <input type="checkbox" value="1" name="superFilter" id="superFilter">                    <label for="superFilter"></label>                </div>            </div>        </div>    </div>    {{ list_table(\'whitelist\') }}    {{ list_table(\'blacklist\') }}</div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button" data-command="save">{{ dict.get(\'save\') }}</button>    </div></div>',configRedirectView:'<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'redirecionamento\') }}    \x3c!--    <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}    </button>    --\x3e</div><div class="card__body">    <form>        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(\'redir_para\') }}</label>            <div class="ozone__input-group">                <input                    required                    type="email"                    id="autoforward"                    name="autoforward"                    class="ozone__input__rounded"                    placeholder="{{ dict.get(\'mailSample\') }}"                    autocapitalize="none"                    autocorrect="off" />                <button class="ozone__button" data-command="save">{{ dict.get(\'add\') }}</button>            </div>            <div class="ozone__input ozone__table">                <div class="ozone__table__wrap no-header">                    <table>                        <tbody class="ozone__table__tbody"> </tbody>                    </table>                </div>            </div>        </div>    </form></div>\x3c!--<div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button" data-command="save">{{ dict.get(\'save\') }}</button>    </div></div>--\x3e',configMyFoldersView:'{% macro paginationContent(id) -%}    <ul class="ozone__pagination" id="{{id}}"> \x3c!-- @append --\x3e </ul>{%- endmacro %}<div class="card__header">    <button class="ozone_button light return"  data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'minhaPastas\') }}</div><div class="card__body autoforward">    <form>        <label class="ozone__input__label">{{ dict.get(\'new_folder\') }}</label>        <div class="ozone__input-group">            <input id="newfolder" class="ozone__input__rounded" name="newfolder" placeholder="{{ dict.get(\'folder_name_placeholder\') }}">            <button class="ozone__button" data-command="new" >{{ dict.get(\'create_new_folder\') }}</button>        </div>        <div id="addSpinner"></div>        {{ paginationContent(\'paginationTop\') }}        <div class="folders ozone__table">            <div class="ozone__table__wrap no-header">                <table style="margin-bottom: 0px;" class="">                    <thead class="ozone__table__thead header">                        <tr>                            <th>{{ dict.get(\'folders\') }}</th>                            <th>{{ dict.get(\'read_count\') }} <br/>                                {{ dict.get(\'unread_count\') }}</th>                            <th>{{ dict.get(\'actions\') }}</th>                        </tr>                    </thead>                    <tbody id="configMyFoldersTbody" class="ozone__table__tbody">                        \x3c!-- @append --\x3e                    </tbody>                </table>            </div>        </div>        {{ paginationContent(\'paginationBottom\') }}    </form></div>\x3c!--<div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button" data-command="save">{{ dict.get(\'save\') }}</button>    </div></div>--\x3e',configChangePasswdLatamView:'<div class="card__header">    <button class="ozone_button light return" data-event="configLeave">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dict.get(\'alterarASenha\') }}    <button class="ozone_button light save" data-command="save">        {{ dict.get(\'save\') }}    </button></div><div class="card__body">    <form>        <div class="card__item change-passwd">                <span class="regras">Reglas:</span>                <ul>                    <li>- ser diferente del nombre de usuario</li>                    <li>- tener de 8 a 20 caracteres</li>                    <li>- tener letras y números</li>                    <li>- no repita las últimas 2 contraseñas registradas anteriormente</li>                </ul>                        <div>                <p><span class="regras">Usuario: </span><span id="user_latam"></span></p>                <input id="username_latam" name="username_latam" type="hidden">                <label class="ozone__input__label labelsChangePasswd">                    Contraseña actual                </label>                <input id="input_passwd_latam" name="input_passwd_latam" class="ozone__input__rounded" type="password">                <span id="icon_input_passwd_latam" class="icon_input_latam ozone__button">                    <i class="icon icon-20 icon-password-show"></i>                </span>                <label class="ozone__input__label labelsChangePasswd">                    Nueva contraseña                </label>                <input id="input_new_passwd_latam" name="input_new_passwd_latam" class="ozone__input__rounded" type="password">                <span id="icon_input_passwd_latam_new_passwd" class="icon_input_latam ozone__button">                    <i class="icon icon-20 icon-password-show"></i>                </span>                <label class="ozone__input__label labelsChangePasswd">                    Confirmar nueva contraseña                </label>                <input id="input_repeat_new_passwd_latam" name="input_repeat_new_passwd_latam" class="ozone__input__rounded" type="password">                <span id="icon_input_passwd_latam_repeat_passwd" class="icon_input_latam ozone__button">                    <i class="icon icon-20 icon-password-show"></i>                </span>                <input id="input_dominio" name="input_dominio" type="hidden">            </div>        </div>    </form></div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button" data-command="save">            {{ dict.get(\'save\') }}        </button>    </div></div>',filterItem:'{% for filter in filters.list %}<li id="filter-{{filter.hash}}" class="ozone__list__li filter-enabled--{{ filter.enabled }}" data-id="{{filter.hash}}">    \x3c!-- <div class="ozone__checkbox">        <input type="checkbox" name=\'filters\' value="{{filter.hash}}" />        <label for="test" class="ozone__checkbox__label"></label>    </div> --\x3e    <div class="ozone__list__value ozone__list__value--field">        <p>{{dic.get(filter.field)}}</p>    </div><div class="ozone__list__value ozone__list__value--contains">        {{ dic.get(filter.test) }}    </div><div class="ozone__list__value ozone__list__value--keyword">        <p>{{ filter.keyword | e(\'html\') }}</p>    </div><div class="ozone__list__value ozone__list__value--action">        {{dic.get(filter.action)}}    </div><div class="ozone__list__value ozone__list__value--target">        <p>{{dic.get(filter.target)}}</p>    </div><div class="buttons">        <div class="ozone__switch--small">            <input type="checkbox" value="enabled" id="toggle-{{filter.hash}}" name="toggle-{{filter.hash}}" data-command="toggle" data-id="{{filter.hash}}" {% if filter.enabled %} checked{% endif %}>            <label for="toggle-{{filter.hash}}" title="{{ dic.get(\'enable\') }}"></label>        </div>    \t<i class="icon icon-16 icon-pencil" title="{{dic.get(\'editar\')}}" data-command="edit" data-id="{{filter.hash}}"></i>        <i class="icon icon-16 icon-close-gray-filled icon-erase" title="{{dic.get(\'deletar\')}}" data-command="delete" data-id="{{filter.hash}}"></i>    </div></li>{% endfor %}',filterDir:'{% for folder in folders %}    <option value="{{folder.id}}">{{folder.name}}</option>{% endfor %}',redirectItem:'{% for email in emails %}<tr>    <td class="commands">    \t<i class="icon icon-16 icon-close-gray-filled delete-redirect" title="{{dic.get(\'deletar\')}}" data-command="delete" data-id="{{email}}"></i>    </td>    <td>{{email}}</td></tr>{% endfor %}',myFolders:'{% for folder in folders %}    <tr>        <td>{{folder.name}}</td>        <td>{{folder.status.nmsgs}}/{{folder.status.unseen}}</td>        <td class="commands">            <div class="wrap-not-default-commands">                {% if not folder.isDefault %}                    <span class="focus-commands">                        <a href="#" class="btn-folder-save" data-id="{{folder.mailbox_id}}" title="salvar {{folder.mailbox_id}}" data-command="save">salvar</a>                        <span class="btn-separator">|</span>                        <a href="#" class="btn-folder-cancel" data-id="{{folder.mailbox_id}}" title="cancelar {{folder.mailbox_id}}" data-command="cancel">cancelar\x3c!--{{dic.get("renomear")}} --\x3e</a>                    </span>                    <span class="primary-commands">                        <a href="#" class="btn-folder-rename icon icon-16 icon-pencil" data-id="{{folder.mailbox_id}}" title="{{dic.get(\'renomear\')}} {{folder.name}}" data-command="rename"></a>                                                <a href="#" class="btn-folder-delete icon icon-16 icon-trash" data-id="{{folder.mailbox_id}}" title="excluir {{folder.name}}" data-command="delete"></a>                    </span>                {% endif %}                <a class="btn-folder-clean icon icon-16 icon-clean-grey"  data-id="{{folder.mailbox_id}}" href="#" title="{{dic.get(\'Limpar\')}} {{folder.name}}" data-command="clean"></a>            </div>        </td>    </tr>{% endfor %}',myFoldersPagination:'{% if data.count > 1 %}    {% for i in range(0, data.count) %}        <li class="{{\'active\' if data.current == loop.index}} ">            <a href="javascript: void(0)" data-page="{{loop.index}}">{{loop.index}}</a>        </li>    {% endfor %}{% endif%}',spam:'{% for folder in filters %}<li class="ozone__list__li">    <div class="ozone__list__value--type">        {{dic.get(folder.type)}}    </div>    <div class="ozone__list__value--address">        <p>{{folder.address}}</p>    </div>    <div class="ozone__list__value--date">        {{folder.date}}    </div>    <div class="buttons">        \x3c!-- <i class="icon icon-20 icon-pencil" data-id="{{folder.address}}"></i> --\x3e        <i class="icon icon-16 icon-close-gray-filled icon-erase" title="{{dic.get(\'deletar\')}}" data-id="{{folder.address}}"></i>    </div></li>{% endfor %}',contactAndGroupView:'<div id="contactAndGroupView" class="ozone__table">    <div class="ozone__table__wrap" data-empty="{{ no_contacts }}">        <table>            <div class="card__header">                <button class="ozone_button light return" data-event="configLeave">                    <i class="icon icon-16 icon-chevron-left-light"></i>                </button>                {{tipo}}            </div>            <thead class="ozone__table__thead header">                <tr class="line_separator">                    <th class="checkbox">                        <div class="ozone__table__thead__th add_header">                            <div class="ozone__checkbox">                                <input type="checkbox"/>                                <label for="test" class="ozone__checkbox__label"></label>                            </div>                        </div>                    </th>                    <th>                        <div class="ozone__table__thead__th add_header">{{ dict.get(\'selectAll\') }}</div>                    </th>                </tr>                <tr style="display:none" class="mail-list-secondary-__controll">                    <th class="checkbox">                        <div class="ozone__table__thead__th add_header">                            <div class="ozone__checkbox">                                <input type="checkbox"/>                                <label for="test" class="ozone__checkbox__label"></label>                            </div>                        </div>                    </th>                    <th>                        <div class="ozone__table__thead__th add_header">                            <div class="icons">                                <a class="mail-list__controll__trash" href="javascript:void(0)" title="{{ dict.get(\'delete\') }}">                                    <i class="icon icon-16 icon-trash"></i>                                    <span>{{ dict.get(\'delete\') }}</span>                                </a>                            </div>                        </div>                    </th>                </tr>            </thead>            <tbody class="ozone__table__tbody"></tbody>        </table>    </div>    <div id="containerContactPaginate" class="contact-group-pagination"></div></div>',contactNewAndEditView:'{% macro render_item(x, name)-%}    {% if x.type == \'group\' %}        <div class="sub__title">{{ dict.get(name) }}</div>        <fieldset class="ozone__fieldset">            <legend class="ozone__fieldset__collapse__toggle">                <i class="icon icon-20 icon-user-add"></i>                <span class="ozone__fieldset__label">{{ dict.get(name) }}</span>            </legend>            <div class="ozone__fieldset__collapse">                {% for k, v in x %}                    {% for w, y in v %}                        {{ render_item(y, w) }}                    {% endfor %}                {% endfor %}            </div>        </fieldset>    {% elif not x.type or x.type == \'hidden\'%}        {% if x.type == \'hidden\' %}        <input type="hidden" value="{{x.value}}" id="{{name}}" name="{{x.name if x.name else \'Contact[\'+name+\']\' }}" />        {% endif %}    {% else %}        <div class="card__item">            <label class="ozone__input__label">{{ dict.get(name) }}</label>            {% if x.type == \'text\' %}                <input id="{{name}}" class="ozone__input__rounded" placeholder="{{x.placeholder}}" name="{{x.name if x.name else \'Contact[\'+name+\']\' }}" />            {% elif x.type == \'textarea\' %}                <textarea id="{{name}}" class="ozone__input__rounded" name="{{x.name if x.name else \'Contact[\'+name+\']\' }}" rows=\'6\' placeholder="{{x.placeholder}}"></textarea>            {% elif x.type == \'radio\' %}                <div class="ozone__input">                    {% for index, value in x[\'values\'] %}                    <span class="ozone__radiobutton">                        <input id="radio_{{index}}" type="radio" name="{{x.name if x.name else \'Contact[\'+name+\']\' }}" value="{{index}}" />                        <label for="radio_{{index}}" class="ozone__radiobutton__label">{{ value }}</label>                    </span>                    {% endfor %}                </div>            {% elif x.type == \'date\' %}                <div class="ozone__input">                    <select name="day_of_birth" id="day_of_birth" class="drop-down-selector-mobile">                    {% for i in range(32) %}                        <option value="{{ i }}">                            {% if i > 0 and i < 10 %}                              0{{ i }}                            {% elif i == 0 %}                            {% else %}                              {{ i }}                            {% endif %}                        </option>                    {% endfor %}                    </select>                    <select name="month_of_birth" id="month_of_birth" class="drop-down-selector-mobile">                    {% for i in range(13) %}                        <option value="{{ i }}">                            {% if i > 0 and i < 10 %}                              0{{ i }}                            {% elif i == 0 %}                            {% else %}                              {{ i }}                            {% endif %}                        </option>                    {% endfor %}                    </select>                    <select name="year_of_birth" id="year_of_birth" class="drop-down-selector-mobile">                        <option value="0"></option>                    {% for i in range(1909, 2019) | reverse -%}                        <option value="{{ i }}"> {{ i if i > 0 else \'\' }} </option>                    {%- endfor %}                    </select>                </div>            {% elif x.type == \'email\' %}                <input id="{{name}}" type="email" class="ozone__input__rounded" placeholder="{{x.placeholder}}" name="{{x.name if x.name else \'Contact[\'+name+\']\' }}" />            {% endif %}        </div>    {% endif %}{%-endmacro %}<div id="contact-edit" class="contact-new-edit">    <div class="card__header">        <button class="ozone_button light return" data-event="{{\'viewContact\' if command else \'contactLeave\' }}">            <i class="icon icon-16 icon-chevron-left-light"></i>        </button>        {{title}}        <button class="ozone_button light save" data-command="{{\'update\' if command else \'save\' }}">            {{ dict.get(\'save\') }}        </button>    </div>    <div class="card__body">        <form>            {% set contact_items = {                "contact_id":{"type":"hidden"},                "default_emailaddress":{                    "type":"email",                    "name":"Contact[emailAddresses][" + id + "][address]"                },                "email_address_id":{                    "type":"hidden",                    "name":"Contact[emailAddresses][" + id + "][emailaddress_id]",                    "value":"0"                },                "default_emailaddress_id":{                    "type":"hidden",                    "name":"Contact[defaultEmailAddress][emailaddress_id]",                    "value":"0"                },                "first_name":{"type":"text"},                "middle_name":{"type":"text"},                "last_name":{"type":"text"},                "personal_data":{                    "type":"group",                    "items":{                        "nickname":{"type":"text"},                        "notes":{"type":"textarea"},                        "gender":{                            "type":"radio",                            "values":{                                "M":"masculino",                                "F":"feminino"                            }                        },                        "date_of_birth":{"type":"date"},                        "home_address":{"type":"text"},                        "home_city":{"type":"text"},                        "home_state":{"type":"text"},                        "home_zip":{"type":"text"},                        "home_phone":{"type":"text"},                        "home_mobile":{"type":"text"},                        "home_fax":{"type":"text"},                        "url":{"type":"text"}                    }                },                "professional_information":{                    "type":"group",                    "items":{                        "work_company":{"type":"text"},                        "work_dept":{"type":"text"},                        "work_address":{"type":"text"},                        "work_city":{"type":"text"},                        "work_state":{"type":"text"},                        "work_zip":{"type":"text"},                        "work_country":{"type":"text"},                        "work_phone":{"type":"text"},                        "work_mobile":{"type":"text"},                        "work_fax":{"type":"text"}                    }                }            } %}            {% for key, val in contact_items %}                {{ render_item(val, key) }}            {% endfor %}        </form>    </div>    <div class="card__footer">        <div class="card__footer__right">            <button class="ozone_button light" data-command="cancel">{{ dict.get("cancel") }}</button>            <button class="ozone_button" data-command="{{\'update\' if command else \'save\' }}">{{ dict.get("save") }}</button>        </div>    </div></div>',contactsListItem:'{% for contact in contacts %}    {% if contact.type == \'C\' %}    <tr id="contact">        <td class="checkbox">            <div class="ozone__checkbox">                <input type="checkbox" id="contact-{{contact.id}}" value="{{contact.id}}"/>                <label for="contadressact-{{contact.id}}" class="ozone__checkbox__label"></label>            </div>        </td>        <td id="contact-name">            <b>{{contact.fullName}}</b>        </td>        <td id="contact-address">            {{contact.ADDRESS}}        </td>        \x3c!--        <td class="buttons">            <i class="icon-erase icon icon-16 icon-close-gray-filled" title="{{dic.get(\'deletar\')}}" data-id="{{contact.id}}"></i>        </td>        --\x3e    </tr>    {% endif %}{% endfor %}',contactListPaginate:'<ul id="contactPaginate" class="ozone__pagination contact-pagination">    {% for contact in contactList %}        <li class="{{\'active\' if loop.first else \'\' }}">            <button data-index-page="{{ loop.index }}">{{ loop.index }}</button>        </li>    {% endfor %}</ul>',group:'<div class="card__header">    <button class="ozone_button light return" data-event="{{\'viewContactGroup\' if edit else \'contactLeave\' }}">        <i class="icon icon-16 icon-chevron-left-light"></i>    </button>    {{ dic.get("edit group") if edit else dic.get("new group") }}    <button class="ozone_button light save" data-command="{{\'update\' if edit else \'save\' }}">        {{dic.get(\'save\') if edit else dic.get(\'save\') }}    </button></div><div class="card__body view_contacts">    <div class="card__item">        <label class="ozone__input__label">{{dic.get("Nome do grupo")}}</label>        <input id="groupName" class="ozone__input__rounded" placeholder="" name="groupName">    </div>    <label class="ozone__input__label">{{dic.get("Selecionar contatos")}}</label>    <div class="card__item__group">        <div id="list" class="ozone__group"></div>        <div  class="ozone__group__separator"></div>        <label class="ozone__input__label contatos_selecionados">{{dic.get("contatos_selecionados")}}</label>        <ul id="list_group"  class="ozone__group__list"></ul>    </div></div><div class="card__footer">    <div class="card__footer__right">        <button class="ozone__button light" data-command="cancel">{{dic.get("cancelar")}}</button>        <button class="ozone__button" data-command="{{\'update\' if edit else \'save\' }}">{{dic.get(\'save\') }}</button>    </div></div>',listGroup:'{% for group in groups %}<tr class="line_separator">    <td class="checkbox">        <div class="ozone__checkbox">            <input type="checkbox" id="group-{{group.CONTACTGROUP_ID}}" value="{{group.CONTACTGROUP_ID}}" />            <label for="group-{{group.CONTACTGROUP_ID}}" class="ozone__checkbox__label"></label>        </div>    </td>    <td style="padding: 10px 0;">        <b>{{group.NAME}}</b>        <br>        {{group.NUM_CONTACTS}} {{ dic.get("contatos") if group.NUM_CONTACTS > 1 else dic.get("contato") }}    </td></tr>{% endfor %}',emptyListContactGroup:"<div id=\"emptyContactGroupMessage\" class=\"emptyWarnings\">    {% if value == 'contact' %}        <span>{{ dict.get('emptyContactList') }}</span>     {% elif value == 'group' %}        <span>{{ dict.get('emptyGroupList') }}</span>     {% endif %}</div>",mailContent:'<div class="container-empty-message">    <p class="empty-message">        {{ dict.get(\'empty_message\') }}    </p></div><div id="mailViewerContentHeader" class="mail-viewer-content-header">    <div class="header">        <div class="icons clearfix">            <div class="navigation">                <button class="btn-back-list" title="{{ dict.get(\'return\') }}">                    <i class="icon icon-16 icon-chevron-left-light"></i>                </button>                <a href="javascript:void(0)" title="{{ dict.get(\'prev_message\') }}" class="previous hide-in-mobile">                    <i class="icon icon-16 icon-chevron-up-light"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'next_message\') }}" class="next hide-in-mobile">                    <i class="icon icon-16 icon-chevron-down-light"></i>                </a>            </div>            <div class="actions">                <a href="javascript:void(0)" title="{{ dict.get(\'responder\') }}">                    <i class="icon icon-16 icon-reply"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'responderTodos\') }}">                    <i class="icon icon-16 icon-reply_all icon-reply-all"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'encaminhar\') }}">                    <i class="icon icon-16 icon-forward"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'imprimir\') }}" class="hide-in-mobile">                    <i class="icon icon-16 icon-print"></i>                </a>                <a href="javascript:void(0)" title="{{ dict.get(\'mark_as_unread\') }}" class="hide-in-mobile">                    <i class="icon icon-16 icon-unread"></i>                </a>                <a class="mail-viewer__icon__phishing" href="javascript:void(0)" title="{{ dict.get(\'mark_as_fraud\') }}">                    <i class="icon icon-16 icon-phishing"></i>                </a>                <a class="mail-viewer__icon__spam hide-in-mobile" href="javascript:void(0)" title="{{ dict.get(\'spam\') }}">                    <i class="icon icon-16 icon-spam"></i>                </a>                <a class="mail-viewer__icon__notSpam hide-in-mobile" href="javascript:void(0)" title="{{ dict.get(\'naoESpam\') }}">                    <i class="icon icon-16 icon-spam-no"></i>                </a>                <a class="mail-viewer__icon__trash" href="javascript:void(0)" title="{{ dict.get(\'trash\') }}">                    <i class="icon icon-16 icon-trash"></i>                </a>                <a class="mail-viewer__icon__delete hide-in-mobile" href="javascript:void(0)" title="{{ dict.get(\'delete\') }}">                    <i class="icon icon-16 icon-close-gray-filled"></i>                </a>                <select class="move-to-folder drop-down-selector-mobile">                    <option selected="selected" default value="">                        {{ dict.get(\'moverPara\') }}...                    </option>                </select>            </div>        </div>    </div>    <div id="mailSubjectContent" class="subject">        <h3 class="subject__truncate">            {% if hasAttach %}                <i class="icon-attachment"></i>            {% endif %}            {{subject}}            <span id="mail-date" class="mail-date">{{ receivedComplete }}</span>        </h3>    </div>    <div id="mailContatContent" class="contact">        <div class="mail-info-sender">            <div class="from">                <strong>{{ dict.get(\'de\') }}:</strong>                <span class="from__name"></span>                <span id="address" class="from__address"></span>            </div>            <div id="composerUserActions" class="contact-actions">                <a class="contact-add-button" href="javascript:void(0)" title="{{ dict.get(\'adicionarContato\') }}">                    <i class="icon icon-16 icon-user-add"></i>                </a>                <a class="contact-unblock-button" href="javascript:void(0)" title="{{ dict.get(\'desbloquearContato\') }}">                    <i class="icon icon-16 icon-user-block-red"></i>                </a>                <a class="contact-block-button" href="javascript:void(0)" title="{{ dict.get(\'bloquearContato\') }}">                    <i class="icon icon-16 icon-user-block"></i>                </a>            </div>        </div>        <div id="mailInfoContact" class="mail-viewer__to mail-info-contact">                <p class="info-contato">                    <strong>{{ dict.get(\'para\') }}:</strong>                    <span class="to"></span>                </p>                <p class="info-contato">                    <strong>{{ dict.get(\'cc\') }}:</strong>                    <span class="cc"></span>                </p>                <p class="info-contato">                    <strong>{{ dict.get(\'bcc\') }}:</strong>                    <span class="bcc"></span>                </p>            <div class="buttons">                <button id="getMailHeader" class="btn-msg-headers">                    {{ dict.get(\'seeHeaders\') }}                </button>                <button id="seemoreInfoContact" class="btn-seemore-mail-info-contact">                    {{ dict.get(\'seeMoreDetails\') }}                </button>            </div>        </div>    </div>    <div class="disclaimer-download-images">        <p>            <i class="icon icon-important icon-12"></i>            {{ dict.get(\'imagens_bloqueadas\') }}        </p>        <div class="disclaimer-confirm-btn-content">            <a class="act-show" href="javascript:void(0)">                <strong class="act-show">{{ dict.get(\'download_images\') }}</strong>            </a>            <a class="act-showalways" href="javascript:void(0)">                <strong class="act-showalways"> {{ dict.get(\'download_images_always\') }} </strong>            </a>        </div>    </div>    <div class="disclaimer-read-confirm">        <p>            <i class="icon icon-important icon-12"></i>           {{ dict.get(\'sender_readconfirm\') }}        </p>        <div class="disclaimer-confirm-btn-content">            <a class="act-confirm" href="javascript:void(0)">                <strong class="act-confirm">{{ dict.get(\'sim\') }}</strong>            </a>            <a class="act-dontconfirm" href="javascript:void(0)">                <strong class="act-dontconfirm">{{ dict.get(\'nao\') }}</strong>            </a>            <a class="act-notnow" href="javascript:void(0)">                <strong class="act-notnow">{{ dict.get(\'not_now\') }}</strong>            </a>        </div>    </div></div><div id="mailContent" class="mail-content">    <div id="phishingLinkScanContent"></div>    <iframe id="bodyMailViewer" class="body-mail-viewer"></iframe></div>',search:'<div class="wrap__tooltip autosugest__search"><input class="autosugest__search__input" type="text" id="webmail-search" value="" placeholder="{{dic.get(\'filtrar_maillist\') }}" autocomplete="off"><label for="webmail-search" class="search_gray_light16 autosugest__icon searchField__icon"></label><div class="tooltip tooltip--top--left--white"><ul class="autosugest"></ul></div></div>',sugest:'{% for contact in contacts %} <li class="autosugest__item" data-value="{{contact.name}}">{{contact.text}}</li>{% endfor %}',windowPopUp:'<!DOCTYPE html><html lang="{{ language }}" xml:lang="{{ language }}">\t<head>\t\t<title>{{message.subject}}</title>\t\t<meta http-equiv="X-UA-Compatible" content="IE=Edge">\t\t<meta charset="utf-8">\t\t{% for item in styleSheetList %}\t\t    {% if item.href %}\t\t        <link type="{{item.type}}" rel="stylesheet" href="{{item.href}}">\t\t    {% endif %}\t\t{% endfor %}\t\t<style type="text/css">\t\t\t@media (touch-enabled),\t\t\t(-webkit-touch-enabled),\t\t\t(-moz-touch-enabled),\t\t\t(-o-touch-enabled),\t\t\t(-ms-touch-enabled),\t\t\t(zaz-touch-identifier) {\t\t\t\t#zaz-touch-identifier {\t\t\t\t\ttop:9px;\t\t\t\t\tposition:absolute;\t\t\t\t}\t\t\t}\t\t\thtml,\t\t\tbody {\t\t\t\tbackground-color: #fff;\t\t\t}\t\t\t.card.composer-undock,\t\t\t.card.mail-undock {\t\t\t\tmargin: 0;\t\t\t}\t\t</style>\t</head>\t<body>\t\t<div id="mail-viewer">\t\t\t<div id="mailviewerContent" class="mail-viewer mail-undock empty">\t\t\t    {{ mailContent }}\t\t\t</div>\t\t</div>\t\t<div id="mail-composer" class="card mail-composer composer-undock" style="display: none">\t\t\t<input type="file" multiple="multiple" class="dz-hidden-input" style="visibility: hidden; position: absolute; top: 0px; left: 0px; height: 0px; width: 0px;" id="img-input" accept="image/*"/>\t\t\t<div class="into-composer-content">\t\t\t\t<div class="mail-composer__header header">\t\t\t        <div class="mail-composer__table">\t\t\t            <div class="mail-composer__row input to" data-type="to">\t\t\t                <label class="mail-composer__label">\t\t\t                    {{ dic.get("to") }}\t\t\t                    <div class="tagInput">\t\t\t                      <input class="mail-composer__input" type="hidden" />\t\t\t                      <div class="mail-composer__adressee wrap__tooltip">\t\t\t                          <input type="text" class="tagInput__input"/>\t\t\t                          <div class="tooltip tooltip--top--left--white"></div>\t\t\t                      </div>\t\t\t                    </div>\t\t\t                </label>\t\t\t                <div class="mail-composer__tools">\t\t\t                    <div class="mail-composer__more cc-cco">{{ dic.get(\'cc\') }}/{{ dic.get(\'cco\') }}</div>\t\t\t                    <div class="mail-composer__more wrap__tooltip ">\t\t\t                        {{ dic.get("more") }}\t\t\t                        <div class="tooltip tooltip--top--right--white--auto">\t\t\t                            <ul class="lst-default">\t\t\t                                <li class="mail-composer__more__item">\t\t\t                                    <input name="Message[envelope][return-receipt-to]" value="true" id="Message_envelope_return-receipt-to" type="checkbox" class="mail-composer__more__item__check">\t\t\t                                    <label for="Message_envelope_return-receipt-to" class="mail-composer__more__item__label">{{ dic.get("Confirmação de leitura") }}</label>\t\t\t                                </li>\t\t\t                                <hr style="margin: 10px 0;" />\t\t\t                                {% for priority in [\'high\', \'normal\', \'low\'] %}\t\t\t                                <li class="mail-composer__more__item">\t\t\t                                    <input type="radio" id="priority_{{ priority }}" name="Message[envelope][priority]" value="{{ priority }}" class="mail-composer__more__item__check" />\t\t\t                                    <label for="priority_{{ priority }}" class="mail-composer__more__item__label">{{ dic.get("priority_"+priority) }}</label>\t\t\t                                </li>\t\t\t                                {% endfor %}\t\t\t                            </ul>\t\t\t                        </div>\t\t\t                    </div>\t\t\t                </div>\t\t\t            </div>\t\t\t        </div>\t\t\t        <div class="mail-composer__table">\t\t\t            <div class="mail-composer__row input cc" data-type="cc">\t\t\t                <label class="mail-composer__label">\t\t\t                    {{ dic.get("cc") }}\t\t\t                    <div class="tagInput">\t\t\t                      <input class="mail-composer__input" type="hidden" />\t\t\t                      <div class="mail-composer__adressee wrap__tooltip">\t\t\t                          <input type="text" class="tagInput__input"/>\t\t\t                          <div class="tooltip tooltip--top--left--white"></div>\t\t\t                      </div>\t\t\t                    </div>\t\t\t                </label>\t\t\t            </div>\t\t\t        </div>\t\t\t        <div class="mail-composer__table">\t\t\t            <div class="mail-composer__row input cco bcc" data-type="cco">\t\t\t              <label class="mail-composer__label">\t\t\t                  {{ dic.get("cco") }}\t\t\t                  <div class="tagInput">\t\t\t                    <input class="mail-composer__input" type="hidden" />\t\t\t                    <div class="mail-composer__adressee wrap__tooltip">\t\t\t                        <input type="text" class="tagInput__input"/>\t\t\t                        <div class="tooltip tooltip--top--left--white"></div>\t\t\t                    </div>\t\t\t                  </div>\t\t\t              </label>\t\t\t            </div>\t\t\t        </div>\t\t\t        <div class="mail-composer__table">\t\t\t            <div class="mail-composer__row subject">\t\t\t                <label class="mail-composer__label">\t\t\t                    {{ dic.get("subject") }}\t\t\t                    <input class="mail-composer__input" type="text" />\t\t\t                </label>\t\t\t            </div>\t\t\t        </div>\t\t\t    </div>\t\t\t    <div id="mail-composer-body" class="body" contenteditable="true"></div>\t\t\t  </div>\t\t    \x3c!-- TINY MCE TEXT EDIT BAR IE10/IE11, Safari <=10 --\x3e\t\t\t<div id="fixedTinymceBarBottom" class="fixed-tinymce-bar-bottom"></div>\t        <div class="card__footer footer">\t            <div class="mail-composer__loadingbar"></div>\t            <div class="attachments hidden">\t                <button class="mail-composer__button ozone__button light">\t                    <i class="icon-24 icon-attachment"></i>\t                    <span>{{ dic.get("anexar") }}</span>\t                </button>\t\t            <a href="javascript:void(0)" class="switch">\t\t                <div class="attachments-count">\t\t                    <span class="attachments-count__value">\t\t                        <i class="icon icon-16 icon-attached"></i>\t\t                        <span>0</span>\t\t                    </span>\t\t                </div>\t\t                <i class="icon-show icon icon-16 icon-chevron-down-light"></i>\t\t                <i class="icon-hide icon icon-16 icon-chevron-up-light"></i>\t\t            </a>\t                <div class="viewer card"></div>\t            </div>\t            <div class="mail-composer__controll">\t                <button class="mail-composer__button ozone__button discard light">{{ dic.get("descartar") }}</button>\t                <button class="mail-composer__button ozone__button cancel light">{{ dic.get("cancelar") }}</button>\t                <button class="mail-composer__button ozone__button save light draft">{{ dic.get("salvarRascunho")}}</button>\t                <button class="mail-composer__button ozone__button send">{{ dic.get("enviar")}}</button>\t            </div>\t        </div>\t\t</div>        <input type="file" multiple="multiple" class="dz-hidden-input" style="visibility: hidden; position: absolute; top: 0px; left: 0px; height: 0px; width: 0px;">\t\t{% for item in tinyMCEScripts %}\t\t<script type="text/javascript" src="{{item.path}}"><\/script>\t\t{% endfor %}\t\t{% for item in dropzoneScripts %}\t\t<script type="text/javascript" src="{{item.path}}"><\/script>\t\t{% endfor %}\t\t{% for item in jqueryScripts %}\t\t<script type="text/javascript" src="{{item.path}}"><\/script>\t\t{% endfor %}\t\t<script type="text/javascript"  src="https://s2.trrsf.com/fe/zaz-cerebro/prd/scripts/zaz.min.js"><\/script><noscript>Script = https://s2.trrsf.com/fe/zaz-cerebro/prd/scripts/zaz.min.js</noscript>\t\t<script type="text/javascript">            var message = window.message;            var api = window.api;            var urlService = window.urlService;            var uploadInput = document.querySelector("input[type=file]");            var sendButton = document.querySelector(".footer button.send");            window.captcha = null;            $.fn.dropzone = function(options) {                return this.each(function() {                    return new Dropzone(this, options);                });            };            window.showCaptcha = function(elementId) {                zaz.use(function (pkg) {                    pkg.require([\'mod.captcha\'], function(ModCaptcha) {                        window.captcha = new ModCaptcha(elementId);                    });                });            };            window.opener.attachmentsZone = $("#mail-composer .card__footer").dropzone({                url: urlService + "?r=Message/saveAttachmentsAjax2",                previewsContainer: window.document.querySelector(".viewer"),                addRemoveLinks: true,                clickable: window.document.querySelector(\'.attachments button\'),                thumbnailWidth: 80,                thumbnailHeight: 80,                init: function() {                    var isMultiple = false;                    this.on("preparingFilesUpload", function(files){                        isMultiple = (files.length > 1);                    });                    this.on("sending", function(file, xhr, data) {                        data.append("Message[envelope][wait-multiple-attachments-save]", isMultiple);                        data.append("Message[envelope][recovery-data]", window.message.getRecoveryData());                        if(this.inlineFlag) {                            data.append("inline", true);                        }                        sendButton.classList.add("disabled");                        data.append("Message[envelope][message-id]", window.getMessageOID());                        document.querySelector(\'.card__footer .attachments button\').classList.add("loading");                    });                    this.on("addedfile", function(file) {                        if(window.uploadType == "inline") {                            this.inlineFlag = true;                        }                        window.uploadType = "";                        uploadInput.multiple = "multiple";                        uploadInput.accept = "*";                        var totalFiles = parseInt($(document.querySelector(\'.attachments .attachments-count span span\')).html()) + 1;                        $(document.querySelector(\'.attachments .attachments-count span span\')).html(totalFiles);                        if (totalFiles > 0) {                            $(document.querySelector(\'.attachments .switch\')).show();                        }                        sendButton.classList.add("disabled");                        $(document.querySelector(\'.mail-composer__loadingbar\')).addClass("lg");                    });                    this.on("drop", function() {                        window.uploadType = "dropzone";                    });                    this.on("uploadprogress", function(progress, percent) {                        $(document.querySelector(\'.mail-composer__loadingbar\')).css("width", percent + "%");                    });                    this.on("queuecomplete", function(argument) {                    \tsendButton.classList.remove("disabled");                        $(document.querySelector(\'.mail-composer__loadingbar\')).removeClass("lg");                        $(document.querySelector(\'.mail-composer__loadingbar\')).css("width", "0");                        $(document.querySelector(\'.card__footer .attachments button\')).removeClass("loading");                        if(isMultiple){                            isMultiple = false;                            $(document.querySelector(\'.footer button.save\')).click();                        }                    });                    this.on("success", function(file, response) {                        response = JSON.parse(response);                        var result = response.models.result;                        sendButton.classList.remove("disabled");                        window.message.setRecoveryData(result.message.uid, result.mailbox.mailbox_id);                        var isArr = Array.isArray(window.message.attachments);                        if(!isArr) {                            window.message.attachments = [];                        }                        if(this.inlineFlag) {                            var attachment = response.models.result.attachment;                            var imgUrl = response.models.result.url;                            if(attachment.isInline) {                                var img = document.createElement("img");                                img.src = imgUrl;                                img.setAttribute("cid",attachment.cid);                                window.tinyMCE.activeEditor.windowManager.close(window);                                window.tinyMCE.activeEditor.execCommand("mceInsertRawHTML", true, img.outerHTML);                            }                            window.uploadType = "";                        }                        file.mailBoxId = result.mailbox["mailbox_id"];                        file.messageOid = result.message["message-id"];                        file.messageId = result.message.uid;                        file.id = result.attachment["attachment_id"];                        window.message.attachments.push(file);                        this.inlineFlag = false;                    });                    this.on("removedfile", function(attachment, fromUser) {                        if (typeof fromUser !== "boolean") {                            fromUser = false;                        }                        var totalFiles = parseInt($(document.querySelector(\'.attachments .attachments-count span span\')).html()) - 1;                        $(document.querySelector(\'.attachments .attachments-count span span\')).html(totalFiles);                        if (totalFiles === 0) {                            $(document.querySelector(\'.attachments .switch\')).hide();                            $(document.querySelector(\'.attachments .viewer\')).hide();                            $(document.querySelector(\'.attachments\')).addClass(\'hidden\');                        }                        var attachmentExistsInCurrentMsg = (window.message.attachments.hasOwnProperty(attachment.id));                        if (fromUser || (!fromUser && !attachmentExistsInCurrentMsg)) {                            api.New.removeAttachment(attachment, fromUser, window.message.getRecoveryData()).then(function(response){                                if(fromUser){                                    window.message.setRecoveryData(response.i, response.b);                                }                            });                        }                    });                }            });\t\t<\/script>\t</body></html>',formPhishing:'<div class="containerPhishing">    <p class="description"> {{ initPhrase }} </p>    <form id="formPhishing" name="formPhishing">        <p class="destak-pharse"> {{ message }} </p>        <textarea id="phishingBody" name="TalkToUsForm[body]" class="ozone__input__rounded"></textarea>        <div class="wrapper-button">            <button type="submit" value="Enviar" class="ozone__button">Enviar</button>        </div>    </form></div>',toolDropdown:'{% if site.country == \'br\' %}    <a href="https://servicos.terra.com.br/?utm_source=cp-texto&utm_medium=br-mktperf-home-barra&utm_campaign=br-mktperf-loja-scamp-assine0800-home-barra-cp" target="_blank" class="our-services double-line">        conheça nossos serviços        <br>        <strong>0800 777 1234</strong>    </a>    <hr>    <a href="https://central.terra.com.br/?utm_campaign=central4003-home-barra-cp" target="_blank" class="client-atend double-line">        atendimento ao cliente        <br>        <strong>0800 777 9797</strong>    </a>    <hr>{% endif %}{% if site.country == \'br\' and userConfiguration.use_ozone != \'forced\' %}<a href="javascript:void(0)" class="change-version">{{i18n.changeVersion}}</a><hr>{% endif %}<a href="javascript:void(0)" class="feedbacks">{{i18n.feedback}}</a><hr><a href="javascript:void(0)" class="help">{{i18n.cleaning}}</a><hr><a href="javascript:void(0)" class="help-faq">{{i18n.helpLink}}</a><hr><a href="javascript:void(0)" class="logout">{{i18n.logout}}</a>'},dictionaries:["webmail","feedback"],setup:function(__static,__proto,__shared){pkg.utils.merge(STATIC_PRIVATE.mods,__shared.dependencies.mod,__shared.dependencies.app),$=__shared.dependencies["mod.jQuery"],webLocation=new pkg.utils.WebLocation(location.href)},init:function(data,__shared){function changeController(value){var content=$("#customPage");value?(content.find("thead tr").eq(0).hide(),content.find("thead tr").eq(1).show()):(content.find("thead tr").eq(0).show(),content.find("thead tr").eq(1).hide())}function selectAllMessages(){$("#customPage").find("tbody .checkbox input[type=checkbox]").prop("checked",!0).trigger("change")}function deselectAllMessages(){$("#customPage").find("tbody .checkbox input[type=checkbox]:checked").prop("checked",!1).trigger("change")}function checkDomain(domain){var re;return/^([a-zA-Z0-9]+\.)+([a-zA-Z0-9]{2,})$/i.test(domain)}function checkEmail(email){var re;return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(email)}function populate(frm,data){$.each(data,function(key,obj){var value=obj,obj=key.replace(/\//gi,"_"),$ctrl=$("#"+obj,frm),userConfDateFormat=window.userConfiguration.dateFormat,tmpDateFormat="%e/%m/%y",paramDateFormat="/params/dateFormat";switch("/params/mailview_panel_orientation"===key&&null===value&&(value="1"),key===paramDateFormat&&"%e/%m/%y"===userConfDateFormat&&(userConfDateFormat=userConfDateFormat.replace(/e/i,"d"),$ctrl.attr("type",userConfDateFormat)),$ctrl.attr("type")){case"text":case"hidden":$ctrl.val(value);break;case"radio":case"checkbox":$ctrl.each(function(){$(this).attr("value")==value&&$(this).attr("checked",value)});break;default:var valueDateFormat=key===paramDateFormat?userConfDateFormat:value;$ctrl.val(valueDateFormat)}})}var PUBLIC=this,PRIVATE={actualPage:{},movedMessages:{},contacts:[],target:data.target,isMailList:!1,feedback:{},urlService:data.urlService||window.urlService||"/ws/index.php",ozoneIsStarted:!1},Ozone={callbacks:{}},Analytics=(pkg.context.page.set("webmailScope",PUBLIC),pkg.utils.make.observable(PRIVATE.contacts),PUBLIC.language="br"===pkg.context.page.get("country")?"pt_BR":"es",PUBLIC.phishingReport={},PUBLIC.UserInfo={callbacks:{}},PUBLIC.browser={name:pkg.context.browser.getName(),version:parseInt(pkg.context.browser.getVersion())},PUBLIC.pathTinyMCE="https://s1.trrsf.com/fe/zaz-3rd/tinymce/",PUBLIC.idTinyMCE="mod.tinyMCE","Internet Explorer"===PUBLIC.browser.name&&PUBLIC.browser.version<11&&(PUBLIC.idTinyMCE="mod.tinyMCE.legacy"),PUBLIC.obj={inbox:{page:"mailList",subpage:{id:"INBOX",name:"br"===pkg.context.page.getCountry()?"Entrada":"Buzón"}}},PUBLIC.webmailScope={webmail:PUBLIC,main:{window:window,isPopUp:!1},popUps:{}},PUBLIC.currentFolder={index:0,id:"INBOX",name:"Buzón",imapId:"inbox"},PUBLIC.lastReceivedMsgsCounter=0,PUBLIC.lastSearch="",PUBLIC.windowIsVisible=!0,PRIVATE.buttons={tools:document.getElementById("containerToolDropdown"),headerChangeLayout:document.getElementById("btnHeaderChangeLayout"),newMail:document.getElementById("btnOzoneNewMail")},PRIVATE.advisor=PRIVATE.target.querySelector("#advisor"),PRIVATE.api=new __shared.dependencies["app.Api"]({controller:PUBLIC,url:PRIVATE.urlService}),__shared.dependencies["mod.Analytics"]),Modal=__shared.dependencies["app.Modal"],ozoneHeader=new __shared.dependencies["app.Header"]({target:PRIVATE.target.querySelector("#header")}),mailViewer=new __shared.dependencies["app.MailViewer"]({controller:PUBLIC,scope:PUBLIC.webmailScope.main,target:PRIVATE.target.querySelector("#mail-viewer"),api:PRIVATE.api}),mailList=new __shared.dependencies["app.MailList"]({controller:PUBLIC,scope:PUBLIC.webmailScope.main,target:PRIVATE.target.querySelector("#mail-list")}),mailComposer=new __shared.dependencies["app.MailComposer"]({controller:PUBLIC,webmailScope:PUBLIC,scope:PUBLIC.webmailScope.main,target:PRIVATE.target.querySelector("#mail-composer"),service:PRIVATE.urlService}),sidebar=new __shared.dependencies["app.Sidebar"]({controller:PUBLIC,scope:PUBLIC.webmailScope.main,api:PRIVATE.api,target:PRIVATE.target.querySelector("#sidebar")}),content,form,list,folders,commands;function commandListener(e){var element,filterId,element,command;return-1===content.className.search(/(\s|^)filters(\s|$)/)||(filterId=(element=e.target).getAttribute("data-id"),command=(element=element.getAttribute("data-command"))&&commands[element],console.log(element),!command)||(command.call(null,filterId),e.preventDefault(),e.stopPropagation(),!1)}function rendergetEcpConfigs(){PRIVATE.api.New.getEcpConfigs().then(function(result){render(result.filters.list);var el=document.getElementById("activateChangeFor");el&&(el.checked=result.filters.enabled)})}function render(_list,f){var f,_list,directoryOption,f;folders=folders||f,_list?(list=_list,(f={}).list=_list,list.forEach(function(filter,idx,list){list[filter.hash]=filter}),PRIVATE.renderPartialContent("configFilterView",{dict:PUBLIC.l10n}),_list=document.getElementById("filterlist-content"),directoryOption=document.getElementById("filter-target"),f={option:PUBLIC.templates.get("filterDir").render({dic:PUBLIC.l10n,filters:f,folders:folders}),list:PUBLIC.templates.get("filterItem").render({dic:PUBLIC.l10n,filters:f,folders:folders})},directoryOption.innerHTML=f.option,_list.innerHTML=f.list,form=content.querySelector(".filter-form")):rendergetEcpConfigs()}PRIVATE.clearCustomPage=function(){var customPage=document.getElementById("customPage");$("#customPage").off(),customPage.classList.remove("configs","contacts","help-faq"),customPage.innerHTML=""},PRIVATE.renderPartialContent=function(strTplName,objData){var objData=objData||{},strTplName=PUBLIC.templates.get(strTplName).render(objData);document.getElementById("customPage").innerHTML=strTplName},PRIVATE.bindReturnEventCustomPage=function(){var btnHeaderReturn=document.querySelector("#customPage .card__header .return");btnHeaderReturn&&btnHeaderReturn.addEventListener("click",function(){var eventAttribute=btnHeaderReturn.getAttribute("data-event");eventAttribute&&PUBLIC.trigger(eventAttribute,!0)},!0)},PRIVATE.ContactsPanel={},PRIVATE.contactSizeSlice=125,PRIVATE.contactList=[],PRIVATE.contactEditInfo={},PRIVATE.contactListPaginate=[],PRIVATE.contactView=null,PRIVATE.ContactsPanel.resetContactAttributes=function(){PRIVATE.contactEditInfo={},PRIVATE.contactListPaginate=[],PRIVATE.contactView=null},PRIVATE.ContactsPanel.clearPageEvents=function(){PRIVATE.clearCustomPage(),PRIVATE.ContactsPanel.resetContactAttributes()},PRIVATE.ContactsPanel.showContacts=function(page,event){var event;"function"!=typeof PRIVATE.ContactsPanel[page]?console.error("PRIVATE.ContactsPanel["+page+"] should be a function"):(PRIVATE.ContactsPanel.clearPageEvents(),"popstate"!==event&&PUBLIC.trigger("pageChange",{page:"contacts",subpage:page}),(event=document.getElementById("customPage")).className="card contacts",event.style.display="block",PRIVATE.buttons.headerChangeLayout.style.visibility="hidden",sidebar.resetClassFlag(),sidebar.setClassFlag("flag-contact"),$("#header input.autosugest__search__input").val("").attr("placeholder",PUBLIC.l10n.get("filtrar_contacts")),$("#header .autosugest__search").show(),$("#mail-list:parent").parent().hide(),$("#mail-composer").hide(),PRIVATE.ContactsPanel[page]&&($("#sidebar .contacts .active").removeClass("active"),$("#sidebar .contacts [data-target="+page+"]").addClass("active"),$("#tools .tool.active").removeClass("active"),$("#tools .tool.contacts").addClass("active"),PRIVATE.ContactsPanel[page]().then(function(){PRIVATE.bindReturnEventCustomPage()})))},PRIVATE.renderPaginationContactList=function(index){var customPageTbody=document.querySelector("#customPage tbody"),tplContactsListItem,index=PUBLIC.templates.get("contactsListItem").render({dic:PUBLIC.l10n,contacts:PRIVATE.contactListPaginate[index||0]});customPageTbody&&(customPageTbody.innerHTML=index)},PRIVATE.generateContactPagination=function(contactList){var paginationTemplate,contactList,paginationContent=document.getElementById("containerContactPaginate");contactList.length<2?paginationContent.innerHTML="":(PRIVATE.contactView&&PRIVATE.contactView.classList.add("has-pagination"),contactList=(paginationTemplate=PUBLIC.templates.get("contactListPaginate")).render({contactList:contactList}),paginationContent.innerHTML=contactList)},PRIVATE.resetScrollContactContent=function(){PRIVATE.contactView&&(PRIVATE.contactView.querySelector(".ozone__table__wrap").scrollTop=0)},PRIVATE.renderAllPageContact=function(listContacts){PRIVATE.contactListPaginate=PRIVATE.generateContactPaginate(listContacts),PRIVATE.renderPaginationContactList(0),PRIVATE.generateContactPagination(PRIVATE.contactListPaginate),PRIVATE.contactView&&PRIVATE.contactView.classList.remove("loading")},PRIVATE.renderEmptyGroupContact=function(value){PRIVATE.renderPartialContent("emptyListContactGroup",{dict:PUBLIC.l10n,value:value})},PRIVATE.getSizePaginateContactList=function(){return PRIVATE.contactListPaginate.length},PRIVATE.generateContactPaginate=function(lst){for(var lst=lst.slice(0),listPagination=[],countLoop=0,maxLoop=500;lst.length&&!(500<=countLoop);)listPagination.push(lst.slice(0,PRIVATE.contactSizeSlice)),lst=PRIVATE.deleteContactsFirstSlice(lst),countLoop++;return listPagination},PRIVATE.ContactsPanel.my_contacts=function(){var content=$("#customPage");return Analytics.header.contact(),PRIVATE.renderPartialContent("contactAndGroupView",{no_contacts:"no_contacts",dict:PUBLIC.l10n,tipo:PUBLIC.l10n.get("meusContatos")}),PRIVATE.contactView=document.querySelector("#contactAndGroupView"),PRIVATE.contactView&&PRIVATE.contactView.classList.add("loading"),content.on("click","tbody tr:not(.checkbox, i)",function(e){"INPUT"!==e.target.tagName&&PRIVATE.ContactsPanel.edit_contact($(this).find("input")[0].value)}),content.on("click",".mail-list__controll__trash",function(e){e.preventDefault();for(var ozoneTable,contactCheckbox=document.querySelector(".ozone__table__tbody").querySelectorAll('input[type="checkbox"]'),contactCheckboxLen=contactCheckbox.length,qtdContactIsMarked=0,e={},pharse,arrTranslate=[[PUBLIC.l10n.get("sim")],[PUBLIC.l10n.get("nao")]],i=0;i<contactCheckboxLen;i++)contactCheckbox[i].checked&&qtdContactIsMarked++;e.btn1=function(){var inputChecked,inputCheckedMapped=content.find("tbody .checkbox input[type=checkbox]:checked").toArray().map(function(element,index){return element.value});PRIVATE.api.New.deleteContact(inputCheckedMapped).then(function(){content.find("tbody .checkbox input[type=checkbox]:checked").parents("tr").remove(),content.find("thead .checkbox input[type=checkbox]:checked").each(function(index,element){element.checked=!1}).removeAttr("checked"),changeController(0<content.find("tbody .checkbox input[type=checkbox]:checked").length),0==content.find("tbody .checkbox input[type=checkbox]").length&&PRIVATE.renderEmptyGroupContact("contact")}).catch(function(err){console.log("# Not possible to complete DELETE operation!")}),this.close()},e.btn2=function(){this.close()},pharse=qtdContactIsMarked===contactCheckboxLen?PUBLIC.l10n.get("delete_all_contacts"):1===qtdContactIsMarked?PUBLIC.l10n.get("delete_single_contact"):PUBLIC.l10n.get("delete_number_contact").replace(/{n}/gi,qtdContactIsMarked),PUBLIC.showDialog({message:pharse,type:"info",modal:!0,timeout:!1,overlay:!0,innerButtons:e,translateBtn:arrTranslate})}),content.on("click","#contactPaginate button",function(e){var e=e.target,index=e.getAttribute("data-index-page"),buttonList,currentActiveButton;if("BUTTON"===e.nodeName){try{index=parseInt(index),--index}catch(err){index=0}(currentActiveButton=document.querySelector("#contactPaginate li.active")).classList.remove("active"),e.parentElement.classList.add("active"),PRIVATE.renderPaginationContactList(index),PRIVATE.resetScrollContactContent()}}),PRIVATE.api.New.contactList(!0).then(function(response){var numberOfContacts;PRIVATE.contactList=response,0===PRIVATE.contactList.filter(function(element){if("C"===element.type)return element}).length?PRIVATE.renderEmptyGroupContact("contact"):PRIVATE.renderAllPageContact(PRIVATE.contactList),1<PRIVATE.getSizePaginateContactList()&&PRIVATE.contactView&&PRIVATE.contactView.classList.add("has-pagination"),content.on("change","tbody .checkbox input[type=checkbox]",function(e){content.find("tbody .checkbox input[type=checkbox]:checked").length!=content.find("tbody .checkbox input[type=checkbox]").length?content.find("thead .checkbox input[type=checkbox]:checked").each(function(index,element){element.checked=!1}).removeAttr("checked"):content.find("thead .checkbox input[type=checkbox]").each(function(index,element){element.checked=!0}).prop("checked"),changeController(0<content.find("tbody .checkbox input[type=checkbox]:checked").length),e.stopPropagation()}),content.on("change","thead input[type=checkbox]",function(){($(this).is(":checked")?selectAllMessages:deselectAllMessages)()})}),Promise.resolve()},PRIVATE.ContactsPanel.new_contact=function(argument,id){function checkEmail(email){var re;return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(email)}function checkDate(str){var str,month,day,str,date;return"0-0-0"==str||((str=str.match(/(\d{1,2})[- \/](\d{1,2})[- \/](\d{4})/))&&(month=parseInt(str[1],10),day=parseInt(str[2],10),str=parseInt(str[3],10),date=new Date(str,month-1,day))&&date.getTime()?date.getMonth()+1==month&&date.getFullYear()==str&&date.getDate()==day&&date:void 0)}var content=$("#customPage"),commands=(PRIVATE.renderPartialContent("contactNewAndEditView",{command:"update"===argument,dict:PUBLIC.l10n,id:id="update"!=argument?"0":id,title:PUBLIC.l10n.get(argument?"editar_contato":"novo_contato")}),{save:function(argument){var email=content.find("#default_emailaddress").val(),filtered,btn;return checkDate(["month_of_birth","day_of_birth","year_of_birth"].reduce(function(value,element,i){return value+(0==i?"":"-")+content.find("#"+element).val()},""))?checkEmail(email)?0<(filtered=PRIVATE.contactList.filter(function(contact){if(email===contact.ADDRESS)return contact.ADDRESS})).length?PUBLIC.showDialog({message:PUBLIC.l10n.get("email_existing"),type:"error"}):((btn=this).addClass("loading"),void PRIVATE.api.New.newContact(content.find("form").serializeArray().reduce(function(hash,pair){return pair.value&&(hash[pair.name]=pair.value),hash},{})).then(function(argument){PRIVATE.api.New.contactList(!0).then(function(){btn.removeClass("loading"),PRIVATE.ContactsPanel.showContacts("my_contacts"),PUBLIC.showDialog({message:PUBLIC.l10n.get("contatoSalvo"),type:"success"})})})):PUBLIC.showDialog({message:PUBLIC.l10n.get("emailError"),type:"error"}):PUBLIC.showDialog({message:PUBLIC.l10n.get("dateError"),type:"error"})},update:function(argument){var btn=this,email=content.find("#default_emailaddress").val(),emailIsChanged=function(){return email!==PRIVATE.contactEditInfo.email},filtered=PRIVATE.contactList.filter(function(contact){if(email===contact.ADDRESS)return contact.ADDRESS}),mailAddressID;return checkDate(["month_of_birth","day_of_birth","year_of_birth"].reduce(function(value,element,i){return value+(0==i?"":"-")+content.find("#"+element).val()},""))?checkEmail(email)?emailIsChanged()&&0<filtered.length?PUBLIC.showDialog({message:PUBLIC.l10n.get("email_existing"),type:"error"}):(btn.addClass("loading"),void PRIVATE.api.New.updateContact(content.find("form").serializeArray().reduce(function(hash,pair){return pair.value&&(hash[pair.name]=pair.value),hash},{})).then(function(argument){btn.removeClass("loading"),document.body.scrollTop=0,PRIVATE.ContactsPanel.showContacts("my_contacts"),PUBLIC.showDialog({message:PUBLIC.l10n.get("contatoSalvo"),type:"success"})})):PUBLIC.showDialog({message:PUBLIC.l10n.get("emailError"),type:"error"}):PUBLIC.showDialog({message:PUBLIC.l10n.get("dateError"),type:"error"})},cancel:function(argument){PRIVATE.ContactsPanel.my_contacts()}});return content.on("click",".ozone__fieldset__collapse__toggle",function(argument){$(this).siblings(".ozone__fieldset__collapse").toggleClass("show")}),content.on("click",".card__footer__right button",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),Promise.resolve()},PRIVATE.ContactsPanel.edit_contact=function(id){var content=$("#customPage");return PRIVATE.api.New.getContact(id,!0).then(function(contact){var model=contact.models||contact.contact[0];model.default_emailaddress_id=Object.keys(model.emailAddresses)[0],model.email_address_id=Object.keys(model.emailAddresses)[0],PRIVATE.contactEditInfo.email=model.DEFAULT_EMAILADDRESS,PRIVATE.ContactsPanel.new_contact("update",contact.contact[0].DEFAULT_EMAILADDRESS_ID),PRIVATE.bindReturnEventCustomPage(),content.find(".card__footer__right button[data-command=save]").attr("data-command","update"),Object.keys(model).forEach(function(key){var tmp;"DATE_OF_BIRTH"==key&&model[key]&&(("01"<=(tmp=model[key].match(/(\d+)-(\d+)-(\d+)/))[2]||tmp[2]<="09")&&(tmp[2]=tmp[2].replace(/^(0+)(\d)/g,"$2")),("01"<=tmp[3]||tmp[3]<="09")&&(tmp[3]=tmp[3].replace(/^(0+)(\d)/g,"$2")),content.find("#day_of_birth").val(tmp[3]),content.find("#month_of_birth").val(tmp[2]),content.find("#year_of_birth").val(tmp[1])),"GENDER"==key?content.find("[name='Contact[gender]']").each(function(){$(this).attr("value")==model[key]&&$(this).attr("checked",model[key])}):content.find("#"+key.toLowerCase()).val(model[key])})})},PRIVATE.ContactsPanel.exportContactList=function(){PRIVATE.api.New.exportContactList()},PRIVATE.deleteContactsFirstSlice=function(lst){for(var i=0;i<PRIVATE.contactSizeSlice&&lst.length;i++)lst.shift();return lst},PRIVATE.ContactsPanel.contacts_groups=function(page){return new Promise(function(resolve,reject){var content=$("#customPage");PRIVATE.api.New.listGroup().then(function(result){0===result.length?PRIVATE.renderEmptyGroupContact("group"):(PRIVATE.renderPartialContent("contactAndGroupView",{no_contacts:"no_contacts",dict:PUBLIC.l10n,tipo:PUBLIC.l10n.get("grupoDeContatos")}),content.find("tbody").html(PUBLIC.templates.get("listGroup").render({groups:result,dic:PUBLIC.l10n}))),content.on("click","tbody tr:not(.checkbox, i)",function(event){"INPUT"!=event.target.tagName&&PRIVATE.ContactsPanel.edit_group($(this).find("input")[0].value)}),content.on("click",".mail-list__controll__trash",function(event){PRIVATE.api.New.deleteGroup(content.find("tbody .checkbox input[type=checkbox]:checked").toArray().map(function(element,index){return element.value})).then(function(result){content.find("tbody .checkbox input[type=checkbox]:checked").parents("tr").remove(),0==content.find("tbody .checkbox input[type=checkbox]").length&&PRIVATE.renderEmptyGroupContact("group")}).catch(function(){PUBLIC.showDialog({message:PUBLIC.l10n.get("errorGroupDelete"),type:"error",modal:!0,timeout:3e3,overlay:!1,innerButtons:!1})})}),content.on("change","tbody .checkbox input[type=checkbox]",function(e){return content.find("tbody .checkbox input[type=checkbox]:checked").length!=content.find("tbody .checkbox input[type=checkbox]").length?content.find("thead .checkbox input[type=checkbox]:checked").each(function(index,element){element.checked=!1}).prop("checked",!1):content.find("thead .checkbox input[type=checkbox]").each(function(index,element){element.checked=!0}).prop("checked"),changeController(0<content.find("tbody .checkbox input[type=checkbox]:checked").length),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1}),content.on("change","thead input[type=checkbox]",function(){($(this).is(":checked")?selectAllMessages:deselectAllMessages)()}),resolve()}),PRIVATE.ContactsPanel[page]&&($("#sidebar .contacts .active").removeClass("active"),$("#sidebar .contacts [data-target="+page+"]").addClass("active"),$("#tools .tool.active").removeClass("active"),$("#tools .tool.contacts").addClass("active"),PRIVATE.ContactsPanel[page]().then(function(){PRIVATE.bindReturnEventCustomPage()}))})},PRIVATE.ContactsPanel.edit_group=function(id){var content=$("#customPage");PRIVATE.api.New.getGroup(id).then(function(result){result.contacts=result.contacts.map(function(argument){return argument.name=argument.FIRST_NAME||argument.DEFAULT_EMAILADDRESS,argument.id=argument.CONTACT_ID,{contact:argument.name,obj:argument}}),PRIVATE.ContactsPanel.new_group(function(){content.find("#groupName").val(result.NAME)},result.contacts,id).then(function(){PRIVATE.bindReturnEventCustomPage()})})},PRIVATE.ContactsPanel.new_group=function(callback,c,id){var content=$("#customPage"),commands={save:function(){var btn=this;btn.addClass("loading"),PRIVATE.api.New.addGroup(content.find("#groupName").val(),contacts).then(function(argument){var argument=argument.errors;btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get(argument&&(argument.name||argument.contacts)&&(argument.name.length||argument.contacts.length)?argument.name[0]||argument.contacts[0]:"Salvo com sucesso."),type:argument&&(argument.name||argument.contact)&&(argument.name.length||argument.contacts.length)?"error":"success"})})},update:function(){var btn=this;btn.addClass("loading"),PRIVATE.api.New.editGroup(id,content.find("#groupName").val(),contacts).then(function(argument){var argument=argument.errors;btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get(argument&&(argument.name||argument.contacts)&&(argument.name.length||argument.contacts.length)?argument.name[0]||argument.contacts[0]:"Salvo com sucesso."),type:argument&&(argument.name||argument.contacts)&&(argument.name.length||argument.contacts.length)?"error":"success"})})},cancel:function(){PRIVATE.ContactsPanel.contacts_groups()}},contacts=c||[],list;return new Promise(function(resolve,reject){pkg.require(["app.AddAdressee"],function(Adressees){function add(contact){contacts.push(contact),list.append('<li> <i class="delete" data-id="'+contact.obj.id+'"></i>'+(contact.obj.name||contact.obj.fullName||contact.obj.ADDRESS)+"</li>"),list.children("li").sort(function(a,b){var a=$(a).text().toUpperCase(),b=$(b).text().toUpperCase();return a<b?-1:b<a?1:0}).appendTo(list)}PRIVATE.api.New.contactList().then(function(result){content.html(PUBLIC.templates.get("group").render({dic:PUBLIC.l10n,edit:!!c})),list=content.find("#list_group"),contacts.forEach(function(el){add(el)}),callback&&callback.apply(this,[]);var result={contacts:result.filter(function(c){return"C"==c.type})},a;pkg.utils.make.observable(result),new Adressees({target:content.find("#list")[0],contacts:result,command:!1}).on("add",function(contact){contacts.find(function(c){return c.obj.id==contact.obj.id})||add(contact)})}),content.on("click",".delete",function(argument){var id=this.getAttribute("data-id");contacts=contacts.filter(function(el){return el.obj.id!=id}),$(this).parents("li").remove()}),content.on("click"," .ozone__button",function(e){var command=commands[this.getAttribute("data-command")];return command&&command.apply(this),!1}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),resolve()})})},$("#tools .tool.contacts").click(function(){PRIVATE.ContactsPanel.showContacts("my_contacts")}),$("#sidebar").on("click",".contacts .sidebar__item",function(){var attr=this.getAttribute("data-target");attr&&(PRIVATE.ContactsPanel.showContacts(attr),sidebar.hide())}),$("#sidebar .contacts .return").click(function(){PRIVATE.ContactsPanel.clearPageEvents(),PUBLIC.trigger("contactLeave",!0)}),PRIVATE.ConfigurationsPanel={},PRIVATE.ConfigurationsPanel.showUserConfigurations=function(page,event){Analytics.header.configuration();var content=$("#customPage"),event,content;"popstate"!==event&&PUBLIC.trigger("pageChange",{page:"configuration",subpage:page}),PRIVATE.buttons.headerChangeLayout.style.visibility="hidden",sidebar.resetClassFlag(),sidebar.setClassFlag("flag-config"),$("#header .autosugest__search").hide(),$("#mail-list:parent").parent().hide(),$("#mail-composer").hide(),content[0].className="card configs "+page,content.css("display","block"),PRIVATE.ConfigurationsPanel[page]?($("#sidebar .configurations .active").removeClass("active"),$("#sidebar .configurations [data-target="+page+"]").addClass("active"),$("#tools .tool.active").removeClass("active"),$("#tools .tool.configurations").addClass("active"),PRIVATE.ConfigurationsPanel[page]().then(function(){PRIVATE.bindReturnEventCustomPage()})):"change_password"!==page&&"add_mailbox"!==page&&"update_nick"!==page||(event=[[PUBLIC.l10n.get("ok")],[PUBLIC.l10n.get("cancelar")]],PUBLIC.showDialog({overlay:!0,timeout:!(content={btn1:function(){var elementClicked=document.querySelector("li[data-target= "+page+"]");elementClicked&&window.open(elementClicked.getAttribute("data-extra")),this.close()},btn2:function(){this.close(),history.back()}}),type:"default",body:PUBLIC.l10n.get("redirecionadoParaCentral"),innerButtons:content,translateBtn:event}))},PRIVATE.ConfigurationsPanel.general=function(argument){function validate(){var value=content.find(replyTo).val();if(!value||checkEmail(value))return 1;PUBLIC.showDialog({message:PUBLIC.l10n.get("emailError"),type:"error"})}var content=$("#customPage"),replyTo="_params_replyTo",autoTrash="_params_autoTrash",keyDisplay="_params_displayImages",emptyTrash="_params_emptyTrash",layoutStyle="_params_mailview_panel_orientation",fields=["/params/displayName","/params/customizedFrom","/params/replyTo","/params/timeFormat","/params/dateFormat","/params/timeZone","/params/displayImages","/params/autoTrash","/params/emptyTrash","/params/mailview_panel_orientation"],commands={save:function(argument){var defaults={},btn=this,strToReplace="/params/",re=/_(params)_/gi,keyDisplayElement=(btn.addClass("loading"),document.getElementById(keyDisplay)),keyDisplayElement=(keyDisplayElement&&!keyDisplayElement.checked&&(defaults[keyDisplay.replace(re,"/params/")]=0),document.getElementById(autoTrash)),keyDisplayElement=(keyDisplayElement&&!keyDisplayElement.checked&&(defaults[autoTrash.replace(re,"/params/")]=0),document.getElementById(emptyTrash)),keyDisplayElement=(keyDisplayElement&&!keyDisplayElement.checked&&(defaults[emptyTrash.replace(re,"/params/")]=0),document.getElementById(layoutStyle));keyDisplayElement&&keyDisplayElement.checked&&(defaults[layoutStyle.replace(re,"/params/")]=0),validate()&&PRIVATE.api.New.setConfigs(content.find("form").serializeArray().concat(Object.keys(defaults).map(function(value){return{value:defaults[value],name:value}}))).then(function(argument){var errors,msgError;if(btn.removeClass("loading"),argument.errors&&argument.errors.length)(msgError=errors=argument.errors[0]).value&&Array.isArray(errors.value)&&errors.value.length&&(msgError=errors.value[0]),PUBLIC.showDialog({message:msgError,type:"error"});else{for(var i=0;i<argument.models.length;i++){var model=argument.models[i],id=model.KEY.split("/")[2];window.userConfiguration.hasOwnProperty(id)&&(window.userConfiguration[id]=model.VALUE),"mailview_panel_orientation"===id&&(PUBLIC.setLayout(model.VALUE),mailList.calculateMailListFill())}PUBLIC.btnHeaderLayoutChange(),PUBLIC.showDialog({message:PUBLIC.l10n.get("Salvo com sucesso."),type:"success"})}})},notification:function(argument){var btnNotification=document.querySelector(".card.configs #request_notification"),notificationDesc=btnNotification.previousElementSibling.querySelector(".ozone__input__description");window.Notification.requestPermission(function(status){var notifyUserPermission;notificationDesc.classList.remove("success","error"),btnNotification.classList.remove("disabled"),"granted"===status?(notifyUserPermission="granted"===localStorage.getItem("notifyUserPermission")?"denied":"granted",localStorage.setItem("notifyUserPermission",notifyUserPermission),"granted"==notifyUserPermission?(btnNotification.innerHTML=PUBLIC.l10n.get("disable"),notificationDesc.innerHTML=PUBLIC.l10n.get("enabled_notification"),notificationDesc.classList.add("success")):(btnNotification.innerHTML=PUBLIC.l10n.get("enable"),notificationDesc.classList.add("error"),notificationDesc.innerHTML=PUBLIC.l10n.get("user_blocked_notification"))):"denied"===status?(localStorage.setItem("notifyUserPermission","denied"),btnNotification.innerHTML=PUBLIC.l10n.get("enable"),btnNotification.classList.add("disabled"),notificationDesc.innerHTML=PUBLIC.l10n.get("blocked_notification"),notificationDesc.classList.add("error")):(localStorage.setItem("notifyUserPermission","denied"),btnNotification.innerHTML=PUBLIC.l10n.get("enable"),notificationDesc.innerHTML=PUBLIC.l10n.get("nochoice_notification"))})}},btnNotification=(PRIVATE.renderPartialContent("configGeneralView",{dict:PUBLIC.l10n}),document.querySelector(".card.configs #request_notification")),userNotificationPermission=localStorage.getItem("notifyUserPermission"),notificationDesc=btnNotification.previousElementSibling.querySelector(".ozone__input__description"),fields;return PRIVATE.api.New.getConfigs(fields).then(function(result){populate(content,result),content.on("click",".card__footer__right button",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click","#request_notification",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)})}),window.Notification?(fields=window.Notification.permission,notificationDesc.classList.remove("success","error"),btnNotification.classList.remove("disabled"),"granted"===fields?"granted"===localStorage.getItem("notifyUserPermission")?(btnNotification.innerHTML=PUBLIC.l10n.get("disable"),notificationDesc.innerHTML=PUBLIC.l10n.get("enabled_notification"),notificationDesc.classList.add("success")):(btnNotification.innerHTML=PUBLIC.l10n.get("enable"),notificationDesc.innerHTML=PUBLIC.l10n.get("user_blocked_notification"),notificationDesc.classList.add("error")):"denied"===fields?(btnNotification.innerHTML=PUBLIC.l10n.get("enable"),btnNotification.classList.add("disabled"),notificationDesc.innerHTML=PUBLIC.l10n.get("blocked_notification"),notificationDesc.classList.add("error")):(btnNotification.innerHTML=PUBLIC.l10n.get("enable"),localStorage.setItem("notifyUserPermission","denied"),notificationDesc.innerHTML=PUBLIC.l10n.get("nochoice_notification"))):(btnNotification.classList.add("disabled"),btnNotification.innerHTML=PUBLIC.l10n.get("enable"),notificationDesc.innerHTML=PUBLIC.l10n.get("unsupported_notification")),Promise.resolve()},PRIVATE.ConfigurationsPanel.automatic_answer=function(argument){var content=$("#customPage"),commands={save:function(argument){var btn=this,autoReply=!1;btn.addClass("loading");try{var tmp=content.find("form").serializeArray().reduce(function(hash,pair){var regexEmail=/(\S+@\S+.\S+)/gi,regexComma=/(<\S+>)|(,)/gi;if("activateChangeForAutoReply"==pair.name)autoReply=!0;else if("dontReplyTo"==pair.name)pair.value&&(hash[pair.name]=pair.value.replace(/([\r\n\"|\']+)/gm,","));else if("disableAfter"==pair.name)pair.value&&(hash[pair.name]=pair.value.replace(/(\d+)-(\d+)-(\d+)/i,"$3/$2/$1"));else{if(autoReply&&"subject"===pair.name&&""===pair.value)throw"auto_reply_subject_error";if("from"===pair.name&&(regexEmail.test(pair.value)||regexComma.test(pair.value)))throw"auto_reply_from_error";pair.value&&(hash[pair.name]=pair.value)}return hash},{});PRIVATE.api.New.setEcpConfigs(tmp).then(function(argument){btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get("Salvo com sucesso."),type:"success"})})}catch(e){console.log("# [zaz-ui-webmail] error: ",e),btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get(e),type:"error"})}}},fields={activateChangeForAutoReply:{type:"checkbox"},from:{type:"text"},subject:{type:"text"},content:{type:"textarea"},dontReplyTo:{type:"textarea"},disableAfter:{type:"date"}};return PRIVATE.renderPartialContent("configAutoReplyView",{dict:PUBLIC.l10n}),PRIVATE.api.New.getEcpConfigs().then(function(result){content.find("#from").val(result.autoreply.data.from),content.find("#activateChangeForAutoReply").val(1==result.autoreply.enabled?1:0),content.find("#subject").val(result.autoreply.data.subject),content.find("#content").val(result.autoreply.data.content),content.find("#dontReplyTo").val((result.autoreply.data&&result.autoreply.data.dontReplyTo||"").replace(/([\"|\']+)/gm,"").replace(/([\,]+)/gm,"\n")),content.find("#disableAfter").val(result.autoreply.data.disableAfter),content.find("#activateChangeForAutoReply").on("change",function(argument){PRIVATE.api.New.setReply(this.checked)}).prop("checked",result.autoreply.enabled)}),content.on("click",".card__footer__right button",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),Promise.resolve()},PRIVATE.ConfigurationsPanel.signature=function(argument){var content=$("#customPage"),signature_selector="#_params_signature",fields="/params/signature",commands={save:function(argument){var btn=this,tinyMceContent=tinymce.activeEditor.getContent();btn.addClass("loading"),PRIVATE.api.New.setSignature(tinyMceContent).then(function(argument){var argument,msgError;btn.removeClass("loading"),argument.errors&&argument.errors.length?((msgError=argument=argument.errors[0]).value&&Array.isArray(argument.value)&&argument.value.length&&(msgError=argument.value[0]),PUBLIC.showDialog({message:msgError,type:"error"})):PUBLIC.showDialog({message:PUBLIC.l10n.get("Salvo com sucesso."),type:"success"})})}};return PRIVATE.renderPartialContent("configSignatureView",{dict:PUBLIC.l10n}),PRIVATE.api.New.getConfigs([fields]).then(function(result){var _val=result[fields];try{tinymce.get("_params_signature")&&window.tinymce.remove(signature_selector)}catch(e){console.log("# tinymce exception: ",e)}pkg.require([PUBLIC.idTinyMCE],function(){var tb1,tb2,tb1=(document.querySelector(signature_selector).innerHTML=_val,tb2=PUBLIC.isSmallScreen()?(tb1="bold italic fontselect fontsizeselect",""):(tb1="alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | spellchecker","undo redo | styleselect | bold italic subscript forecolor fontselect fontsizeselect"),{selector:signature_selector,language_url:PUBLIC.pathTinyMCE+"langs/"+PUBLIC.language+".js",height:75,entity_encoding:"raw",force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"p",browser_spellchecker:!0,spellchecker_language:PUBLIC.language,spellchecker_languages:"Inglês=en, Português=pt_BR, Espanhol=es",spellchecker_rpc_url:"/ws/index.php?r=message/spellCheck&format=json",skin_url:PUBLIC.pathTinyMCE+"skins/lightgray",plugins:["link image textcolor spellchecker"],toolbar1:tb1,toolbar2:tb2,toolbar:!0,menubar:!1,statusbar:!1,branding:!1,preview_styles:!1});window.tinymce.init(tb1)},function(err){console.error("# Require signature mod.tinyMCE ERR: ",err)}),content.on("click",".card__footer__right button",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)})}),Promise.resolve()},PRIVATE.ConfigurationsPanel.filters=(content=document.getElementById("customPage"),form=content.querySelector(".filter-form"),list={},PUBLIC.isSmallScreen=function(){var allowedRangeList=["xsmall","small","medium"],dataRangeAttribute=pkg.ui.html.getAttribute("data-range"),isToExecute;return!(allowedRangeList.indexOf(dataRangeAttribute)<0)},commands={new:function novo(){var fields=["hash","field","test","action","from","keyword","target","caseSensitive"],btnNovo;form.querySelector(".ozone__list__form-title").innerText=PUBLIC.l10n.get("newFilter").toUpperCase(),form.classList.remove("filter-form"),form.classList.add("open"),document.getElementById("btnNovo").classList.add("filter-form"),fields.map(function(fieldId){var fieldId=document.getElementById("filter-"+fieldId);fieldId&&("INPUT"===fieldId.tagName&&"checkbox"==fieldId.getAttribute("type")?fieldId.checked=!1:"SELECT"===fieldId.tagName?fieldId.selectedIndex=0:fieldId.value="")})},edit:function edit(hash){form.querySelector(".ozone__list__form-title").innerText=PUBLIC.l10n.get("editFilter").toUpperCase(),form.classList.remove("filter-form"),form.classList.add("open");var scroll=document.getElementById("filter-config"),scrollTop=function(){"function"==typeof scroll.scrollTo?scroll.scrollTo(0,0):void 0!==scroll.scrollTop&&(scroll.scrollTop=0)},filter=(PUBLIC.isSmallScreen()&&scrollTop(),list[hash]);filter&&Object.keys(filter).forEach(function(property){var el=form.querySelector("#filter-"+property);if(el)switch(el.tagName.toLowerCase()){case"input":"checkbox"===el.getAttribute("type")?(0==filter.caseInsensitive||"false"==filter.caseInsensitive?$("#filter-caseSensitive").prop("checked",!0):$("#filter-caseSensitive").removeAttr("checked",!0),el.checked?filter[property]=!0:filter[property]=!1):el.value=filter[property];break;case"select":Array.prototype.some.call(el.options,function(el){return el.value===filter[property]&&(el.selected=!0)});break;default:window.console.error("PROBLEM")}})},save:function save(argument){var items=$(form).serializeArray().reduce(function(hash,pair){return"caseSensitive"==pair.name&&(pair.value="on"==pair.value),pair.value&&(hash[pair.name]=pair.value),hash},{caseSensitive:!1});(items.hash?PRIVATE.api.New.editFilter(items):PRIVATE.api.New.addFilter(items)).then(function(argument){render()})},cancel:function cancel(){var btnNovo=document.getElementById("btnNovo");form.classList.remove("open"),form.classList.add("filter-form"),btnNovo.classList.remove("filter-form")},toggle:function toggle(hash){var input=document.getElementById("toggle-"+hash);input&&list[hash]&&(input.checked?(input.checked=!0,PRIVATE.api.New.enableFilter({filters:[hash]}).then(function(result){input.checked=!0,list[hash].enabled=!0}).catch(function(result){input.checked=!1,PUBLIC.showDialog({message:PUBLIC.l10n.get("filterError"),type:"error"})})):(input.checked=!1,PRIVATE.api.New.disableFilter({filters:[hash]}).then(function(result){input.checked=!1,list[hash].enabled=!1}).catch(function(result){input.checked=!0,PUBLIC.showDialog({message:PUBLIC.l10n.get("filterError"),type:"error"})})))},delete:function deleteFilter(hash){"string"==typeof hash&&PRIVATE.api.New.deleteFilter({filters:[hash]}).then(function(result){var el=document.getElementById("filter-"+hash);el&&el.parentElement.removeChild(el)}).catch(function(reason){console.log(reason),PUBLIC.showDialog({message:"error",type:"error"})})},active:function activeFilter(){var input=document.getElementById("activateChangeFor");input&&(input.checked?(input.checked=!0,PRIVATE.api.New.activeFilter(input.checked).then(function(result){input.checked=!0}).catch(function(result){input.checked=!1,PUBLIC.showDialog({message:PUBLIC.l10n.get("filterError"),type:"error"})})):(input.checked=!1,PRIVATE.api.New.activeFilter(input.checked).then(function(result){input.checked=!1}).catch(function(result){input.checked=!0,PUBLIC.showDialog({message:PUBLIC.l10n.get("filterError"),type:"error"})})))},returnFilters:function activeFilter(){PRIVATE.clearCustomPage(),PUBLIC.trigger("configLeave",!0)}},function(argument){return content.removeEventListener("click",commandListener),content.addEventListener("click",commandListener),new Promise(function(resolve,reject){Promise.all([PRIVATE.api.New.getEcpConfigs(),PRIVATE.api.New.getMailBoxes()]).then(function(f){render(f[0].filters.list,f[1]),$("#activateChangeFor").prop("checked",f[0].filters.enabled),resolve()})})}),PRIVATE.ConfigurationsPanel.nickname=function(){var inputAlias,hasOddAlias,content=$("#customPage"),commands=(PRIVATE.renderPartialContent("configNicknameView",{dict:PUBLIC.l10n}),inputAlias=$("#new_alias",content),PRIVATE.api.New.getEcpConfigs().then(function(response){var response=response&&response.alias?response.alias.alias:"";inputAlias&&(hasOddAlias=response,inputAlias.val(response))}),{save:function(){var btn=this,apiAction;btn.addClass("loading"),apiAction=PRIVATE.api.New.deleteAlias,(apiAction=inputAlias.val()?hasOddAlias?PRIVATE.api.New.editAlias:PRIVATE.api.New.newAlias:apiAction)(content.find("form").serializeArray().reduce(function(hash,pair){return pair.value&&(hash[pair.name]=pair.value),hash},{})).then(function(response){btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get("error"!=response.result?"Salvo com sucesso.":response.error_message),type:"error"!==response.result?"success":"error"})}).catch(function(err){btn.removeClass("loading")})}});return content.on("click",".ozone__button",function(e){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),Promise.resolve()},PRIVATE.ConfigurationsPanel.change_passwd_latam=function(){var content=$("#customPage"),inputUser=(PRIVATE.renderPartialContent("configChangePasswdLatamView",{dict:PUBLIC.l10n}),$("#username_latam",content)),inputDominio=$("#input_dominio",content),passwdLatam=document.getElementById("input_passwd_latam"),iconPasswdLatam=document.querySelector("#icon_input_passwd_latam"),newPasswdLatam=document.getElementById("input_new_passwd_latam"),iconNewPasswdLatam=document.querySelector("#icon_input_passwd_latam_new_passwd"),confirmNewPasswdLatam=document.getElementById("input_repeat_new_passwd_latam"),iconConfirmNewPasswdLatam=document.querySelector("#icon_input_passwd_latam_repeat_passwd"),commands=(iconPasswdLatam.addEventListener("click",function(e){passwdLatam.type="text"},!0),iconNewPasswdLatam.addEventListener("click",function(e){newPasswdLatam.type="text"},!0),iconConfirmNewPasswdLatam.addEventListener("click",function(e){confirmNewPasswdLatam.type="text"},!0),PRIVATE.api.New.getUserInfo().then(function(userInfo){var user=userInfo.username,email,userInfo=userInfo.email.split("@");$("#user_latam").html(user),inputDominio.val(userInfo[1]),inputUser.val(user)}),{save:function(){var btn=this,apiAction,apiActionActiveUser,senhaAtual=$("#input_passwd_latam").val(),novaSenha=$("#input_new_passwd_latam").val(),confirmarNovaSenha=$("#input_repeat_new_passwd_latam").val();if(""==senhaAtual||""==novaSenha||""==confirmarNovaSenha)return PUBLIC.showDialog({message:"Por favor ingrese todos los campos.",type:"error"}),!1;if(novaSenha!=confirmarNovaSenha)return PUBLIC.showDialog({message:"Diferentes contraseñas.",type:"error"}),!1;btn.addClass("loading");var showDialogErro=function(){PUBLIC.showDialog({message:"Error al cambiar la contraseña",type:"error"})},apiAction;(0,PRIVATE.api.New.newPasswdLatam)(content.find("form").serializeArray().reduce(function(hash,pair){return pair.value&&(hash[pair.name]=pair.value),hash},{})).then(function(response){btn.removeClass("loading"),void 0===response.result?showDialogErro():PUBLIC.showDialog({message:PUBLIC.l10n.get("error"!=response.result?"Contraseña alterada con éxito.":response.error_message),type:"error"!==response.result?"success":"error"})}).catch(function(err){btn.removeClass("loading"),showDialogErro()})}});return content.on("click",".ozone__button",function(e){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),Promise.resolve()},PRIVATE.ConfigurationsPanel.redirectTableRender=function(params){var content,table;document.querySelector("#customPage").querySelector(".ozone__table tbody").innerHTML=PUBLIC.templates.get("redirectItem").render({emails:params.new_redirect,dic:PUBLIC.l10n})},PRIVATE.ConfigurationsPanel.redirect=function(){var content=$("#customPage"),params={new_redirect:[]},commands=(PRIVATE.renderPartialContent("configRedirectView",{dict:PUBLIC.l10n}),PRIVATE.api.New.getEcpConfigs().then(function(result){var result=result.autoforward.replace(/'/gi,"").split(",");params.new_redirect=result.filter(function(el){return""!==el}),PRIVATE.ConfigurationsPanel.redirectTableRender(params)}),{});return commands.delete=function(){var username=this.getAttribute("data-id"),index=params.new_redirect.indexOf(username);-1<index&&(params.new_redirect.splice(index,1),PRIVATE.api.New.setRedirect(params).then(function(){PUBLIC.showDialog({message:username+" "+PUBLIC.l10n.get("redirectDelete"),type:"success"}),PRIVATE.ConfigurationsPanel.redirectTableRender(params)}).catch(function(err){PUBLIC.showDialog({message:username+" "+PUBLIC.l10n.get("redirectErrorDelete"),type:"error"})}))},commands.save=function(){var btn=content.find(".ozone__button"),el=content.find("#autoforward");btn.addClass("loading"),checkEmail(el.val())?(params.new_redirect.push(el.val()),PRIVATE.api.New.setRedirect(params).then(function(){el.val(""),btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get("Salvo com sucesso."),type:"success"}),PRIVATE.ConfigurationsPanel.redirectTableRender(params)})):(el.focus(),btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get("emailError"),type:"error"}))},content.find("form").on("submit",function(event){event.preventDefault()}),content.on("click",".ozone__button , .delete-redirect",function(e){e.preventDefault();var e=commands[this.getAttribute("data-command")];e&&e.apply(this)}),Promise.resolve()},PRIVATE.ConfigurationsPanel.antispam=function(argument){function render(black,white){var white=PUBLIC.templates.get("spam").render({dic:PUBLIC.l10n,filters:white}),black=PUBLIC.templates.get("spam").render({dic:PUBLIC.l10n,filters:black}),whiteContent=document.getElementById("whitelist-content"),blackContent=document.getElementById("blacklist-content");whiteContent.innerHTML=white,blackContent.innerHTML=black}var table,content=$("#customPage"),commands={whitelist:function(){var val=content.find("#whitelist").val();checkEmail(val)||checkDomain(val)?(PRIVATE.api.New.addAntiSpam("whitelist",val).then(function(argument){content.find("#whitelist").val("")}),PRIVATE.api.New.getAntiSpam().then(function(result){render(result.blackList,result.whiteList)})):PUBLIC.showDialog({message:PUBLIC.l10n.get("digite um email ou dominio valido"),type:"error"})},whitelistdelete:function(){PRIVATE.api.New.removeAntiSpam("whitelist",this.getAttribute("data-id")).then(function(result){PUBLIC.showDialog({message:PUBLIC.l10n.get("removido com sucesso"),type:"success"}),PRIVATE.api.New.getAntiSpam().then(function(result){render(result.blackList,result.whiteList)})})},blacklistdelete:function(){PRIVATE.api.New.removeAntiSpam("blacklist",this.getAttribute("data-id")).then(function(result){PUBLIC.showDialog({message:PUBLIC.l10n.get("removido com sucesso"),type:"success"}),PRIVATE.api.New.getAntiSpam().then(function(result){render(result.blackList,result.whiteList)})})},blacklist:function(){var val=content.find("#blacklist").val();checkEmail(val)||checkDomain(val)?(PRIVATE.api.New.addAntiSpam("blacklist",val).then(function(argument){content.find("#blacklist").val("")}),PRIVATE.api.New.getAntiSpam().then(function(result){render(result.blackList,result.whiteList)})):PUBLIC.showDialog({message:PUBLIC.l10n.get("digite um email ou dominio valido"),type:"error"})},save:function(){var btn=this,params=content.find("#spamReport,#moveSpamToSpam,#superFilter").toArray().map(function(elem){return elem.checked});btn.addClass("loading"),PUBLIC.decisionToShowSuperBlockWarning(params[2]),PRIVATE.api.New.opcoesAntispam(params[0],params[1],params[2]).then(function(argument){btn.removeClass("loading"),PUBLIC.showDialog({message:PUBLIC.l10n.get("Salvo com sucesso."),type:"success"})})}};return PRIVATE.renderPartialContent("configAntispamView",{dict:PUBLIC.l10n}),content.on("click",".blacklist .buttons .icon-erase",function(){commands.blacklistdelete.apply(this)}),content.on("click",".whitelist .buttons .icon-erase",function(){commands.whitelistdelete.apply(this)}),content.on("click"," .ozone__button",function(e){var command=commands[this.getAttribute("data-command")];return command&&command.apply(this),!1}),content.on("click",".card__header .save",function(argument){var command=commands[this.getAttribute("data-command")];command&&command.apply(this)}),new Promise(function(resolve,reject){PRIVATE.api.New.getAntiSpam().then(function(result){render(result.blackList,result.whiteList),content[0].className="card configs",["spamReport","moveSpamToSpam","superFilter"].forEach(function(el){content.find("#"+el).attr("checked",1==result[el])}),resolve()})})},PRIVATE.ConfigurationsPanel.my_folders=function(pagina){function renameFolder(args){PRIVATE.api.New.renameFolder(args.id,args.value,args.page).then(function(result){render(result),PRIVATE.bindReturnEventCustomPage(),result&&"object"==typeof result&&result.error.length?PUBLIC.showDialog({message:PUBLIC.l10n.get("folderError"),type:"error"}):PUBLIC.showDialog({message:PUBLIC.l10n.get("folderSuccess"),type:"success"})})}function render(folders){var folders,paginationBottom,tbody,rendered={};PRIVATE.renderPartialContent("configMyFoldersView",{dict:PUBLIC.l10n}),rendered.pagination=PUBLIC.templates.get("myFoldersPagination").render({data:folders.page}),rendered.table=PUBLIC.templates.get("myFolders").render({dic:PUBLIC.l10n,folders:folders.list}),folders=document.getElementById("paginationTop"),paginationBottom=document.getElementById("paginationBottom"),(tbody=document.getElementById("configMyFoldersTbody")).innerHTML=rendered.table,folders.innerHTML=rendered.pagination,paginationBottom.innerHTML=rendered.pagination}var page=1,table,content=$("#customPage"),commands={new:function(){PRIVATE.api.New.addFolder(content.find("#newfolder").val(),page).then(function(result){render(result),PRIVATE.bindReturnEventCustomPage(),result&&result.error&&"string"==typeof result.error?PUBLIC.showDialog({message:result.error,type:"error"}):PUBLIC.showDialog({message:PUBLIC.l10n.get("folderSuccess"),type:"success"})})},delete:function(){var btn=this,buttons={},arrTranslate=[[PUBLIC.l10n.get("sim")],[PUBLIC.l10n.get("nao")]];buttons.btn1=function(){var waitModal=PRIVATE.waitModal();PRIVATE.api.New.deleteFolder(btn.getAttribute("data-id"),page).then(function(result){render(result),PRIVATE.bindReturnEventCustomPage(),waitModal.close()}),this.close()},buttons.btn2=function(){this.close()},PUBLIC.showDialog({message:PUBLIC.l10n.get("apagarPasta"),overlay:!0,type:"info",modal:!0,timeout:!1,innerButtons:buttons,translateBtn:arrTranslate})},clean:function(){var btn=this,buttons={},arrTranslate=[[PUBLIC.l10n.get("sim")],[PUBLIC.l10n.get("nao")]];buttons.btn1=function(){var waitModal=PRIVATE.waitModal();PRIVATE.api.New.cleanFolder(btn.getAttribute("data-id"),page).then(function(result){render(result),PRIVATE.bindReturnEventCustomPage(),waitModal.close()}),this.close()},buttons.btn2=function(){this.close()},PUBLIC.showDialog({message:PUBLIC.l10n.get("apagarTodoConteudo"),overlay:!0,type:"info",modal:!0,timeout:!1,innerButtons:buttons,translateBtn:arrTranslate})},rename:function(){var tr=$(this).parents("tr"),td=tr.find("td").eq(0),dataID,inputToEdit='<input id="activeEdit" data-id="'+this.getAttribute("data-id")+'" value="'+td.html()+'"/></form>';PUBLIC.isSmallScreen()?($(".btn-folder-save").removeClass("hidden"),$(".btn-separator").removeClass("hidden")):($(".btn-folder-save").addClass("hidden"),$(".btn-separator").addClass("hidden")),tr.find("td input")[0]||td.html(inputToEdit)},save:function(){var el=document.getElementById("activeEdit");el&&renameFolder({id:el.getAttribute("data-id"),value:el.value,page:page})},cancel:function(){var tr,td=$(this).parents("tr").find("td").eq(0),inputToReplace=td.find("input")[0];inputToReplace&&(td.html(inputToReplace.defaultValue),$(".commands-disable").removeClass("commands-disable"))}};return content.on("keypress","table input",function(e){var code;13===(e.keyCode||e.which)&&(e.preventDefault(),renameFolder({id:this.getAttribute("data-id"),value:this.value,page:page}))}),content.on("keyup","table input",function(e){var code;27===(e.keyCode||e.which)&&(e.target.parentNode.innerHTML=e.target.defaultValue,$(".commands-disable").removeClass("commands-disable"))}),content.on("click",".commands a, .ozone__button",function(e){e.preventDefault();var inputEditableActived=document.getElementById("activeEdit"),actionToDo=this.getAttribute("data-command"),command=commands[actionToDo];if("rename"===actionToDo){if(inputEditableActived)return void PUBLIC.showDialog({message:PUBLIC.l10n.get("folderErrorRename"),type:"error"});$(e.target).parents("tr").find(".commands").addClass("commands-disable")}command&&command.apply(this)}),content.on("click",".ozone__pagination a",function(e){e.preventDefault(),page=this.getAttribute("data-page")||page,PRIVATE.api.New.getFolders(page).then(function(result){render(result),PRIVATE.bindReturnEventCustomPage()})}),new Promise(function(resolve,reject){PRIVATE.api.New.getFolders(page).then(function(result){render(result),resolve()})})};var data=document.querySelector("#tools .tool.configurations"),btnNewFolder=document.querySelector("#sidebar .ozone__button.new-folder"),btnReturn=document.querySelector("#sidebar .configurations .return");return data.addEventListener("click",function(e){PRIVATE.clearCustomPage(),PRIVATE.ConfigurationsPanel.showUserConfigurations("general")},!0),$("#sidebar").on("click",".configurations .sidebar__item",function(){var attr=this.getAttribute("data-target");attr&&(PRIVATE.clearCustomPage(),PRIVATE.ConfigurationsPanel.showUserConfigurations(attr,this.getAttribute("data-extra")),sidebar.hide())}),btnNewFolder.addEventListener("click",function(e){Analytics.sidebar.newFolder(),PRIVATE.clearCustomPage(),PRIVATE.ConfigurationsPanel.showUserConfigurations("my_folders"),sidebar.hide()},!0),btnReturn.addEventListener("click",function(e){PRIVATE.clearCustomPage(),PUBLIC.trigger("configLeave",!0)},!0),PRIVATE.HelpPanel={},PRIVATE.HelpPanel.init=function(){var _this=this,content=$("#customPage");$("#tools .help-faq").click(function(){Analytics.userArea.help(),_this.showHelp(content)}),$("#sidebar .help-faq .return").click(function(){PRIVATE.clearCustomPage(),PUBLIC.trigger("helpLeave",!0)})},PRIVATE.HelpPanel.showHelp=function(content){PUBLIC.trigger("pageChange",{page:"help-faq"}),content[0].className="card help-faq",content.show(),content.off(),sidebar.resetClassFlag(),sidebar.setClassFlag("flag-help"),$("#tools a").removeClass("active"),$("#mail-list:parent").parent().hide(),$("#header .autosugest__search").hide(),mailComposer.hide();var content="pt"===pkg.context.page.lang?"helpView":"helpSpanishView";PRIVATE.renderPartialContent(content,{}),PRIVATE.bindReturnEventCustomPage()},PRIVATE.HelpPanel.showHelpFeedback=function(type){PUBLIC.trigger("pageChange",{page:"help-"+type}),$("#customPage").off();var customPageElement=document.getElementById("customPage");customPageElement.className="card help-"+type,customPageElement.style.display="block",sidebar.resetClassFlag(),sidebar.setClassFlag("flag-help"),mailComposer.hide(),$("#tools a").removeClass("active"),$("#mail-list:parent").parent().hide(),$("#header .autosugest__search").hide(),PRIVATE.renderPartialContent("helpFeedback",{type:type,initPharse:PUBLIC.l10n.get("initPharse"),questionEmprove:PUBLIC.l10n.get("questionEmprove"),yes:PUBLIC.l10n.get("yes"),no:PUBLIC.l10n.get("no"),noCare:PUBLIC.l10n.get("noCare"),message:PUBLIC.l10n.get("feedback_message"),authorizedAccess:PUBLIC.l10n.get("authorizedAccess")}),PRIVATE.bindReturnEventCustomPage()},PRIVATE.HelpPanel.showHelpCleaningPolice=function(obj){PUBLIC.trigger("pageChange",{page:"help-cleaning-police"}),$("#customPage").off();var customPageElement=document.getElementById("customPage");customPageElement.className="card help-cleaning-police",customPageElement.style.display="block",sidebar.resetClassFlag(),sidebar.setClassFlag("flag-help"),mailComposer.hide(),$("#tools a").removeClass("active"),$("#mail-list:parent").parent().hide(),$("#header .autosugest__search").hide(),PRIVATE.renderPartialContent("helpCleaningPolice",obj),PRIVATE.bindReturnEventCustomPage()},PRIVATE.errorToStart=function(){var buttons={},arrTranslate=[PUBLIC.l10n.get("Tentar novamente")];buttons.btn1=function(){PRIVATE.startMethodList[0].retry=0,PRIVATE.shiftStartMethodList(),this.close()},PUBLIC.showDialog({type:"error",body:PUBLIC.l10n.get("systemerror"),timeout:!1,overlay:!0,buttons:buttons,translateBtn:arrTranslate})},PRIVATE.shiftStartMethodList=function(){PRIVATE.startMethodList.length&&PRIVATE.startMethodList[0].method().then(function(){PRIVATE.startMethodList.shift(),PRIVATE.shiftStartMethodList()}).catch(function(error){PRIVATE.startMethodList[0].isToRetry?3<=PRIVATE.startMethodList[0].retry?PRIVATE.startMethodList[0].error():(PRIVATE.startMethodList[0].retry+=1,PRIVATE.shiftStartMethodList()):(PRIVATE.startMethodList.shift(),PRIVATE.shiftStartMethodList())})},PRIVATE.startGetContactList=function(){return PRIVATE.api.New.contactList(!0)},PRIVATE.startLoadInbox=function(){return PUBLIC.setTitlePageChange(PUBLIC.obj.inbox),PUBLIC.switchToFolder({id:"INBOX",imapId:"inbox"},!0).then(function(response){PRIVATE.actualPage={page:"mailList",subpage:{id:"INBOX",imapId:"inbox"},messages:response.messages},history.replaceState({page:"mailList",subpage:{id:"INBOX",imapId:"inbox"},messages:response.messages},null,"#/mailList/INBOX"),mailList.init(),mailViewer.init(),mailComposer.init()})},PRIVATE.performOzoneTipOrMessageboard=function(){var isMobOrTab;"mob"!==pkg.context.platform.type&&"tab"!==pkg.context.platform.type&&pkg.require(["app.Tips"],function(OzoneTips){var OzoneTips=new OzoneTips({});OzoneTips.hasTipToShow()?OzoneTips.startTips():PRIVATE.messageboard()},function(error){console.error("[app.Tips] - FAIL TO LOAD",error)})},PRIVATE.performNewMail=function(){sidebar.ignore||(sidebar.newEmailBtn.classList.add("loading"),sidebar.newEmailBtn.classList.add("disabled"),PRIVATE.buttons.newMail.classList.add("disabled"),PUBLIC.newMessage().then(function(){sidebar.newEmailBtn.classList.remove("loading")},function(err){console.log("[OZONE] error new message"),console.log(err),sidebar.newEmailBtn.classList.remove("loading"),PRIVATE.buttons.newMail.classList.remove("re")}))},PRIVATE.logout=function(){"credentials"in navigator&&navigator.credentials.preventSilentAccess&&navigator.credentials.preventSilentAccess(),(new STATIC_PRIVATE.mods.xRequest).post({url:"/ws/index.php?r=site/logout&format=json",dataType:"json",withCredentials:!0}).then(function(){"br"===pkg.context.page.country?window.location="/signout"+window.location.search:window.location="/signin"+window.location.search}).catch(function(err){console.error(err)})},PRIVATE.messageboard=function(){var arrUserprofile=window.userProfile.email.split("@"),user=arrUserprofile[0],userDomain=arrUserprofile[1];pkg.require("app.msgboard",function(Msgboard){Msgboard.init({sso_url:"https://auth.terra.com.br/ssows.fcgi",sso_http_method:"POST",sso_new_auth:!0,service:"MAILWEB",mb_url:"https://msgb.terra.com/",system:"WEM",log_level:6,sso_callback:"MsgBoard.parseUserInfo",percentual_distribuicao:100})})},PRIVATE.waitModal=function(){return PUBLIC.showDialog({btnclose:!1,contenttype:"html",body:'<div class="spinner"></div>',type:"loadding",timeout:!1,open:!1,overlay:!0,close:function(){}})},PRIVATE.getMovedMessage=function(){return PRIVATE.movedMessages},PRIVATE.updateStatus=function(){var pageId="";PRIVATE.actualPage&&PRIVATE.actualPage.subpage&&(pageId=PRIVATE.actualPage.subpage.imapId),PRIVATE.api.New.getMailBoxStatus().then(function(response){sidebar.FolderList.setCount(response.INBOX.unseenCount,sidebar.getFolder({imapId:"inbox"})),sidebar.FolderList.setCount(response.Spam.unseenCount,sidebar.getFolder({imapId:"spam"})),"inbox"!==pageId&&(PUBLIC.windowIsVisible||PUBLIC.setTitleRecentStatus({response:response.INBOX}),"granted"===localStorage.getItem("notifyUserPermission"))&&"granted"===window.Notification.permission&&(PUBLIC.showMailNotification(response,PUBLIC.lastReceivedMsgsCounter),PUBLIC.lastReceivedMsgsCounter=response.recent)})},PRIVATE.ozoneTimeout=function(){var ms;setTimeout(PRIVATE.ozoneTimeout,18e4),PRIVATE.actualPage&&PRIVATE.actualPage.page&&PUBLIC.trigger(PRIVATE.actualPage.page,PRIVATE.actualPage),PUBLIC.trigger("genericTimeout",{})},PRIVATE.changeLayout=function(){var btnStatus,stats,data,key,userConf,userConf;Analytics.header.changeLayout(),"enable"===PRIVATE.buttons.headerChangeLayout.getAttribute("data-status")&&(stats=1,data=[],key="/params/mailview_panel_orientation",userConf=(userConf=window.userConfiguration)?userConf.mailview_panel_orientation:"0",PRIVATE.buttons.headerChangeLayout.setAttribute("data-status","disable"),parseInt(userConf)&&(stats=0),data.push({name:key,value:String(stats)}),PRIVATE.api.New.setConfigs(data).then(function(response){var err=response.errors,models=response.models;if(err&&err.length)throw err;for(var i=0;i<models.length;i++){var model=models[i];if(model.KEY===key){window.userConfiguration.mailview_panel_orientation=model.VALUE,PUBLIC.setLayout(model.VALUE),mailList.calculateMailListFill(),mailList.refreshFolder(),PUBLIC.btnHeaderLayoutChange();break}}PRIVATE.buttons.headerChangeLayout.setAttribute("data-status","enable")}))},PRIVATE.leaveExtraPage=function(from){var customPage=document.querySelector("#customPage");PUBLIC.loadFolders(),PUBLIC.showBtnChangeLayout(),mailList.activeMessage(null),mailViewer.close(),sidebar.hide(),sidebar.trigger("clickFolder",PUBLIC.currentFolder),PRIVATE.clearCustomPage(),$("#tools .tool.active").removeClass("active"),$("#mail-list").parent().show()},PRIVATE.moveMessages=function(messages,newFolder){var mailListActiveMessage=mailList.MessageList.getActiveMessage(),currentMessage=mailViewer.getMessage(),r;sidebar.FolderList.changeCount(-messages.unreaded,PUBLIC.currentFolderEl),messages.newFolder&&sidebar.FolderList.changeCount(messages.unreaded,sidebar.getFolder(messages.newFolder)),currentMessage&&messages&&messages.list&&1==messages.list.filter(function(el){return el==currentMessage.id}).length&&(mailViewer.close(),0<mailList.MessageList.countMessages())&&mailList.openUncheckNextMessage(currentMessage.id),messages.elList.off().remove(),mailList.removeItem(),mailList.MessageList._changeController(mailList.isToShowActionBar()),mailList.DOM.checkboxHead.prop("checked",!1).trigger("change"),messages.elList=null},PRIVATE.feedback.validate=function(formElement){for(var formElement=formElement.getAttribute("data-type"),inputCheckboxPermissionAccess=document.getElementById("feedbackPermissionAccess"),textareaBody=document.getElementById("feedbackBody"),listLikeVersion=document.querySelectorAll('input[name="TalkToUsForm[likeVersion]"]'),noOpinion="no opinion",noDescription="no description",likeVersion="",feedbackData={},noOpinionIncrease="no opinion ["+formElement+"]",inputRadio,resolutionScreen=window.screen.width+"x"+window.screen.height,documentSize=window.innerWidth+"x"+window.innerHeight,i=0,err;i<listLikeVersion.length;i++)(inputRadio=listLikeVersion[i]).checked&&(likeVersion=inputRadio.value);return feedbackData={subject:PUBLIC.l10n.get("feedback_subject"),screenResolution:"ResolutionScreen: "+resolutionScreen+" / DocumentSize: "+documentSize,screenZoom:PUBLIC.getZoomPage(),motiveContact:formElement,likeVersion:""!==likeVersion?likeVersion+" ["+formElement+"]":noOpinionIncrease,body:""!==textareaBody.value?textareaBody.value:noDescription,permissionAccess:inputCheckboxPermissionAccess.checked?inputCheckboxPermissionAccess.value:0},"feedback"===formElement&&feedbackData.likeVersion===noOpinionIncrease?(err={errors:["É obrigatório escolher uma das opções sobre melhoria"]},new Promise(function(resolve,reject){resolve(err)})):PRIVATE.api.New.sendFeedback(feedbackData)},PRIVATE.updateRelatedContent=function(){var content=$(".related-content",PRIVATE.advisor);content.hasClass("loading")&&content.children().length||(content.addClass("loading"),content.html(""),content.show(),(new STATIC_PRIVATE.mods.xRequest).get({url:"/timeline",data:STATIC_PRIVATE.mods.xRequest.serialize({p:1,psz:30,sz:240,f:0,dflt:0,channel_path:pkg.context.page.get("country"),country:pkg.context.page.get("country"),lomas:pkg.context.page.get("country")+".*.*",ch:PRIVATE.advisor.getAttribute("data-channel")}),withCredentials:!0,dataType:"json"}).then(function(jsonData){PRIVATE.relatedContent?PRIVATE.relatedContent.loadGeneric(jsonData):(PRIVATE.relatedContent=new STATIC_PRIVATE.mods.relatedContent({typeTable:"genericTable",removeAD:!0,json:jsonData,idContainer:PRIVATE.advisor.id+" .related-content",targetType:"_blank",staticSize:"w320",tableID:10}),PRIVATE.relatedContent.loadJsonList()),content.removeClass("loading")}).catch(function(err){console.log("[!]",err)}))},PRIVATE.initAdvisorBar=function(relatedContentEnabled){pkg.context.page.at("range",function(range){"xlarge"===range?($(PRIVATE.advisor).show(),relatedContentEnabled&&PRIVATE.updateRelatedContent()):($(PRIVATE.advisor).hide(),relatedContentEnabled&&$(PRIVATE.advisor).find(".related-content").html("").removeClass("loading"))})},PRIVATE.initWarningArea=function(relatedContentEnabled){PRIVATE.advisor.parentElement.classList.remove("emp"),pkg.context.page.at("range",function(range){"xlarge"===range?$(PRIVATE.target.querySelector("#warningArea")).show():$(PRIVATE.target.querySelector("#warningArea")).hide()})},PRIVATE.initRelatedContentBar=function(){pkg.require(["app.relatedContent"],function(AppRelatedContent){STATIC_PRIVATE.mods.relatedContent=AppRelatedContent,setInterval(function(){0===$(PRIVATE.advisor).filter(":hidden").length&&PRIVATE.updateRelatedContent()},12e4)},function(error){console.error("[!] RELATED CONTENT IMPORT ERROR",error)})},PRIVATE.deleteAd=function(){var adsFirst=document.querySelector("#contentAdsFirst"),adsSecond=document.querySelector("#contentAdsSecond");adsFirst?(PRIVATE.deleteAdIframe(adsFirst),PRIVATE.deleteAdIframe(adsSecond)):PRIVATE.deleteAdIframe(document.querySelector("#contentAds"))},PRIVATE.deleteAdIframe=function(adsContent){if(!adsContent)return!1;var adsContent=adsContent.querySelector("#ozoneAdvertising");adsContent&&adsContent.remove()},PRIVATE.createAd=function(){var adsFirst=document.querySelector("#contentAdsFirst"),adsSecond=document.querySelector("#contentAdsSecond");adsFirst?(PRIVATE.createAdIframe(adsFirst,"first"),PRIVATE.createAdIframe(adsSecond,"second")):PRIVATE.createAdIframe(document.querySelector("#contentAds"),"first")},PRIVATE.createAdIframe=function(adsContent,area){if(!adsContent)return!1;var iframe=document.createElement("iframe"),hostname=document.location.hostname;iframe.width="300",iframe.height="300",iframe.id="ozoneAdvertising",iframe.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups"),iframe.src="https://"+hostname+"/globalSTATIC/fe/zaz-ui-webmail/_templates/static/comp-related-content.html?area="+area,adsContent.innerHTML="",adsContent.appendChild(iframe)},PRIVATE.showAd=function(){PRIVATE.deleteAd(),PRIVATE.createAd()},PRIVATE.initAdvisorContentAd=function(){var time,loop;"mob"!==pkg.context.platform.type&&"tab"!==pkg.context.platform.type&&(time=3e5,pkg.context.page.at("range",function(range){"xlarge"===range?(PRIVATE.showAd(),loop&&clearInterval(loop),loop=setInterval(PRIVATE.showAd,3e5)):(PRIVATE.deleteAd(),clearInterval(loop))}),"xlarge"===pkg.context.page.getRange())&&(loop&&clearInterval(loop),loop=setInterval(PRIVATE.showAd,3e5))},PRIVATE.adsBlackList=function(){return/bancomer|speedy|terrapymecl/.test(window.location.href)},PRIVATE.enableWarningArea=function(){return/speedy/.test(window.location.href)},PRIVATE.toolsRenderDropdown=function(){var dataInfo={site:{country:pkg.context.page.getCountry()},userConfiguration:{use_ozone:window.userConfiguration.use_ozone},i18n:{changeVersion:PUBLIC.l10n.get("oldVersion"),feedback:PUBLIC.l10n.get("feedback"),cleaning:PUBLIC.l10n.get("cleaning"),helpLink:PUBLIC.l10n.get("help_link"),logout:PUBLIC.l10n.get("logout")}},template,dataInfo=PUBLIC.templates.get("toolDropdown").render(dataInfo);PRIVATE.buttons.tools.querySelector(".menu.card").innerHTML=dataInfo},PRIVATE.decisionToShowBtnLayoutChange=function(args){PRIVATE.isMailList="mailList"===args.page,PRIVATE.isMailList&&PUBLIC.showBtnChangeLayout()},PRIVATE.decisionToShowBtnSearch=function(args){var allowedRangeList;"mailList"!==args.page&&"contacts"!==args.page||!PUBLIC.isSmallScreen(["xsmall","small"])?ozoneHeader.disableBtnSearch():ozoneHeader.enableBtnSearch()},PRIVATE.toolsClicked=function(e){var actualClass,elementClicked=e.target,hasFeedbackClass=elementClicked.hasClass("feedbacks"),hasChangeVersionClass=elementClicked.hasClass("change-version"),formFeedback;elementClicked.hasClass("double-line")||elementClicked.parentElement.hasClass("double-line")||elementClicked.parentElement.parentElement.hasClass("double-line")?(elementClicked.hasClass("our-services")&&Analytics.userArea.customService(),elementClicked.hasClass("client-atend")&&Analytics.userArea.clientService()):(e.preventDefault(),(elementClicked.hasClass("user-tool")||elementClicked.parentElement.hasClass("user-tool")||elementClicked.parentElement.parentElement.hasClass("user-tool"))&&(Analytics.userArea.dropdown(),PUBLIC.UserInfo.callbacks.userMenuClick(e),document.addEventListener("click",PUBLIC.UserInfo.close,!0)),hasFeedbackClass||hasChangeVersionClass?(hasFeedbackClass&&(PRIVATE.HelpPanel.showHelpFeedback("feedback"),Analytics.userArea.feedback()),hasChangeVersionClass&&(PRIVATE.HelpPanel.showHelpFeedback("change-version"),Analytics.userArea.changeVersion()),(formFeedback=document.querySelector("#formFeedback")).addEventListener("submit",function(e){e.preventDefault();var btnSubmit=formFeedback.querySelector(".ozone__button");btnSubmit.classList.add("disabled"),btnSubmit.setAttribute("disabled","disabled"),PRIVATE.feedback.validate(formFeedback).then(function(response){var customPage,response;response&&(1!==response.s||response.errors&&response.errors.length)?(response.errors&&response.errors.length&&PUBLIC.showDialog({message:response.errors[0]||PUBLIC.l10n.get("feedbackError"),type:"error"}),btnSubmit.classList.remove("disabled"),btnSubmit.removeAttribute("disabled")):elementClicked.hasClass("change-version")?PRIVATE.api.New.rollbackVersion().then(function(dataRes){PUBLIC.showDialog({message:PUBLIC.l10n.get("feedbackSuccess"),type:"success"}),PRIVATE.api.New.getProfile().then(function(response){window.location.replace(response.url)})}):((response=document.getElementById("customPage").querySelector(".card__body")).classList.add("success"),response.innerHTML=PUBLIC.l10n.get("feedbackSuccess"))})})):elementClicked.hasClass("help")&&PRIVATE.api.New.getProfile().then(function(data){var i10nGetUnlimitedCleanup=PUBLIC.l10n.get("unlimited_cleanup"),i10nGetDays=PUBLIC.l10n.get("days"),msg=$("#cleanupTemplate").html();$.each(data.retencao,function(k,v){var strToReplace,i10n;msg=msg.replace("%"+k+"%",-1==v?i10nGetUnlimitedCleanup:v+" "+i10nGetDays)}),PRIVATE.HelpPanel.showHelpCleaningPolice({title:PUBLIC.l10n.get("limpeza_title"),msg:msg}),Analytics.userArea.cleaningPolice()}))},PRIVATE.errSendAction=function(params){var captcha,scope,params,buttons,message,errStr,arrTransalte;params.response&&"object"==typeof params.response&&(scope=params.scope||PUBLIC.webmailScope.main,params=params.response,buttons={},message=scope.mailComposer.MessageComposer.getMessage(),errStr=PUBLIC.l10n.get("sendMailError"),arrTransalte=[[PUBLIC.l10n.get("Tentar novamente")],[PUBLIC.l10n.get("cancelar")]],params&&"object"==typeof params&&params.e&&"object"==typeof params.e&&params.e.m&&"string"==typeof params.e.m&&(errStr=params.e.m),buttons.btn1=function(){var dialog=this;(captcha=(scope.isPopUp?scope.window:PRIVATE).captcha)?captcha.getValidationFormValues().then(function(values){var captchaData={};captchaData.answer=values.response,captchaData.challenge=values.challenge,scope.mailComposer.sendMessage(captchaData),dialog.close()}):(scope.mailComposer.sendMessage(),dialog.close())},buttons.btn2=function(){this.close(),scope.mailComposer.trigger("sendMessage",message)},PUBLIC.showDialog({message:errStr,scope:scope,type:"error",overlay:!0,id:"captcha",timeout:!1,buttons:buttons,captcha:!0,translateBtn:arrTransalte}))},PRIVATE.messageCLickError=function(message,currentScope){var buttons={};buttons[PUBLIC.l10n.get("Tentar novamente")]=function(){PUBLIC.trigger("messageClick",message),this.close()},buttons[PUBLIC.l10n.get("cancelar")]=function(){this.close()},PUBLIC.showDialog({message:PUBLIC.l10n.get("Erro ao carregar mensagem"),type:"error",modal:!0,scope:currentScope,timeout:5e3,closeOnLeave:!0,buttons:buttons})},PRIVATE.searchContacts=function(value){PRIVATE.contactView&&(PRIVATE.contactView.querySelector("tbody").innerHTML="",PRIVATE.contactView.classList.add("loading")),PRIVATE.api.New.contactList().then(function(contacts){var tableContent=document.querySelector("#content .contacts tbody"),search,searchEL,valueSearchElement=PRIVATE.target.querySelector(".header .autosugest__search ").querySelector("input").value.toLowerCase(),contactListItemTpl=PUBLIC.templates.get("contactsListItem"),filtered=[],contactListRendered,filtered=contacts.filter(function(contact){var contactConcatenaded;return 0<=(contact.fullName+" "+contact.ADDRESS).toLowerCase().indexOf(valueSearchElement)});PRIVATE.renderAllPageContact(filtered)})},PRIVATE.searchMailList=function(value){var to,from,subject;0===value.length&&mailList.refreshFolder(void 0,!0),from=(from=/from:(\w+)/.exec(value))&&from[1],value=value.replace(/from:(\w+)/,""),to=(to=/to:(\w+)/.exec(value))&&to[1],value=value.replace(/to:(\w+)/,""),subject=!!(subject=/(subject:)?(.*)/.exec(value))&&subject[2].trim(),value=value.replace(/subject:/,""),to=to||subject,((from=from||subject)||to||subject)&&(mailList.search({to:to,from:from,subject:subject=subject||""}),mailViewer.close())},PRIVATE.performSearch=function(searchData){PUBLIC.lastSearch=searchData,"contacts"===ozoneHeader.whatIsContextToSearch()?PRIVATE.searchContacts(PUBLIC.lastSearch):(mailList.clear(),mailList.showLoader(),PRIVATE.searchMailList(PUBLIC.lastSearch))},PRIVATE.search=function(){var searchContent=PRIVATE.target.querySelector(".header .autosugest__search"),searchForm=PRIVATE.target.querySelector("#search"),inputSearch=searchContent.querySelector("input"),btnClearSearch=searchContent.querySelector(".btn-search-clear");btnClearSearch.addEventListener("click",function(){ozoneHeader.resetSearchValue(),btnClearSearch.classList.add("hidden"),PRIVATE.performSearch(inputSearch.value)}),searchForm.addEventListener("submit",function(e){e.preventDefault(),inputSearch.value?btnClearSearch.classList.remove("hidden"):btnClearSearch.classList.remove("add"),PRIVATE.performSearch(inputSearch.value),Analytics.header.inputSearch()})},PRIVATE.startGestureEvents=function(){var startPageX,endPageX,startPageY,endPageY,calcDistance,minDistance=75,minShorDistance=30;window.addEventListener("touchstart",function(evt){startPageX=evt.changedTouches[0].pageX,startPageY=evt.changedTouches[0].pageY}),window.addEventListener("touchend",function(evt){endPageX=evt.changedTouches[0].pageX,endPageY=evt.changedTouches[0].pageY,startPageX<=40&&startPageX<endPageX&&75<=endPageX-startPageX?sidebar.show():endPageX<startPageX&&75<=startPageX-endPageX&&sidebar.hide()})},PRIVATE.applyDecision=function(superFilter){superFilter?$(".super_filter_message").removeClass("hidden"):$(".super_filter_message").addClass("hidden")},Ozone.leaveMercuryPage=function(){return sidebar.resetClassFlag(),PRIVATE.setClassFlag("flag-folders"),PUBLIC.loadFolders()},PUBLIC.showCaptcha=function(elementId){pkg.require(["mod.captcha"],function(ModCaptcha){PRIVATE.captcha=new ModCaptcha(elementId)})},PUBLIC.showBtnChangeLayout=function(){PRIVATE.buttons.headerChangeLayout.style.visibility="visible"},PUBLIC.showHelpFeedback=function(type){"feedback"==type?PRIVATE.HelpPanel.showHelpFeedback("feedback"):"change-version"==type&&PRIVATE.HelpPanel.showHelpFeedback("change-version")},PUBLIC.showHelp=function(){var content=$("#customPage");PRIVATE.HelpPanel.showHelp(content)},PUBLIC.logout=function(){PRIVATE.logout()},PUBLIC.showHelpCleaningPolice=function(){PRIVATE.api.New.getProfile().then(function(data){var i10nGetUnlimitedCleanup=PUBLIC.l10n.get("unlimited_cleanup"),i10nGetDays=PUBLIC.l10n.get("days"),msg=$("#cleanupTemplate").html();$.each(data.retencao,function(k,v){var strToReplace,i10n;msg=msg.replace("%"+k+"%",-1==v?i10nGetUnlimitedCleanup:v+" "+i10nGetDays)}),PRIVATE.HelpPanel.showHelpCleaningPolice({title:PUBLIC.l10n.get("limpeza_title"),msg:msg}),Analytics.userArea.cleaningPolice()})},PUBLIC.openWindow=function(url,name,features){return PUBLIC.webmailScope.popUps[name]?PUBLIC.webmailScope.popUps[name].focus():(PUBLIC.webmailScope.popUps[name]={},PUBLIC.webmailScope.popUps[name].window=window.open(url,name,features)),PUBLIC.webmailScope.popUps[name].window},PUBLIC.findWindow=function(name){return PUBLIC.webmailScope.popUps[name].window},PUBLIC.closeWindow=function(name){var windowReference=PUBLIC.webmailScope.popUps[name].window;windowReference&&(delete PUBLIC.webmailScope.popUps[name],windowReference.close())},PUBLIC.leaveMessage=function(sco){$("#customPage").hide(),$("#mail-viewer").parent().show(),mailComposer.hide(),sidebar.resetAttrNewMail()},PUBLIC.loadFolders=function(count){var counter=count||0;return sidebar.removeUserFolderClassError(),sidebar.FolderList.clear(),sidebar.FolderList.init(),PRIVATE.api.New.getMailBoxes().then(function(folderList){return PUBLIC.removeLoaddingClass(),PUBLIC.folders=folderList,sidebar.FolderList.ready(),mailViewer.MessageViewer.clearFolders(),PUBLIC.trigger("folders",folderList),folderList}).catch(function(error){if(!(2<=counter))return counter+=1,PUBLIC.loadFolders(counter);sidebar.errorLoadFolders()})},PUBLIC.getFolderById=function(id){for(var i in PUBLIC.folders)if(PUBLIC.folders[i].imapId==id||PUBLIC.folders[i].id==id)return PUBLIC.folders[i];return null},PUBLIC.nextPage=function(){return mailList.nextPage()},PUBLIC.switchToFolder=function(folder){return mailList.lazyLoadPermission=!1,mailList.folder(folder,1).then(function(response){return PUBLIC.currentFolder=folder,PUBLIC.currentFolderEl=sidebar.FolderList.switchToFolder(PUBLIC.currentFolder),mailList.lazyLoadPermission=!0,mailViewer.close(),response})},PUBLIC.newMessage=function(){return PRIVATE.api.New.createMessage().then(function(message){mailComposer.MessageComposer.newMessage(message)})},PUBLIC.previousMessage=function(){mailList.MessageList.getPrevMessage(function(msg){msg&&PUBLIC.trigger("messageClick",msg)})},PUBLIC.nextMessage=function(){mailList.openNextMessage(function(msg){msg&&PUBLIC.trigger("messageClick",msg)})},PUBLIC.popUpSaveMessage=function(){var popupMessage=PUBLIC.webmailScope.popUps,arrPopupMessage=Object.keys(PUBLIC.webmailScope.popUps),countPopupMessage=arrPopupMessage.length,hasPopupMessage,msg;if(!!countPopupMessage)for(var i=0;i<countPopupMessage;i++)"editing"===(msg=popupMessage[arrPopupMessage[i]]).status&&msg.mailComposer.saveMessage().catch(function(error){console.log("saveMessage: Couldn't save the message. "+error)})},PUBLIC.updateTimezone=function(){return new Promise(function(resolve,reject){var tz=jstz.determine();if(PUBLIC.currentTimezone=tz.name(),window.userConfiguration.timeZone!==PUBLIC.currentTimezone)return PRIVATE.api.New.setTimezone(PUBLIC.currentTimezone).then(function(response){resolve(!0)},function(){resolve(!1)});resolve(!1)})},PUBLIC.showChangeVersion=function(){var btnChangeVersion=PRIVATE.target.querySelector("#changeVersion");btnChangeVersion&&("forced"!=window.userConfiguration.use_ozone?(btnChangeVersion.removeClass("change-version-none"),btnChangeVersion.classList.add("change-version-block")):btnChangeVersion.classList.add("change-version-none"))},PUBLIC.autosaveMessage=function(){"composer"===PRIVATE.actualPage.page&&mailComposer.saveMessage().catch(function(error){console.log("saveMessage: Couldn't save the message. "+error)}),PUBLIC.popUpSaveMessage()},PUBLIC.updateUserInfo=function(){return PRIVATE.api.New.getUserInfo().then(function(userInfo){"{}"!=JSON.stringify(userInfo)&&(mailComposer.mail=userInfo.email,PUBLIC.UserInfo.init(userInfo))})},PUBLIC.getZoomPage=function(){var devicePixelRatio,zoom=window.devicePixelRatio;return zoom="Safari"===PUBLIC.browser.name||"Internet Explorer"===PUBLIC.browser.name&&PUBLIC.browser.version<11?NaN:zoom},PUBLIC.confirmLeaveMessage=function(callback){PUBLIC.leaveMessage(),callback&&callback.apply(PUBLIC),mailComposer.saveMessage().catch(function(error){console.log("saveMessage: Couldn't save the message. "+error)})},PUBLIC.setupCallbacks=function(){Ozone.callbacks.getMessageOID=function(){return PRIVATE.api.lastMessageOID},PUBLIC.UserInfo.callbacks.userMenuClick=function(evt){PUBLIC.UserInfo.switchUserMenu(evt)},sidebar.FolderList.callbacks.refreshClick=function(){PUBLIC.refreshFolder()},mailList.MessageList.callbacks.notSpam=function(messages,elList){var waitModal,countUnreaded;messages.length&&(waitModal=PRIVATE.waitModal(),countUnreaded=elList.filter(".unreaded").length,PRIVATE.api.New.moveMessages(messages,"Spam","INBOX").then(function(){var currentMessage=mailViewer.getMessage();currentMessage&&"object"==typeof currentMessage&&currentMessage.id&&mailList.openUncheckNextMessage(currentMessage.id);for(var i=0;i<elList.length;i++){var message=JSON.parse(elList[i].getAttribute("data-message"));PUBLIC.setMovedMessage(message)}elList.remove(),PUBLIC.trigger("moveMessages",{list:messages,total:messages.length,unreaded:countUnreaded}),waitModal.close()}))},mailList.MessageList.callbacks.toSpam=function(messages,elList){var waitModal,countUnreaded;messages.length&&(waitModal=PRIVATE.waitModal(),countUnreaded=elList.filter(".unreaded").length,PRIVATE.api.New.moveMessages(messages,PUBLIC.currentFolder.id,"Spam").then(function(){var currentMessage=mailViewer.getMessage();currentMessage&&"object"==typeof currentMessage&&currentMessage.id&&mailList.openUncheckNextMessage(currentMessage.id);for(var i=0;i<elList.length;i++){var message=JSON.parse(elList[i].getAttribute("data-message"));PUBLIC.setMovedMessage(message)}elList.remove(),PUBLIC.trigger("moveMessages",{list:messages,total:messages.length,unreaded:countUnreaded}),waitModal.close()}))},mailList.MessageList.callbacks.moveToFolder=function(messages,folder,elList){var tmp,waitModal,countUnreaded;messages.length&&(waitModal=PRIVATE.waitModal(),countUnreaded=elList.filter(".unreaded").length,PRIVATE.api.New.moveMessages(messages,PUBLIC.currentFolder.id,folder.id).then(function(){var currentMessage=mailViewer.getMessage();currentMessage&&"object"==typeof currentMessage&&currentMessage.id&&mailList.openUncheckNextMessage(currentMessage.id);for(var i=0;i<elList.length;i++){var message=JSON.parse(elList[i].getAttribute("data-message"));PUBLIC.setMovedMessage(message)}elList.remove(),PUBLIC.trigger("moveMessages",{list:messages,total:messages.length,unreaded:countUnreaded}),waitModal.close()}))},mailList.MessageList.callbacks.toRead=function(messages,elList){var waitModal;messages.length&&(waitModal=PRIVATE.waitModal(),PRIVATE.api.New.markMessagesAsReaded(PUBLIC.currentFolder.id,messages).then(function(){var tmp=elList.filter(".unreaded");sidebar.FolderList.changeCount(-tmp.length,PUBLIC.currentFolderEl),tmp.removeClass("unreaded"),waitModal.close()}))},mailList.MessageList.callbacks.toUnRead=function(messages,elList){var waitModal;messages.length&&(waitModal=PRIVATE.waitModal(),PRIVATE.api.New.markMessagesAsUnreaded(PUBLIC.currentFolder.id,messages).then(function(){var tmp=elList.filter(":not(.unreaded)");sidebar.FolderList.changeCount(tmp.length,PUBLIC.currentFolderEl),tmp.addClass("unreaded"),waitModal.close()}))},mailList.MessageList.callbacks.close=function(){mailViewer.close()},mailViewer.MessageViewer.nextClick=function(){PUBLIC.nextMessage()},mailViewer.MessageViewer.previousClick=function(){PUBLIC.previousMessage()},mailViewer.MessageViewer.printClick=function(message){PRIVATE.api.printMessage(message.mailBoxId,[message.id])},mailViewer.MessageViewer.moveToSpamClick=function(message){PRIVATE.api.New.moveMessages([message.id],message.mailBoxId,"Spam").then(function(){PUBLIC.setMovedMessage(message)})},mailViewer.MessageViewer.notSpamClick=function(message){PRIVATE.api.New.moveMessages([message.id],"Spam","INBOX").then(function(){PUBLIC.setMovedMessage(message)})},mailViewer.MessageViewer.moveToFolder=function(message,folder){PRIVATE.api.New.moveMessages([message.id],message.mailBoxId,folder.id).then(function(){PUBLIC.setMovedMessage(message)})},mailViewer.MessageViewer.moveToTrashClick=function(message){(PUBLIC.currentFolder.id==PRIVATE.api.FOLDER_ID.lixeira?PRIVATE.api.New.deleteMessages([message.id],PRIVATE.api.FOLDER_ID.lixeira):PRIVATE.api.New.moveMessages([message.id],message.mailBoxId,PRIVATE.api.FOLDER_ID.lixeira)).then(function(){PUBLIC.setMovedMessage(message)})},mailViewer.MessageViewer.deleteClick=function(message){PRIVATE.api.New.deleteMessages([message.id],message.mailBoxId).then(function(){PUBLIC.setMovedMessage(message)})}},PUBLIC.btnHeaderLayoutChange=function(){var iconBtnChangeLayout=PRIVATE.buttons.headerChangeLayout.querySelector(".icon"),userConf=window.userConfiguration,userConf=userConf?userConf.mailview_panel_orientation:"0";parseInt(userConf)?(iconBtnChangeLayout.classList.remove("icon-layout-column-white"),iconBtnChangeLayout.classList.add("icon-layout-line-white")):(iconBtnChangeLayout.classList.remove("icon-layout-line-white"),iconBtnChangeLayout.classList.add("icon-layout-column-white"))},PUBLIC.logoutAddListener=function(){document.querySelector("a.logout").addEventListener("click",function(e){PRIVATE.logout()},!0)},PUBLIC.defineLayoutAtResize=function(){window.addEventListener("resize",function(e){var userConf=window.userConfiguration,userConf=userConf?userConf.mailview_panel_orientation:"0";"1"!==userConf&&(window.innerWidth<=768?PUBLIC.setLayout("1"):PUBLIC.setLayout("0")),"1"===userConf&&PUBLIC.setLayout("1"),mailViewer.setHeightBodyMailviewer()})},PUBLIC.getLastSearch=function(){var elementSearch=document.getElementById("webmail-search"),elementValue="";return elementValue=elementSearch?elementSearch.value:elementValue},PUBLIC.startToolsClick=function(){PRIVATE.buttons.tools.addEventListener("click",function(e){PRIVATE.toolsClicked(e)},!0)},PUBLIC.setLayout=function(preference){("0"!==preference||(document.querySelector(".card.mail-list").classList.remove("layout__column"),document.querySelector(".card.mail-viewer").classList.remove("layout__column"),window.innerWidth<=768))&&(document.querySelector(".card.mail-list").classList.add("layout__column"),document.querySelector(".card.mail-viewer").classList.add("layout__column"))},PUBLIC.init=function(){PUBLIC.lastSearch=PUBLIC.getLastSearch(),mailList.changeOrder("date-received",!0,PUBLIC.lastSearch),PUBLIC.updateTimezone().then(function(){PUBLIC.trigger("ready",!0)}),$("#mail-composer").hide(),$("#customPage").hide(),ozoneHeader.setHeadUsername(),PRIVATE.toolsRenderDropdown(),PRIVATE.HelpPanel.init(),PUBLIC.setLayout(window.userConfiguration.mailview_panel_orientation),PUBLIC.btnHeaderLayoutChange(),PUBLIC.startToolsClick(),PUBLIC.logoutAddListener(),PUBLIC.defineLayoutAtResize(),PUBLIC.setupCallbacks(),PUBLIC.showChangeVersion(),PUBLIC.decisionToShowSuperBlockWarning(),PRIVATE.search()},PUBLIC.showDialog=function(data){var m=new Modal({classId:data.classId,width:data.width?parseInt(data.width)+"px":"",autoHeight:!0,scope:data.scope,buttons:data.buttons||!1,header:data.header,closeOnLeave:data.closeOnLeave,btnClose:data.btnClose,contentType:data.contentType,innerButtons:data.innerButtons||!1,body:data.message||data.body,type:data.type||"success",captcha:data.captcha||!1,timeout:data.timeout,open:data.open,overlay:data.overlay,close:function(){m.teardown()},translateBtn:data.translateBtn||!1});return m},PUBLIC.setMovedMessage=function(message){PRIVATE.movedMessages[message.OID]={id:message.OID,folderId:message.mailBoxId}},PUBLIC.phishingReport.render=function(scope){var i18nObj={initPhrase:PUBLIC.l10n.get("phishing_initPhrase"),yes:PUBLIC.l10n.get("yes"),no:PUBLIC.l10n.get("no"),noCare:PUBLIC.l10n.get("phishing_noCare"),message:PUBLIC.l10n.get("phishing_message")},i18nObj=PUBLIC.templates.get("formPhishing").render(i18nObj);PRIVATE.modalPhishing=PUBLIC.showDialog({scope:scope||null,classId:"modal-feedback",type:"default",btnClose:!0,contentType:"html",header:PUBLIC.l10n.get("phishing_title"),body:i18nObj,modal:!0,width:350,overlay:!0,timeout:!1,close:function(){},teardown:function(){}})},PUBLIC.phishingReport.submit=function(scope){var formPhishing=(scope=scope||document).getElementById("formPhishing"),description;return new Promise(function(resolve,reject){formPhishing.addEventListener("submit",function(e){e.preventDefault(),description=formPhishing.querySelector("#phishingBody").value,formPhishing.querySelector("button").classList.add("loading","disabled"),resolve(description)})})},PUBLIC.UserInfo={_totalQuota:1024,callbacks:{userMenuClick:function(){console.log("user menu click")},switchAdviceButtomClick:function(){console.log("switch advice buttom click")}}},PUBLIC.UserInfo.init=function(info){var userConf=window.userConfiguration,username=info.username,email=info.email,total=info.quotaLimit,info=info.quotaUsed,unit;((this._totalQuota=total)&&0<total?(unit="Bytes",1024<total&&(unit="Kb",total/=1024),1024<total&&(unit="Mb",total/=1024),1024<total&&(unit="Gb",total/=1024),total=Math.ceil(total)+unit,$(".mercury-var-quota-total").html(total).parent()):$(".mercury-var-quota-total").parent().html(PUBLIC.l10n.get("unlimited"))).css("visibility",""),PUBLIC.UserInfo.setUsedQuota(info),$("a.user-tool .user-name").text(username),$("a.logout .user-name").text("("+username+")"),document.getElementById("userName").innerHTML=userConf.displayName,document.getElementById("userEmail").innerHTML=email,PUBLIC.UserInfo.close=function(evt){$("#tools .user-tool")[0]==evt.target||$("#tools .user-tool")[0].contains(evt.target)||PUBLIC.UserInfo.switchUserMenu(evt)},$("#container .switch-advice-button").click(function(){PUBLIC.UserInfo.callbacks.switchAdviceButtonClick()})},PUBLIC.UserInfo.switchUserMenu=function(evt){$("#tools").hasClass("hidden")&&$("#tools .user-tool")[0].contains(evt.target)?$("#tools ").removeClass("hidden"):($("#tools").addClass("hidden"),document.removeEventListener("click",PUBLIC.UserInfo.close))},PUBLIC.UserInfo.switchAdvice=function(){$("#container").hasClass("hiddenAdvice")?$("#container").removeClass("hiddenAdvice"):$("#container").addClass("hiddenAdvice")},PUBLIC.UserInfo.setUsedQuota=function(quota){var quota,quota,diskStatus;quota&&0<quota&&(quota=100*quota/this._totalQuota,quota=Math.round(quota),$(".mercury-var-quota-percent").html(quota),(diskStatus=$("#disk-status .usage")).removeClass("low medium high"),diskStatus.find("div").css("width",quota+"%"),quota<=50&&diskStatus.addClass("low"),50<quota&&quota<=75&&diskStatus.addClass("medium"),75<quota)&&diskStatus.addClass("high")},PUBLIC.getTitleSplitedStatus=function(){var spl=document.title.split(/^\([0-9]*\)\s/),strTitle;return 1===spl.length?spl[0]:spl[1]},PUBLIC.getTitleCounterRecent=function(){var counterMatch=document.title.match(/^\(-?[0-9]*\)/gi);return counterMatch?counterMatch[0]:""},PUBLIC.setTitleRecentStatus=function(args){var recent=args.response.recent;recent&&0<recent&&(document.title="("+args.response.recent+") "+PUBLIC.getTitleSplitedStatus())},PUBLIC.resetTitleWithoutStatus=function(){document.title=PUBLIC.getTitleSplitedStatus()},PUBLIC.setTitlePageChange=function(args){var pageTitle="",hasCounter=PUBLIC.getTitleCounterRecent(),pageTitle="mailList"===args.page?"INBOX"===args.subpage.id?(args.subpage.name||(args.subpage.name=PUBLIC.l10n.get("inbox")),args.subpage.name):hasCounter+" "+args.subpage.name:hasCounter+" "+PUBLIC.l10n.get("page_"+args.page);pageTitle+=" - Terra Mail",document.title=pageTitle},PUBLIC.createNotification=function(body,icon,title){var options,notification;if("Notification"in window)return new window.Notification(title,{body:body,icon:icon});console.log("This browser does not support Notification feature")},PUBLIC.showMailNotification=function(response,lastReceivedMsgs){var lastReceivedMsgs;0<response.recent&&!document.hasFocus()&&response.recent!==lastReceivedMsgs&&(lastReceivedMsgs=response.recent+" "+PUBLIC.l10n.get("new_mail",response.recent),"object"==typeof window.currentNotification&&window.currentNotification.close(),window.currentNotification=PUBLIC.createNotification(PUBLIC.l10n.get("notification_inbox"),"https://s1.trrsf.com/atm/3/core/_img/terra-logo-white-bg-v3.jpg",lastReceivedMsgs),window.currentNotification&&(window.currentNotification.onclick=function(event){window.focus(),sidebar.inboxBtn.click(),this.close()}),setTimeout(function(){window.currentNotification.close(),window.currentNotification=""},8e3))},PUBLIC.getContacts=function(){return PRIVATE.contacts},PUBLIC.removeLoaddingClass=function(){var loadingElement=PRIVATE.target.querySelector(".loading");loadingElement&&loadingElement.getClassList().remove("loading")},PUBLIC.documentVisibilityChange=function(){document.hidden?PUBLIC.trigger("windowFocusOut",!0):PUBLIC.trigger("windowFocusIn",!0)},PUBLIC.windowOnbeforeunload=function(){if(window.attachmentClicked)window.attachmentClicked=!1;else if(0<Object.keys(PUBLIC.webmailScope.popUps).length)return""},PUBLIC.windowOnUnload=function(){if(0<Object.keys(PUBLIC.webmailScope.popUps).length)for(var key in PUBLIC.webmailScope.popUps)PUBLIC.webmailScope.popUps.hasOwnProperty(key)&&(PUBLIC.webmailScope.popUps[key].window.close(),delete PUBLIC.webmailScope.popUps[key])},PUBLIC.windowOnPopState=function(event){event.state&&("#/composer/"===PUBLIC.webmailScope.main.currentUrl&&PUBLIC.confirmLeaveMessage(),"composer"==event.state.page?sidebar.trigger("composerReturn",event.state.subpage||{}):"mailList"==event.state.page?mailList.setFolder(event.state.subpage,event.state.messages).then(function(argument){return mailViewer.close(),PUBLIC.currentFolder=event.state.subpage,PUBLIC.currentFolderEl=sidebar.FolderList.switchToFolder(PUBLIC.currentFolder),!event.state.mail||PRIVATE.movedMessages[event.state.mail.oid]&&PRIVATE.movedMessages[event.state.mail.oid].folderId===PUBLIC.currentFolder.id?(mailViewer.close(),mailList.activeMessage(null)):(mailViewer.trigger("loading",!0),event.state.mail.fromEvent=event.type,mailViewer.showMessage(event.state.mail),mailList.activeMessage(event.state.mail)),mailList.calculateMailListFill(),sidebar.getFolder(PUBLIC.currentFolder).addClass("active"),argument}):"configuration"==event.state.page?PRIVATE.ConfigurationsPanel.showUserConfigurations(event.state.subpage,"popstate"):"contacts"==event.state.page?PRIVATE.ContactsPanel.showContacts(event.state.subpage,"popstate"):sidebar.inboxBtn.click(),PUBLIC.trigger("page",event.state),PRIVATE.actualPage=event.state)},PUBLIC.decisionToShowSuperBlockWarning=function(optionSuperFiltro){void 0===optionSuperFiltro?PRIVATE.api.New.getEcpConfigs().then(function(result){PRIVATE.applyDecision(result.superFilter)}):PRIVATE.applyDecision(optionSuperFiltro)},window.onbeforeunload=function(){PUBLIC.windowOnbeforeunload()},window.onunload=function(){PUBLIC.windowOnUnload()},window.onpopstate=function(e){PUBLIC.windowOnPopState(e)},document.addEventListener("visibilitychange",function(){PUBLIC.documentVisibilityChange()},!1),PRIVATE.buttons.headerChangeLayout.addEventListener("click",function(e){PRIVATE.changeLayout(),mailList.calculateMailListFill(),mailList.refreshFolder(!0)}),PRIVATE.buttons.newMail.addEventListener("click",function(){PRIVATE.buttons.newMail.hasClass("disabled")||PRIVATE.performNewMail()}),ozoneHeader.on("click-menu-burguer",function(){sidebar.toogle()}),ozoneHeader.on("click-search-back",function(){ozoneHeader.disableSearchContent(),ozoneHeader.resetSearchValue(),PRIVATE.performSearch("")}),ozoneHeader.on("click-search",function(){ozoneHeader.enableSearchContent()}),PUBLIC.on("ready",function(argument){PRIVATE.startMethodList=[{method:PRIVATE.startGetContactList,isToRetry:!0,retry:0,error:function(){PRIVATE.errorToStart()}},{method:PRIVATE.startLoadInbox,isToRetry:!1,retry:0,error:function(){}},{method:PUBLIC.loadFolders,isToRetry:!1,retry:0,error:function(){}},{method:PUBLIC.updateUserInfo,isToRetry:!1,retry:0,error:function(){}},{method:PRIVATE.performOzoneTipOrMessageboard,isToRetry:!1,retry:0,error:function(){}}],PRIVATE.shiftStartMethodList(),setInterval(function(){PUBLIC.updateUserInfo()},3e5)}),PUBLIC.on("viewContact",function(){PRIVATE.ContactsPanel.showContacts("my_contacts")}),PUBLIC.on("viewContactGroup",function(){PRIVATE.ContactsPanel.contacts_groups("contacts_groups")}),PUBLIC.on("folders",function(folderList){sidebar.FolderList._addImapFolders(folderList.filter(function(folder){return"user"!==folder.imapId})),sidebar.FolderList._addUserFolders(folderList.filter(function(folder){return"user"===folder.imapId})),mailList.folders(folderList),mailViewer.folders(folderList),sidebar.getFolder(PUBLIC.currentFolder).addClass("active")}),PUBLIC.on("moveMessages",function(messages,newFolder){PRIVATE.moveMessages(messages,newFolder)}),PUBLIC.on("removeItem",function(id){mailList.removeItem(id),0===mailList.MessageList.getSelectedMessages().length&&mailList.DOM.checkboxHead.prop("checked",!1).trigger("change")}),PUBLIC.on("showMessage",function(mail){"popstate"!==mail.fromEvent&&PUBLIC.trigger("pageChange",function(obj){for(var i in obj)!this[i]&&obj.hasOwnProperty(i)&&(this[i]=obj[i]);return this}.bind({mail:mail})(PRIVATE.actualPage))}),PUBLIC.on("closeMessage",function(mail){mailList.activeMessage(null)}),PUBLIC.on("closeWindow",function(name){PUBLIC.closeWindow(name)}),mailViewer.on("moveToTrashClick",function(message){mailViewer.MessageViewer.moveToTrashClick(message)}),PUBLIC.on("notSpamClick",function(message){mailViewer.MessageViewer.notSpamClick(message)}),PUBLIC.on("moveToSpamClick",function(message){mailViewer.MessageViewer.moveToSpamClick(message)}),PUBLIC.on("printClick",function(message){mailViewer.MessageViewer.printClick(message)}),PUBLIC.on("forwardClick",function(messageData){mailViewer.MessageViewer.forwardClick(messageData)}),PUBLIC.on("replyClick",function(messageData){mailViewer.MessageViewer.replyClick(messageData)}),PUBLIC.on("replyToAllClick",function(messageData){mailViewer.MessageViewer.replyToAllClick(messageData)}),PUBLIC.on("deleteClick",function(message){mailViewer.MessageViewer.deleteClick(message)}),PUBLIC.on("configLeave",function(){PRIVATE.leaveExtraPage()}),PUBLIC.on("contactLeave",function(){PRIVATE.leaveExtraPage()}),PUBLIC.on("helpLeave",function(){PRIVATE.leaveExtraPage()}),PUBLIC.on("previousMessage",function(){PUBLIC.previousMessage()}),PUBLIC.on("nextMessage",function(){PUBLIC.nextMessage()}),PUBLIC.on("savedMessage",function(argument){var ignoreCache=!1;"drafts"==PUBLIC.currentFolder.imapId&&(ignoreCache=!0),mailList.refreshFolder(ignoreCache,null,PUBLIC.lastSearch)}),PUBLIC.on("unreadClick",function(data){var currentMessage=data.elMessage,data=data.msg,currentMessageIsUnread;currentMessage.hasClass("unreaded")||PRIVATE.api.New.markMessagesAsUnreaded(data.mailBoxId,[data.id]).then(function(){currentMessage.classList.add("unreaded"),sidebar.FolderList.changeCount(1,PUBLIC.currentFolderEl)})}),PUBLIC.on("phishingReport",function(response){PRIVATE.modalPhishing.close()}),PUBLIC.on("genericTimeout",function(){PUBLIC.autosaveMessage(),PRIVATE.updateStatus()}),PUBLIC.on("mailList",function(){mailList.refreshFolder(void 0,null,PUBLIC.lastSearch)}),PUBLIC.on("pageChange",function(args){PUBLIC.trigger("page",args),PRIVATE.decisionToShowBtnSearch(args),PUBLIC.setTitlePageChange(args),PRIVATE.decisionToShowBtnLayoutChange(args)}),PUBLIC.on("windowFocusOut",function(){PUBLIC.windowIsVisible=!1}),PUBLIC.on("windowFocusIn",function(){PUBLIC.windowIsVisible=!0,PUBLIC.lastReceivedMsgsCounter=0,"mailList"===PRIVATE.actualPage.page&&"INBOX"===PRIVATE.actualPage.subpage.id&&PUBLIC.resetTitleWithoutStatus()}),PUBLIC.on("page",function(arg){/contacts|configuration|help-faq/.test(arg.page)?($("#mail-list").parent().hide(),$(".content__wrap div").eq(0).show()):/composer/.test(arg.page)?($("#mail-list").parent().hide(),sidebar.resetClassFlag(),sidebar.setClassFlag("flag-folder"),sidebar.newEmailBtn.classList.add("disabled"),$("#tools .tool.active").removeClass("active"),$("#header .autosugest__search").hide(),PRIVATE.buttons.newMail.classList.add("disabled")):(sidebar.resetClassFlag(),sidebar.setClassFlag("flag-folder"),sidebar.newEmailBtn.classList.remove("disabled"),PRIVATE.buttons.newMail.classList.remove("disabled"),$("#mail-list").parent().show(),$(".content__wrap div").eq(0).hide(),$("#tools .tool.active").removeClass("active"),""===$("#header input.autosugest__search__input").val()&&$("#header input.autosugest__search__input").val("").attr("placeholder",PUBLIC.l10n.get("filtrar_maillist")),$("#header .autosugest__search").show()),PRIVATE.actualPage=arg}),PUBLIC.on("pageChange",function(arg){var url;arg&&arg.page&&(url="#/"+arg.page,/mailList/.test(arg.page)?(url+="/"+arg.subpage.id,mailList.calculateMailListFill(),arg.mail&&(url+="/mail-"+arg.mail.id)):arg.subpage&&arg.subpage.id?url+="/"+arg.subpage.id:url+="/"+(arg.subpage||""),-1!==location.hash.indexOf("composer")&&PUBLIC.confirmLeaveMessage(),arg.url=url,PUBLIC.webmailScope.main.currentUrl=url,history.pushState(arg,null,url))}),PUBLIC.on("composerOpen",function(message){PUBLIC.trigger("pageChange",{page:"composer"})}),PUBLIC.on("discard",function(scope){scope.isPopUp||history.back(),mailList.refreshFolder(!0).then(function(){PUBLIC.trigger("pageChange",PRIVATE.actualPage)})}),PUBLIC.on("cancelMessage",function(scope){history.back(),mailList.refreshFolder().then(function(){PUBLIC.trigger("pageChange",PRIVATE.actualPage)})}),PUBLIC.on("draftSent",function(argument){mailList.refreshFolder(!0).then(function(){PUBLIC.trigger("pageChange",PRIVATE.actualPage)})}),PUBLIC.on("sendMessage",function(scope){scope.message.success&&mailList.refreshFolder().then(function(){PUBLIC.trigger("pageChange",PRIVATE.actualPage)})}),PUBLIC.on("errorSendMessage",function(params){PRIVATE.errSendAction(params),params&&params.response&&params.response.e&&-2===params.response.e.c&&(params.scope.isPopUp?params.scope.window:PUBLIC).showCaptcha("modal-captcha")}),PUBLIC.on("viewAttachmentsClick",function(scope){scope.mailComposer.MessageComposer.switchAttachments()}),PUBLIC.on("leaveMessage",function(){PUBLIC.leaveMessage()}),mailComposer.on("popUpClose",function(){PUBLIC.leaveMessage()}),PUBLIC.on("messageClick",function(message){var content={};return mailViewer.close(),pkg.context.page.set("currentMainMessage",message),("Rascunhos"==message.mailBoxId?PUBLIC.webmailScope.popUps["MessageWindow"+message.id]?(PUBLIC.webmailScope.popUps["MessageWindow"+message.id].window.focus(),PUBLIC.showDialog({message:PUBLIC.l10n.get("draft_open"),width:300,type:"success"}),Promise.resolve()):PRIVATE.api.New.editMessage(message.id).then(function(content){return mailComposer.MessageComposer.newMessage(content,message.mailBoxId,message.id)}):(message.flags=message.flags||[],mailViewer.loadMessage(message.mailBoxId,message.id).then(function(m){return-1<message.flags.indexOf("unreaded")&&sidebar.FolderList.changeCount(-1,PUBLIC.currentFolderEl),mailList.activeMessage(m),message}))).catch(function(error){console.error(error),PRIVATE.messageCLickError(message,PUBLIC.webmailScope.main)})}),PUBLIC.on("messageDoubleClick",function(message){var styleSheetList=window.document.styleSheets,messageWindowReference="MessageWindow"+message.id,renderedMailViewer,renderedMailContent,messageWindow;PUBLIC.webmailScope.popUps[messageWindowReference]?PUBLIC.webmailScope.popUps[messageWindowReference].window.focus():(messageWindow=PUBLIC.openWindow("",messageWindowReference,"width=850,height=800,location=no"))&&0!==messageWindow.outerHeight?pkg.includer.fetch(["mod.tinyMCE","mod.dropzone","mod.jQuery"]).then(function(components){var tinyMCEScripts=components["mod.tinyMCE"].includes,dropzoneScripts=components["mod.dropzone"].includes,components=components["mod.jQuery"].includes;renderedMailContent=PUBLIC.templates.get("mailContent").render({dict:PUBLIC.l10n}),renderedMailViewer=PUBLIC.templates.get("windowPopUp").render({dic:PUBLIC.l10n,mailContent:renderedMailContent,styleSheetList:styleSheetList,tinyMCEScripts:tinyMCEScripts,dropzoneScripts:dropzoneScripts,jqueryScripts:components,message:message,language:pkg.context.page.get("locale")}),PUBLIC.confirmLeaveMessage(function(){var pageVariante=pkg.context.page.get("pageVariante"),mailComposerPopUp,mailViewerPopUp,renderMessagePopup,waitForReady,htmlPopupClassname,tagHtmlPopup;messageWindow.document.open(),messageWindow.message=message,messageWindow.api=PRIVATE.api,messageWindow.urlService=PRIVATE.urlService,messageWindow.PUBLIC=PUBLIC,messageWindow.getMessageOID=function(){return mailComposerPopUp.getWritingMessageOID()},messageWindow.document.write(renderedMailViewer),messageWindow.document.close(),htmlPopupClassname=(tagHtmlPopup=messageWindow.document.querySelector("html")).className,tagHtmlPopup.setAttribute("class",htmlPopupClassname=htmlPopupClassname+" "+pageVariante),renderMessagePopup=function(){messageWindow.focus();var content={},target=messageWindow.document.querySelector("#mail-viewer");return PUBLIC.webmailScope.popUps[messageWindowReference].window=messageWindow,PUBLIC.webmailScope.popUps[messageWindowReference].isPopUp=!0,PUBLIC.webmailScope.popUps[messageWindowReference].messageId=message.id,PUBLIC.webmailScope.popUps[messageWindowReference].fromFolder=PUBLIC.currentFolder.imapId,mailViewerPopUp=new __shared.dependencies["app.MailViewer"]({controller:PUBLIC,target:messageWindow.document.querySelector("#mail-viewer"),api:PRIVATE.api,currentWindow:messageWindow,scope:PUBLIC.webmailScope.popUps[messageWindowReference]}),mailComposerPopUp=new __shared.dependencies["app.MailComposer"]({controller:PUBLIC,target:messageWindow.document.querySelector("#mail-composer"),service:PRIVATE.urlService,scope:PUBLIC.webmailScope.popUps[messageWindowReference],currentWindow:messageWindow}),mailViewerPopUp.init(),mailComposerPopUp.init(),PUBLIC.webmailScope.popUps[messageWindowReference].mailComposer=mailComposerPopUp,PUBLIC.webmailScope.popUps[messageWindowReference].mailViewerPopUp=mailViewerPopUp,pkg.context.page.set("openedWindowsReference",PUBLIC.webmailScope.popUps),PUBLIC.setupCallbacks(),("Rascunhos"==message.mailBoxId?PRIVATE.api.New.editMessage(message.id).then(function(content){PUBLIC.webmailScope.popUps[messageWindowReference].status="editing",messageWindow.status="editing",mailComposerPopUp.MessageComposer.newMessage(content,message.mailBoxId,message.id,target)}):(message.flags=message.flags||[],PUBLIC.trigger("messageClick",message),PUBLIC.webmailScope.popUps[messageWindowReference].status="reading",mailViewerPopUp.loadMessage(message.mailBoxId,message.id,target).then(function(m){var bodyMailViewerPopUp=messageWindow.document.getElementById("bodyMailViewer");return m.flags=m.flags.filter(function(i){return"unreaded"!=i}),bodyMailViewerPopUp.innerHTML=m.body||"",mailList.activeMessage(m),m}))).catch(function(error){console.error(error),PUBLIC.webmailScope.popUps[messageWindowReference]&&PRIVATE.messageCLickError(message,PUBLIC.webmailScope.popUps[messageWindowReference])})},waitForReady=function(){messageWindow.tinyMCE?renderMessagePopup():setTimeout(waitForReady,100)},document.documentMode||/Edge/.test(navigator.userAgent)||"Safari"==pkg.context.browser.getName()?waitForReady():messageWindow.document.body.onload=renderMessagePopup,messageWindow.onbeforeunload=function(){if("editing"===messageWindow.status)return""},messageWindow.onunload=function(){PUBLIC.closeWindow(messageWindowReference)}})},function(error){console.error(error)}):PUBLIC.showDialog({message:PUBLIC.l10n.get("blockedPopup"),type:"error"})}),PRIVATE.api.on("error401",function(args){window.location.replace("/")}),PRIVATE.api.on("contacts",function(contactList){PRIVATE.contacts.set("contacts",contactList)}),PRIVATE.api.on("contactList",function(contactList){PRIVATE.contacts.set("contacts",contactList)}),sidebar.on("composerReturn",function(){$(".card.configs").hide(),$("#mail-list").parent().hide(),$("#mail-composer").show()}),sidebar.on("newMail",function(){PRIVATE.performNewMail()}),sidebar.on("clickFolder",pkg.utils.make.debounce(function(folder){sidebar.ignore=!0,sidebar.hide(),PUBLIC.switchToFolder(folder).then(function(messages){PUBLIC.trigger("pageChange",{page:"mailList",subpage:folder,messages:messages}),setTimeout(function(){sidebar.ignore=!1},500)})},{})),sidebar.on("clear-all",function(folder){var buttons={},isCurrentFolder=mailList.getCurrentFolder().id==folder.id,arrTranslate=[[PUBLIC.l10n.get("sim")],[PUBLIC.l10n.get("nao")]],list=[];buttons.btn1=function(){var waitModal=PRIVATE.waitModal();PRIVATE.api.New.removeAllFromFolder(folder.name,folder.id).then(function(argument){PRIVATE.api.New.getMailBoxStatus(folder.id).then(function(response){sidebar.FolderList.setCount(response.unseenCount,sidebar.getFolder(folder)),isCurrentFolder?mailList.refreshFolder().then(function(){(list=$("tbody tr",$(mailList.target))).length&&list.remove(),waitModal.close()}):waitModal.close()}).catch(function(err){isCurrentFolder?mailList.refreshFolder().then(function(){waitModal.close()}):waitModal.close()})}),this.close()},buttons.btn2=function(){this.close()},PUBLIC.showDialog({message:PUBLIC.l10n.get("apagarTodoConteudo"),type:"info",modal:!0,timeout:!1,overlay:!0,innerButtons:buttons,translateBtn:arrTranslate})}),sidebar.on("switchToFolder",function(folder){mailViewer.filterFolders(folder),PUBLIC.trigger("switchToFolder",folder)}),mailList.on("getstatus",function(response){sidebar.FolderList.setCount(response.unseenCount,sidebar.getFolder(response.folder))}),mailList.on("toTrash",function(data){var objCurrentMessage=mailViewer.getMessage(),r;objCurrentMessage&&1===data.messages.filter(function(el){return el===objCurrentMessage.id}).length&&(mailViewer.close(),mailList.openUncheckNextMessage(objCurrentMessage.id))}),mailList.on("clear-all",function(folder){var buttons={},isCurrentFolder=mailList.getCurrentFolder().id==folder.id,arrTranslate=[[PUBLIC.l10n.get("sim")],[PUBLIC.l10n.get("nao")]],list=[];buttons.btn1=function(){var waitModal=PRIVATE.waitModal();PRIVATE.api.New.removeAllFromFolder(folder.name,folder.id).then(function(argument){PRIVATE.api.New.getMailBoxStatus(folder.id).then(function(response){sidebar.FolderList.setCount(response.unseenCount,sidebar.getFolder(folder)),isCurrentFolder?mailList.refreshFolder().then(function(){(list=$("tbody tr",$(mailList.target))).length&&list.remove(),waitModal.close()}):waitModal.close()}).catch(function(err){isCurrentFolder?mailList.refreshFolder().then(function(){waitModal.close()}):waitModal.close()})}),this.close()},buttons.btn2=function(){this.close()},PUBLIC.showDialog({message:PUBLIC.l10n.get("apagarTodoConteudo"),type:"info",modal:!0,body:'<div class="spinner"></div>',timeout:!1,overlay:!0,innerButtons:buttons,translateBtn:arrTranslate})}),PUBLIC.webmailScope.main.mailList=mailList,PUBLIC.webmailScope.main.mailComposer=mailComposer,PUBLIC.webmailScope.main.mailViewer=mailViewer,PUBLIC.webmailScope.main.mailViewer.on("show",function(mail){PUBLIC.trigger("pageChange",function(obj){for(var i in obj)!this[i]&&obj.hasOwnProperty(i)&&(this[i]=obj[i]);return this}.bind({mail:mail})(PRIVATE.actualPage))}),mailList.calculateMailListFill(),mailList.MessageList.callbacks.parseContactMailViewer=mailViewer.parseContact,PRIVATE.api.New.getProfile(!0).then(function(profile){var relatedContentEnabled;"EMP"===profile.perfil||PRIVATE.adsBlackList()?(PRIVATE.advisor.parentElement.classList.add("emp"),PRIVATE.enableWarningArea()&&PRIVATE.initWarningArea()):(PRIVATE.initAdvisorBar(relatedContentEnabled=!1),PRIVATE.initAdvisorContentAd())}),sidebar.resetClassFlag(),sidebar.setClassFlag("flag-folder"),PUBLIC.init(),PRIVATE.ozoneTimeout(),PRIVATE.startGestureEvents(),PUBLIC},teardown:function(why,__static,__proto,__shared){}})}),zaz.use(function(pkg){"use strict";var STATIC_PRIVATE={mods:{}};pkg.factoryManager.get("app").create({name:"ozoneContext",version:"1.0.0",state:"ok",dependencies:["mod.promise","mod.Analytics","app.Modal"],dictionaries:["webmail"],expects:{logged:{type:"boolean",required:!0}},setup:function(__static,__proto,__shared){pkg.utils.merge(STATIC_PRIVATE.mods,__shared.dependencies.mod,__shared.dependencies.app),STATIC_PRIVATE.i18n=__proto.l10n},init:function(data,__shared){var PUBLIC=this,PRIVATE={},Modal=__shared.dependencies["app.Modal"],Analytics=__shared.dependencies["mod.Analytics"],isMobile="mob"===pkg.context.platform.getType();return PRIVATE.onResize=function(){var offsetwidth=window.document.body.offsetWidth;PRIVATE.enableDisableESLogiADS(),970<=offsetwidth&&PRIVATE.showBottomBanner()},PRIVATE.enableDisableESLogiADS=function(){var elemment=document.querySelector(".disabled-in-es-lt970"),offsetwidth=window.document.body.offsetWidth,display="block",country=pkg.context.page.country;offsetwidth<970&&"br"!==country&&(display="none"),elemment&&(elemment.style.display=display)},PRIVATE.showDialog=function(data){var m;return new Modal({classId:data.classId,width:data.width?parseInt(data.width)+"px":"",scope:data.scope,buttons:data.buttons,header:data.header,closeOnLeave:data.closeOnLeave,btnClose:data.btnClose,contentType:data.contentType,innerButtons:data.innerButtons||{},body:data.message||data.body,type:data.type||"success",timeout:data.timeout,open:data.open,overlay:data.overlay,close:data.close})},PRIVATE.registerPV=function(){return new STATIC_PRIVATE.mods.promise(function(resolve,reject){pkg.require(["mod.metrics"],function(){terra_stats_metrics(),pkg.context.page.at("register-metrics",function(data){"app.relatedContent"===data.sender&&"card-view"===data.type&&data.cards&&window.terra_stats_regTraffic({cards:data.cards})}),resolve()})})},PRIVATE.updateStalker=function(){return new STATIC_PRIVATE.mods.promise(function(resolve,reject){window.userProfile&&window.userProfile.idPerm?pkg.require(["mod.stalker"],function(Stalker){var s;(new Stalker).setAttribute("accounts/terra/id",window.userProfile.idPerm).then(resolve)}):resolve()})},PRIVATE.metricPanelOrientation=function(){var panelOrientation=window.userConfiguration.mailview_panel_orientation,panelOrientationStyle;"0"===panelOrientation&&(panelOrientationStyle="line"),(panelOrientationStyle="1"===panelOrientation?window.innerWidth<=1024?"line":"column":panelOrientationStyle)&&Analytics.panel.orientation(panelOrientationStyle)},PRIVATE.showBottomBanner=function(){PRIVATE.bottomBannerInitialized||(PRIVATE.bottomBannerInitialized=!0,PRIVATE.adManager.stickAd({placeholder:document.getElementById("mailAdFooter"),area:"cabeceira",tgmkey:pkg.context.page.get("tgmkey").login}))},PRIVATE.showLoginAds=function(){return new STATIC_PRIVATE.mods.promise(function(resolve,reject){resolve(),pkg.require(["mod.adManager"],function(AdManager){window.AdManager.configure({DFP_TIMEOUT:3e3,PLATFORM:"web",TGMKEY:pkg.context.page.get("tgmkey").login}),window.AdManager.setup({tgmkey:pkg.context.page.get("tgmkey").login}).then(function(){PRIVATE.adManager=new window.AdManager,PRIVATE.adManager.stickAd({placeholder:document.getElementById("mailAds"),area:"s1",tgmkey:pkg.context.page.get("tgmkey").login}),window.addEventListener("resize",PRIVATE.onResize),PRIVATE.onResize(),resolve()})})})},PRIVATE.showCarousel=function(){return new STATIC_PRIVATE.mods.promise(function(resolve,reject){"br"===pkg.context.page.get("country")&&"terra"===pkg.context.page.get("variant")?pkg.require(["mod.carousel"],function(Carousel){var c,c=new Carousel({containerSelector:"#mailBannerAds",bullets:!0,step:{type:"item",size:1},effect:{type:"fade",duration:1e3,autoplay:!0,autoplayDuration:6e3}});resolve()}):resolve()})},PRIVATE.isPrevEnv=function(){return/preview/gi.test(window.location.pathname)},PRIVATE.successRedirect=function(obj){var queryString=window.location.search,obj=obj.url+queryString;PRIVATE.isPrevEnv()&&(obj="/preview"),window.location=obj},PRIVATE.setDmpPixel=function(){for(var userprofile=window.userProfile,dmpHashList=userprofile&&userprofile.dmpHashs?userprofile.dmpHashs:[],i=0;i<dmpHashList.length;i++){var imgElement=document.createElement("img");imgElement.setAttribute("class","img-dmp-pixel"),imgElement.src="//m.t.tailtarget.com/sync/tt-10969-0/"+dmpHashList[i],imgElement.style.position="fixed",imgElement.style.zIndex=-1,document.body.appendChild(imgElement)}},document.querySelector(data.logged?"#mail":"#login").classList.remove("hidden"),data.logged?(pkg.require("app.OzoneWebMail",function(OzoneWebMail){var ozone=new OzoneWebMail({target:document.querySelector("#target")}).on("ready",function(){isMobile||PRIVATE.registerPV().then(function(){PRIVATE.metricPanelOrientation(),PRIVATE.setDmpPixel()})})}),pkg.require(["app.userDataUpdate"],function(UserDataUpdate){var userDataUpdate=new UserDataUpdate({environment:"webmail"})})):pkg.require(["app.Login"],function(OzoneLogin){var ozoneLogin;new OzoneLogin({}).on("loginSuccessful",function(obj){obj.user_auth_with_domain?PRIVATE.showDialog({message:PUBLIC.l10n.get("authDomainUserAddress")+" "+obj.user_auth_with_domain,timeout:!1,type:"info",modal:!0,overlay:!0,innerButtons:{OK:function(){PRIVATE.successRedirect(obj)}}}):PRIVATE.successRedirect(obj)}),isMobile||"br"!==pkg.context.page.get("country")||"terraemp"==pkg.context.page.get("variant")||PRIVATE.showLoginAds().then(function(){PRIVATE.registerPV().then(function(){PRIVATE.showCarousel()})})}),PUBLIC},teardown:function(why,__static,__proto,__shared){}})});